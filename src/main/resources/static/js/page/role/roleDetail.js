/*! jQuery v1.7.2 jquery.com | jquery.org/license */

/**
 * jQuery Validation Plugin 1.9.0
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright (c) 2006 - 2011 JÃ¶rn Zaefferer
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */

function isIdCardNo(e){var t,i=e.length;if(15==i)t=new RegExp(/^(\d{6})()?(\d{2})(\d{2})(\d{2})(\d{2})(\w)$/);else{if(18!=i)return!1;t=new RegExp(/^(\d{6})()?(\d{4})(\d{2})(\d{2})(\d{3})(\w)$/)}var r=e.match(t);if(null!=r){if(15==i)var n=new Date("19"+r[3]+"/"+r[4]+"/"+r[5]),o=n.getYear()==r[3]&&n.getMonth()+1==r[4]&&n.getDate()==r[5];else var n=new Date(r[3]+"/"+r[4]+"/"+r[5]),o=n.getFullYear()==r[3]&&n.getMonth()+1==r[4]&&n.getDate()==r[5];if(!o)return!1}return!!t.test(e)}!function(e,t){function i(e){return z.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}function r(e){if(!vt[e]){var t=N.body,i=z("<"+e+">").appendTo(t),r=i.css("display");i.remove(),"none"!==r&&""!==r||(gt||(gt=N.createElement("iframe"),gt.frameBorder=gt.width=gt.height=0),t.appendChild(gt),pt&&gt.createElement||(pt=(gt.contentWindow||gt.contentDocument).document,pt.write((z.support.boxModel?"<!doctype html>":"")+"<html><body>"),pt.close()),i=pt.createElement(e),pt.body.appendChild(i),r=z.css(i,"display"),t.removeChild(gt)),vt[e]=r}return vt[e]}function n(e,t){var i={};return z.each(wt.concat.apply([],wt.slice(0,t)),function(){i[this]=e}),i}function o(){mt=t}function a(){return setTimeout(o,0),mt=z.now()}function s(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function l(){try{return new e.XMLHttpRequest}catch(e){}}function d(e,i){e.dataFilter&&(i=e.dataFilter(i,e.dataType));var r,n,o,a,s,l,d,u,c=e.dataTypes,h={},g=c.length,p=c[0];for(r=1;r<g;r++){if(1===r)for(n in e.converters)"string"==typeof n&&(h[n.toLowerCase()]=e.converters[n]);if(a=p,"*"===(p=c[r]))p=a;else if("*"!==a&&a!==p){if(s=a+" "+p,!(l=h[s]||h["* "+p])){u=t;for(d in h)if(o=d.split(" "),(o[0]===a||"*"===o[0])&&(u=h[o[1]+" "+p])){d=h[d],!0===d?l=u:!0===u&&(l=d);break}}!l&&!u&&z.error("No conversion from "+s.replace(" "," to ")),!0!==l&&(i=l?l(i):u(d(i)))}}return i}function u(e,i,r){var n,o,a,s,l=e.contents,d=e.dataTypes,u=e.responseFields;for(o in u)o in r&&(i[u[o]]=r[o]);for(;"*"===d[0];)d.shift(),n===t&&(n=e.mimeType||i.getResponseHeader("content-type"));if(n)for(o in l)if(l[o]&&l[o].test(n)){d.unshift(o);break}if(d[0]in r)a=d[0];else{for(o in r){if(!d[0]||e.converters[o+" "+d[0]]){a=o;break}s||(s=o)}a=a||s}if(a)return a!==d[0]&&d.unshift(a),r[a]}function c(e,t,i,r){if(z.isArray(t))z.each(t,function(t,n){i||We.test(e)?r(e,n):c(e+"["+("object"==typeof n?t:"")+"]",n,i,r)});else if(i||"object"!==z.type(t))r(e,t);else for(var n in t)c(e+"["+n+"]",t[n],i,r)}function h(e,i){var r,n,o=z.ajaxSettings.flatOptions||{};for(r in i)i[r]!==t&&((o[r]?e:n||(n={}))[r]=i[r]);n&&z.extend(!0,e,n)}function g(e,i,r,n,o,a){o=o||i.dataTypes[0],a=a||{},a[o]=!0;for(var s,l=e[o],d=0,u=l?l.length:0,c=e===ot;d<u&&(c||!s);d++)"string"==typeof(s=l[d](i,r,n))&&(!c||a[s]?s=t:(i.dataTypes.unshift(s),s=g(e,i,r,n,s,a)));return(c||!s)&&!a["*"]&&(s=g(e,i,r,n,"*",a)),s}function p(e){return function(t,i){if("string"!=typeof t&&(i=t,t="*"),z.isFunction(i))for(var r,n,o,a=t.toLowerCase().split(tt),s=0,l=a.length;s<l;s++)r=a[s],o=/^\+/.test(r),o&&(r=r.substr(1)||"*"),n=e[r]=e[r]||[],n[o?"unshift":"push"](i)}}function f(e,t,i){var r="width"===t?e.offsetWidth:e.offsetHeight,n="width"===t?1:0;if(r>0){if("border"!==i)for(;n<4;n+=2)i||(r-=parseFloat(z.css(e,"padding"+Me[n]))||0),"margin"===i?r+=parseFloat(z.css(e,i+Me[n]))||0:r-=parseFloat(z.css(e,"border"+Me[n]+"Width"))||0;return r+"px"}if(r=Se(e,t),(r<0||null==r)&&(r=e.style[t]),Ie.test(r))return r;if(r=parseFloat(r)||0,i)for(;n<4;n+=2)r+=parseFloat(z.css(e,"padding"+Me[n]))||0,"padding"!==i&&(r+=parseFloat(z.css(e,"border"+Me[n]+"Width"))||0),"margin"===i&&(r+=parseFloat(z.css(e,i+Me[n]))||0);return r+"px"}function m(e){var t=N.createElement("div");return $e.appendChild(t),t.innerHTML=e.outerHTML,t.firstChild}function v(e){var t=(e.nodeName||"").toLowerCase();"input"===t?y(e):"script"!==t&&void 0!==e.getElementsByTagName&&z.grep(e.getElementsByTagName("input"),y)}function y(e){"checkbox"!==e.type&&"radio"!==e.type||(e.defaultChecked=e.checked)}function b(e){return void 0!==e.getElementsByTagName?e.getElementsByTagName("*"):void 0!==e.querySelectorAll?e.querySelectorAll("*"):[]}function w(e,t){var i;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),i=t.nodeName.toLowerCase(),"object"===i?t.outerHTML=e.outerHTML:"input"!==i||"checkbox"!==e.type&&"radio"!==e.type?"option"===i?t.selected=e.defaultSelected:"input"===i||"textarea"===i?t.defaultValue=e.defaultValue:"script"===i&&t.text!==e.text&&(t.text=e.text):(e.checked&&(t.defaultChecked=t.checked=e.checked),t.value!==e.value&&(t.value=e.value)),t.removeAttribute(z.expando),t.removeAttribute("_submit_attached"),t.removeAttribute("_change_attached"))}function x(e,t){if(1===t.nodeType&&z.hasData(e)){var i,r,n,o=z._data(e),a=z._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(i in s)for(r=0,n=s[i].length;r<n;r++)z.event.add(t,i,s[i][r])}a.data&&(a.data=z.extend({},a.data))}}function _(e,t){return z.nodeName(e,"table")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function C(e){var t=pe.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function D(e,t,i){if(t=t||0,z.isFunction(t))return z.grep(e,function(e,r){return!!t.call(e,r,e)===i});if(t.nodeType)return z.grep(e,function(e,r){return e===t===i});if("string"==typeof t){var r=z.grep(e,function(e){return 1===e.nodeType});if(ue.test(t))return z.filter(t,r,!i);t=z.filter(t,r)}return z.grep(e,function(e,r){return z.inArray(e,t)>=0===i})}function k(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function T(){return!0}function F(){return!1}function $(e,t,i){var r=t+"defer",n=t+"queue",o=t+"mark",a=z._data(e,r);a&&("queue"===i||!z._data(e,n))&&("mark"===i||!z._data(e,o))&&setTimeout(function(){!z._data(e,n)&&!z._data(e,o)&&(z.removeData(e,r,!0),a.fire())},0)}function S(e){for(var t in e)if(("data"!==t||!z.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function R(e,i,r){if(r===t&&1===e.nodeType){var n="data-"+i.replace(B,"-$1").toLowerCase();if("string"==typeof(r=e.getAttribute(n))){try{r="true"===r||"false"!==r&&("null"===r?null:z.isNumeric(r)?+r:L.test(r)?z.parseJSON(r):r)}catch(e){}z.data(e,i,r)}else r=t}return r}function E(e){var t,i,r=I[e]={};for(e=e.split(/\s+/),t=0,i=e.length;t<i;t++)r[e[t]]=!0;return r}var N=e.document,A=e.navigator,j=e.location,z=function(){function i(){if(!s.isReady){try{N.documentElement.doScroll("left")}catch(e){return void setTimeout(i,1)}s.ready()}}var r,n,o,a,s=function(e,t){return new s.fn.init(e,t,r)},l=e.jQuery,d=e.$,u=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,c=/\S/,h=/^\s+/,g=/\s+$/,p=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,f=/^[\],:{}\s]*$/,m=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,v=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,y=/(?:^|:|,)(?:\s*\[)+/g,b=/(webkit)[ \/]([\w.]+)/,w=/(opera)(?:.*version)?[ \/]([\w.]+)/,x=/(msie) ([\w.]+)/,_=/(mozilla)(?:.*? rv:([\w.]+))?/,C=/-([a-z]|[0-9])/gi,D=/^-ms-/,k=function(e,t){return(t+"").toUpperCase()},T=A.userAgent,F=Object.prototype.toString,$=Object.prototype.hasOwnProperty,S=Array.prototype.push,R=Array.prototype.slice,E=String.prototype.trim,j=Array.prototype.indexOf,z={};return s.fn=s.prototype={constructor:s,init:function(e,i,r){var n,o,a,l;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("body"===e&&!i&&N.body)return this.context=N,this[0]=N.body,this.selector=e,this.length=1,this;if("string"==typeof e){if((n="<"!==e.charAt(0)||">"!==e.charAt(e.length-1)||e.length<3?u.exec(e):[null,e,null])&&(n[1]||!i)){if(n[1])return i=i instanceof s?i[0]:i,l=i?i.ownerDocument||i:N,a=p.exec(e),a?s.isPlainObject(i)?(e=[N.createElement(a[1])],s.fn.attr.call(e,i,!0)):e=[l.createElement(a[1])]:(a=s.buildFragment([n[1]],[l]),e=(a.cacheable?s.clone(a.fragment):a.fragment).childNodes),s.merge(this,e);if((o=N.getElementById(n[2]))&&o.parentNode){if(o.id!==n[2])return r.find(e);this.length=1,this[0]=o}return this.context=N,this.selector=e,this}return!i||i.jquery?(i||r).find(e):this.constructor(i).find(e)}return s.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),s.makeArray(e,this))},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return R.call(this,0)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,i){var r=this.constructor();return s.isArray(e)?S.apply(r,e):s.merge(r,e),r.prevObject=this,r.context=this.context,"find"===t?r.selector=this.selector+(this.selector?" ":"")+i:t&&(r.selector=this.selector+"."+t+"("+i+")"),r},each:function(e,t){return s.each(this,e,t)},ready:function(e){return s.bindReady(),o.add(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(R.apply(this,arguments),"slice",R.call(arguments).join(","))},map:function(e){return this.pushStack(s.map(this,function(t,i){return e.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:S,sort:[].sort,splice:[].splice},s.fn.init.prototype=s.fn,s.extend=s.fn.extend=function(){var e,i,r,n,o,a,l=arguments[0]||{},d=1,u=arguments.length,c=!1;for("boolean"==typeof l&&(c=l,l=arguments[1]||{},d=2),"object"!=typeof l&&!s.isFunction(l)&&(l={}),u===d&&(l=this,--d);d<u;d++)if(null!=(e=arguments[d]))for(i in e)r=l[i],n=e[i],l!==n&&(c&&n&&(s.isPlainObject(n)||(o=s.isArray(n)))?(o?(o=!1,a=r&&s.isArray(r)?r:[]):a=r&&s.isPlainObject(r)?r:{},l[i]=s.extend(c,a,n)):n!==t&&(l[i]=n));return l},s.extend({noConflict:function(t){return e.$===s&&(e.$=d),t&&e.jQuery===s&&(e.jQuery=l),s},isReady:!1,readyWait:1,holdReady:function(e){e?s.readyWait++:s.ready(!0)},ready:function(e){if(!0===e&&!--s.readyWait||!0!==e&&!s.isReady){if(!N.body)return setTimeout(s.ready,1);if(s.isReady=!0,!0!==e&&--s.readyWait>0)return;o.fireWith(N,[s]),s.fn.trigger&&s(N).trigger("ready").off("ready")}},bindReady:function(){if(!o){if(o=s.Callbacks("once memory"),"complete"===N.readyState)return setTimeout(s.ready,1);if(N.addEventListener)N.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",s.ready,!1);else if(N.attachEvent){N.attachEvent("onreadystatechange",a),e.attachEvent("onload",s.ready);var t=!1;try{t=null==e.frameElement}catch(e){}N.documentElement.doScroll&&t&&i()}}},isFunction:function(e){return"function"===s.type(e)},isArray:Array.isArray||function(e){return"array"===s.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):z[F.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==s.type(e)||e.nodeType||s.isWindow(e))return!1;try{if(e.constructor&&!$.call(e,"constructor")&&!$.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var i;for(i in e);return i===t||$.call(e,i)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw new Error(e)},parseJSON:function(t){return"string"==typeof t&&t?(t=s.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):f.test(t.replace(m,"@").replace(v,"]").replace(y,""))?new Function("return "+t)():void s.error("Invalid JSON: "+t)):null},parseXML:function(i){if("string"!=typeof i||!i)return null;var r,n;try{e.DOMParser?(n=new DOMParser,r=n.parseFromString(i,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(i))}catch(e){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&s.error("Invalid XML: "+i),r},noop:function(){},globalEval:function(t){t&&c.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(D,"ms-").replace(C,k)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,i,r){var n,o=0,a=e.length,l=a===t||s.isFunction(e);if(r)if(l){for(n in e)if(!1===i.apply(e[n],r))break}else for(;o<a&&!1!==i.apply(e[o++],r););else if(l){for(n in e)if(!1===i.call(e[n],n,e[n]))break}else for(;o<a&&!1!==i.call(e[o],o,e[o++]););return e},trim:E?function(e){return null==e?"":E.call(e)}:function(e){return null==e?"":(e+"").replace(h,"").replace(g,"")},makeArray:function(e,t){var i=t||[];if(null!=e){var r=s.type(e);null==e.length||"string"===r||"function"===r||"regexp"===r||s.isWindow(e)?S.call(i,e):s.merge(i,e)}return i},inArray:function(e,t,i){var r;if(t){if(j)return j.call(t,e,i);for(r=t.length,i=i?i<0?Math.max(0,r+i):i:0;i<r;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,i){var r=e.length,n=0;if("number"==typeof i.length)for(var o=i.length;n<o;n++)e[r++]=i[n];else for(;i[n]!==t;)e[r++]=i[n++];return e.length=r,e},grep:function(e,t,i){var r,n=[];i=!!i;for(var o=0,a=e.length;o<a;o++)r=!!t(e[o],o),i!==r&&n.push(e[o]);return n},map:function(e,i,r){var n,o,a=[],l=0,d=e.length;if(e instanceof s||d!==t&&"number"==typeof d&&(d>0&&e[0]&&e[d-1]||0===d||s.isArray(e)))for(;l<d;l++)null!=(n=i(e[l],l,r))&&(a[a.length]=n);else for(o in e)null!=(n=i(e[o],o,r))&&(a[a.length]=n);return a.concat.apply([],a)},guid:1,proxy:function(e,i){if("string"==typeof i){var r=e[i];i=e,e=r}if(!s.isFunction(e))return t;var n=R.call(arguments,2),o=function(){return e.apply(i,n.concat(R.call(arguments)))};return o.guid=e.guid=e.guid||o.guid||s.guid++,o},access:function(e,i,r,n,o,a,l){var d,u=null==r,c=0,h=e.length;if(r&&"object"==typeof r){for(c in r)s.access(e,i,c,r[c],1,a,n);o=1}else if(n!==t){if(d=l===t&&s.isFunction(n),u&&(d?(d=i,i=function(e,t,i){return d.call(s(e),i)}):(i.call(e,n),i=null)),i)for(;c<h;c++)i(e[c],r,d?n.call(e[c],c,i(e[c],r)):n,l);o=1}return o?e:u?i.call(e):h?i(e[0],r):a},now:function(){return(new Date).getTime()},uaMatch:function(e){e=e.toLowerCase();var t=b.exec(e)||w.exec(e)||x.exec(e)||e.indexOf("compatible")<0&&_.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},sub:function(){function e(t,i){return new e.fn.init(t,i)}s.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(i,r){return r&&r instanceof s&&!(r instanceof e)&&(r=e(r)),s.fn.init.call(this,i,r,t)},e.fn.init.prototype=e.fn;var t=e(N);return e},browser:{}}),s.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){z["[object "+t+"]"]=t.toLowerCase()}),n=s.uaMatch(T),n.browser&&(s.browser[n.browser]=!0,s.browser.version=n.version),s.browser.webkit&&(s.browser.safari=!0),c.test(" ")&&(h=/^[\s\xA0]+/,g=/[\s\xA0]+$/),r=s(N),N.addEventListener?a=function(){N.removeEventListener("DOMContentLoaded",a,!1),s.ready()}:N.attachEvent&&(a=function(){"complete"===N.readyState&&(N.detachEvent("onreadystatechange",a),s.ready())}),s}(),I={};z.Callbacks=function(e){e=e?I[e]||E(e):{};var i,r,n,o,a,s,l=[],d=[],u=function(t){var i,r,n,o;for(i=0,r=t.length;i<r;i++)n=t[i],o=z.type(n),"array"===o?u(n):"function"===o&&(!e.unique||!h.has(n))&&l.push(n)},c=function(t,u){for(u=u||[],i=!e.memory||[t,u],r=!0,n=!0,s=o||0,o=0,a=l.length;l&&s<a;s++)if(!1===l[s].apply(t,u)&&e.stopOnFalse){i=!0;break}n=!1,l&&(e.once?!0===i?h.disable():l=[]:d&&d.length&&(i=d.shift(),h.fireWith(i[0],i[1])))},h={add:function(){if(l){var e=l.length;u(arguments),n?a=l.length:i&&!0!==i&&(o=e,c(i[0],i[1]))}return this},remove:function(){if(l)for(var t=arguments,i=0,r=t.length;i<r;i++)for(var o=0;o<l.length&&(t[i]!==l[o]||(n&&o<=a&&(a--,o<=s&&s--),l.splice(o--,1),!e.unique));o++);return this},has:function(e){if(l)for(var t=0,i=l.length;t<i;t++)if(e===l[t])return!0;return!1},empty:function(){return l=[],this},disable:function(){return l=d=i=t,this},disabled:function(){return!l},lock:function(){return d=t,(!i||!0===i)&&h.disable(),this},locked:function(){return!d},fireWith:function(t,r){return d&&(n?e.once||d.push([t,r]):(!e.once||!i)&&c(t,r)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!r}};return h};var P=[].slice;z.extend({Deferred:function(e){var t,i=z.Callbacks("once memory"),r=z.Callbacks("once memory"),n=z.Callbacks("memory"),o="pending",a={resolve:i,reject:r,notify:n},s={done:i.add,fail:r.add,progress:n.add,state:function(){return o},isResolved:i.fired,isRejected:r.fired,then:function(e,t,i){return l.done(e).fail(t).progress(i),this},always:function(){return l.done.apply(l,arguments).fail.apply(l,arguments),this},pipe:function(e,t,i){return z.Deferred(function(r){z.each({done:[e,"resolve"],fail:[t,"reject"],progress:[i,"notify"]},function(e,t){var i,n=t[0],o=t[1];z.isFunction(n)?l[e](function(){i=n.apply(this,arguments),i&&z.isFunction(i.promise)?i.promise().then(r.resolve,r.reject,r.notify):r[o+"With"](this===l?r:this,[i])}):l[e](r[o])})}).promise()},promise:function(e){if(null==e)e=s;else for(var t in s)e[t]=s[t];return e}},l=s.promise({});for(t in a)l[t]=a[t].fire,l[t+"With"]=a[t].fireWith;return l.done(function(){o="resolved"},r.disable,n.lock).fail(function(){o="rejected"},i.disable,n.lock),e&&e.call(l,l),l},when:function(e){var t=P.call(arguments,0),i=0,r=t.length,n=Array(r),o=r,a=r<=1&&e&&z.isFunction(e.promise)?e:z.Deferred(),s=a.promise();if(r>1){for(;i<r;i++)t[i]&&t[i].promise&&z.isFunction(t[i].promise)?t[i].promise().then(function(e){return function(i){t[e]=arguments.length>1?P.call(arguments,0):i,--o||a.resolveWith(a,t)}}(i),a.reject,function(e){return function(t){n[e]=arguments.length>1?P.call(arguments,0):t,a.notifyWith(s,n)}}(i)):--o;o||a.resolveWith(a,t)}else a!==e&&a.resolveWith(a,r?[e]:[]);return s}}),z.support=function(){var t,i,r,n,o,a,s,l,d,u,c,h=N.createElement("div");N.documentElement;if(h.setAttribute("className","t"),h.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",i=h.getElementsByTagName("*"),r=h.getElementsByTagName("a")[0],!i||!i.length||!r)return{};n=N.createElement("select"),o=n.appendChild(N.createElement("option")),a=h.getElementsByTagName("input")[0],t={leadingWhitespace:3===h.firstChild.nodeType,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.55/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:"on"===a.value,optSelected:o.selected,getSetAttribute:"t"!==h.className,enctype:!!N.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==N.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},z.boxModel=t.boxModel="CSS1Compat"===N.compatMode,a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,n.disabled=!0,t.optDisabled=!o.disabled;try{delete h.test}catch(e){t.deleteExpando=!1}if(!h.addEventListener&&h.attachEvent&&h.fireEvent&&(h.attachEvent("onclick",function(){t.noCloneEvent=!1}),h.cloneNode(!0).fireEvent("onclick")),a=N.createElement("input"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","checked"),a.setAttribute("name","t"),h.appendChild(a),s=N.createDocumentFragment(),s.appendChild(h.lastChild),t.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=a.checked,s.removeChild(a),s.appendChild(h),h.attachEvent)for(u in{submit:1,change:1,focusin:1})d="on"+u,c=d in h,c||(h.setAttribute(d,"return;"),c="function"==typeof h[d]),t[u+"Bubbles"]=c;return s.removeChild(h),s=n=o=h=a=null,z(function(){var i,r,n,o,a,s,d,u,g,p,f,m,v=N.getElementsByTagName("body")[0];!v||(d=1,m="padding:0;margin:0;border:",p="position:absolute;top:0;left:0;width:1px;height:1px;",f=m+"0;visibility:hidden;",u="style='"+p+m+"5px solid #000;",g="<div "+u+"display:block;'><div style='"+m+"0;display:block;overflow:hidden;'></div></div><table "+u+"' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",i=N.createElement("div"),i.style.cssText=f+"width:0;height:0;position:static;top:0;margin-top:"+d+"px",v.insertBefore(i,v.firstChild),h=N.createElement("div"),i.appendChild(h),h.innerHTML="<table><tr><td style='"+m+"0;display:none'></td><td>t</td></tr></table>",l=h.getElementsByTagName("td"),c=0===l[0].offsetHeight,l[0].style.display="",l[1].style.display="none",t.reliableHiddenOffsets=c&&0===l[0].offsetHeight,e.getComputedStyle&&(h.innerHTML="",s=N.createElement("div"),s.style.width="0",s.style.marginRight="0",h.style.width="2px",h.appendChild(s),t.reliableMarginRight=0===(parseInt((e.getComputedStyle(s,null)||{marginRight:0}).marginRight,10)||0)),void 0!==h.style.zoom&&(h.innerHTML="",h.style.width=h.style.padding="1px",h.style.border=0,h.style.overflow="hidden",h.style.display="inline",h.style.zoom=1,t.inlineBlockNeedsLayout=3===h.offsetWidth,h.style.display="block",h.style.overflow="visible",h.innerHTML="<div style='width:5px;'></div>",t.shrinkWrapBlocks=3!==h.offsetWidth),h.style.cssText=p+f,h.innerHTML=g,r=h.firstChild,n=r.firstChild,o=r.nextSibling.firstChild.firstChild,a={doesNotAddBorder:5!==n.offsetTop,doesAddBorderForTableAndCells:5===o.offsetTop},n.style.position="fixed",n.style.top="20px",a.fixedPosition=20===n.offsetTop||15===n.offsetTop,n.style.position=n.style.top="",r.style.overflow="hidden",r.style.position="relative",a.subtractsBorderForOverflowNotVisible=-5===n.offsetTop,a.doesNotIncludeMarginInBodyOffset=v.offsetTop!==d,e.getComputedStyle&&(h.style.marginTop="1%",t.pixelMargin="1%"!==(e.getComputedStyle(h,null)||{marginTop:0}).marginTop),void 0!==i.style.zoom&&(i.style.zoom=1),v.removeChild(i),s=h=i=null,z.extend(t,a))}),t}();var L=/^(?:\{.*\}|\[.*\])$/,B=/([A-Z])/g;z.extend({cache:{},uuid:0,expando:"jQuery"+(z.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return!!(e=e.nodeType?z.cache[e[z.expando]]:e[z.expando])&&!S(e)},data:function(e,i,r,n){if(z.acceptData(e)){var o,a,s,l=z.expando,d="string"==typeof i,u=e.nodeType,c=u?z.cache:e,h=u?e[l]:e[l]&&l,g="events"===i;if((!h||!c[h]||!g&&!n&&!c[h].data)&&d&&r===t)return;return h||(u?e[l]=h=++z.uuid:h=l),c[h]||(c[h]={},u||(c[h].toJSON=z.noop)),("object"!=typeof i&&"function"!=typeof i||(n?c[h]=z.extend(c[h],i):c[h].data=z.extend(c[h].data,i)),o=a=c[h],n||(a.data||(a.data={}),a=a.data),r!==t&&(a[z.camelCase(i)]=r),g&&!a[i])?o.events:(d?null==(s=a[i])&&(s=a[z.camelCase(i)]):s=a,s)}},removeData:function(e,t,i){if(z.acceptData(e)){var r,n,o,a=z.expando,s=e.nodeType,l=s?z.cache:e,d=s?e[a]:a;if(!l[d])return;if(t&&(r=i?l[d]:l[d].data)){z.isArray(t)||(t in r?t=[t]:(t=z.camelCase(t),t=t in r?[t]:t.split(" ")));for(n=0,o=t.length;n<o;n++)delete r[t[n]];if(!(i?S:z.isEmptyObject)(r))return}if(!i&&(delete l[d].data,!S(l[d])))return;z.support.deleteExpando||!l.setInterval?delete l[d]:l[d]=null,s&&(z.support.deleteExpando?delete e[a]:e.removeAttribute?e.removeAttribute(a):e[a]=null)}},_data:function(e,t,i){return z.data(e,t,i,!0)},acceptData:function(e){if(e.nodeName){var t=z.noData[e.nodeName.toLowerCase()];if(t)return!0!==t&&e.getAttribute("classid")===t}return!0}}),z.fn.extend({data:function(e,i){var r,n,o,a,s,l=this[0],d=0,u=null;if(e===t){if(this.length&&(u=z.data(l),1===l.nodeType&&!z._data(l,"parsedAttrs"))){for(o=l.attributes,s=o.length;d<s;d++)a=o[d].name,0===a.indexOf("data-")&&(a=z.camelCase(a.substring(5)),R(l,a,u[a]));z._data(l,"parsedAttrs",!0)}return u}return"object"==typeof e?this.each(function(){z.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",n=r[1]+"!",z.access(this,function(i){if(i===t)return(u=this.triggerHandler("getData"+n,[r[0]]))===t&&l&&(u=z.data(l,e),u=R(l,e,u)),u===t&&r[1]?this.data(r[0]):u;r[1]=i,this.each(function(){var t=z(this);t.triggerHandler("setData"+n,r),z.data(this,e,i),t.triggerHandler("changeData"+n,r)})},null,i,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){z.removeData(this,e)})}}),z.extend({_mark:function(e,t){e&&(t=(t||"fx")+"mark",z._data(e,t,(z._data(e,t)||0)+1))},_unmark:function(e,t,i){if(!0!==e&&(i=t,t=e,e=!1),t){i=i||"fx";var r=i+"mark",n=e?0:(z._data(t,r)||1)-1;n?z._data(t,r,n):(z.removeData(t,r,!0),$(t,i,"mark"))}},queue:function(e,t,i){var r;if(e)return t=(t||"fx")+"queue",r=z._data(e,t),i&&(!r||z.isArray(i)?r=z._data(e,t,z.makeArray(i)):r.push(i)),r||[]},dequeue:function(e,t){t=t||"fx";var i=z.queue(e,t),r=i.shift(),n={};"inprogress"===r&&(r=i.shift()),r&&("fx"===t&&i.unshift("inprogress"),z._data(e,t+".run",n),r.call(e,function(){z.dequeue(e,t)},n)),i.length||(z.removeData(e,t+"queue "+t+".run",!0),$(e,t,"queue"))}}),z.fn.extend({queue:function(e,i){var r=2;return"string"!=typeof e&&(i=e,e="fx",r--),arguments.length<r?z.queue(this[0],e):i===t?this:this.each(function(){var t=z.queue(this,e,i);"fx"===e&&"inprogress"!==t[0]&&z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){z.dequeue(this,e)})},delay:function(e,t){return e=z.fx?z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var r=setTimeout(t,e);i.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){function r(){--l||o.resolveWith(a,[a])}"string"!=typeof e&&(i=e,e=t),e=e||"fx";for(var n,o=z.Deferred(),a=this,s=a.length,l=1,d=e+"defer",u=e+"queue",c=e+"mark";s--;)(n=z.data(a[s],d,t,!0)||(z.data(a[s],u,t,!0)||z.data(a[s],c,t,!0))&&z.data(a[s],d,z.Callbacks("once memory"),!0))&&(l++,n.add(r));return r(),o.promise(i)}});var M,H,O,q=/[\n\t\r]/g,W=/\s+/,G=/\r/g,X=/^(?:button|input)$/i,V=/^(?:button|input|object|select|textarea)$/i,Y=/^a(?:rea)?$/i,U=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Q=z.support.getSetAttribute;z.fn.extend({attr:function(e,t){return z.access(this,z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){z.removeAttr(this,e)})},prop:function(e,t){return z.access(this,z.prop,e,t,arguments.length>1)},removeProp:function(e){return e=z.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(e){}})},addClass:function(e){var t,i,r,n,o,a,s;if(z.isFunction(e))return this.each(function(t){z(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(W),i=0,r=this.length;i<r;i++)if(n=this[i],1===n.nodeType)if(n.className||1!==t.length){for(o=" "+n.className+" ",a=0,s=t.length;a<s;a++)~o.indexOf(" "+t[a]+" ")||(o+=t[a]+" ");n.className=z.trim(o)}else n.className=e;return this},removeClass:function(e){var i,r,n,o,a,s,l;if(z.isFunction(e))return this.each(function(t){z(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(i=(e||"").split(W),r=0,n=this.length;r<n;r++)if(o=this[r],1===o.nodeType&&o.className)if(e){for(a=(" "+o.className+" ").replace(q," "),s=0,l=i.length;s<l;s++)a=a.replace(" "+i[s]+" "," ");o.className=z.trim(a)}else o.className="";return this},toggleClass:function(e,t){var i=typeof e,r="boolean"==typeof t;return z.isFunction(e)?this.each(function(i){z(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var n,o=0,a=z(this),s=t,l=e.split(W);n=l[o++];)s=r?s:!a.hasClass(n),a[s?"addClass":"removeClass"](n);else"undefined"!==i&&"boolean"!==i||(this.className&&z._data(this,"__className__",this.className),this.className=this.className||!1===e?"":z._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,r=this.length;i<r;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(q," ").indexOf(t)>-1)return!0;return!1},val:function(e){var i,r,n,o=this[0];return arguments.length?(n=z.isFunction(e),this.each(function(r){var o,a=z(this);1===this.nodeType&&(o=n?e.call(this,r,a.val()):e,null==o?o="":"number"==typeof o?o+="":z.isArray(o)&&(o=z.map(o,function(e){return null==e?"":e+""})),i=z.valHooks[this.type]||z.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,o,"value")!==t||(this.value=o))})):o?(i=z.valHooks[o.type]||z.valHooks[o.nodeName.toLowerCase()])&&"get"in i&&(r=i.get(o,"value"))!==t?r:(r=o.value,"string"==typeof r?r.replace(G,""):null==r?"":r):void 0}}),z.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,i,r,n,o=e.selectedIndex,a=[],s=e.options,l="select-one"===e.type;if(o<0)return null;for(i=l?o:0,r=l?o+1:s.length;i<r;i++)if(n=s[i],n.selected&&(z.support.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!z.nodeName(n.parentNode,"optgroup"))){if(t=z(n).val(),l)return t;a.push(t)}return l&&!a.length&&s.length?z(s[o]).val():a},set:function(e,t){var i=z.makeArray(t);return z(e).find("option").each(function(){this.selected=z.inArray(z(this).val(),i)>=0}),i.length||(e.selectedIndex=-1),i}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(e,i,r,n){var o,a,s,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return n&&i in z.attrFn?z(e)[i](r):void 0===e.getAttribute?z.prop(e,i,r):((s=1!==l||!z.isXMLDoc(e))&&(i=i.toLowerCase(),a=z.attrHooks[i]||(U.test(i)?H:M)),r!==t?null===r?void z.removeAttr(e,i):a&&"set"in a&&s&&(o=a.set(e,r,i))!==t?o:(e.setAttribute(i,""+r),r):a&&"get"in a&&s&&null!==(o=a.get(e,i))?o:(o=e.getAttribute(i),null===o?t:o))},removeAttr:function(e,t){var i,r,n,o,a,s=0;if(t&&1===e.nodeType)for(r=t.toLowerCase().split(W),o=r.length;s<o;s++)(n=r[s])&&(i=z.propFix[n]||n,a=U.test(n),a||z.attr(e,n,""),e.removeAttribute(Q?n:i),a&&i in e&&(e[i]=!1))},attrHooks:{type:{set:function(e,t){if(X.test(e.nodeName)&&e.parentNode)z.error("type property can't be changed");else if(!z.support.radioValue&&"radio"===t&&z.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}},value:{get:function(e,t){return M&&z.nodeName(e,"button")?M.get(e,t):t in e?e.value:null},set:function(e,t,i){if(M&&z.nodeName(e,"button"))return M.set(e,t,i);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,i,r){var n,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return(1!==a||!z.isXMLDoc(e))&&(i=z.propFix[i]||i,o=z.propHooks[i]),r!==t?o&&"set"in o&&(n=o.set(e,r,i))!==t?n:e[i]=r:o&&"get"in o&&null!==(n=o.get(e,i))?n:e[i]},propHooks:{tabIndex:{get:function(e){var i=e.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):V.test(e.nodeName)||Y.test(e.nodeName)&&e.href?0:t}}}}),z.attrHooks.tabindex=z.propHooks.tabIndex,H={get:function(e,i){var r,n=z.prop(e,i);return!0===n||"boolean"!=typeof n&&(r=e.getAttributeNode(i))&&!1!==r.nodeValue?i.toLowerCase():t},set:function(e,t,i){var r;return!1===t?z.removeAttr(e,i):(r=z.propFix[i]||i,r in e&&(e[r]=!0),e.setAttribute(i,i.toLowerCase())),i}},Q||(O={name:!0,id:!0,coords:!0},M=z.valHooks.button={get:function(e,i){var r;return r=e.getAttributeNode(i),r&&(O[i]?""!==r.nodeValue:r.specified)?r.nodeValue:t},set:function(e,t,i){var r=e.getAttributeNode(i);return r||(r=N.createAttribute(i),e.setAttributeNode(r)),r.nodeValue=t+""}},z.attrHooks.tabindex.set=M.set,z.each(["width","height"],function(e,t){z.attrHooks[t]=z.extend(z.attrHooks[t],{set:function(e,i){if(""===i)return e.setAttribute(t,"auto"),i}})}),z.attrHooks.contenteditable={get:M.get,set:function(e,t,i){""===t&&(t="false"),M.set(e,t,i)}}),z.support.hrefNormalized||z.each(["href","src","width","height"],function(e,i){z.attrHooks[i]=z.extend(z.attrHooks[i],{get:function(e){var r=e.getAttribute(i,2);return null===r?t:r}})}),z.support.style||(z.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),z.support.optSelected||(z.propHooks.selected=z.extend(z.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),z.support.enctype||(z.propFix.enctype="encoding"),z.support.checkOn||z.each(["radio","checkbox"],function(){
z.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),z.each(["radio","checkbox"],function(){z.valHooks[this]=z.extend(z.valHooks[this],{set:function(e,t){if(z.isArray(t))return e.checked=z.inArray(z(e).val(),t)>=0}})});var J=/^(?:textarea|input|select)$/i,K=/^([^\.]*)?(?:\.(.+))?$/,Z=/(?:^|\s)hover(\.\S+)?\b/,ee=/^key/,te=/^(?:mouse|contextmenu)|click/,ie=/^(?:focusinfocus|focusoutblur)$/,re=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,ne=function(e){var t=re.exec(e);return t&&(t[1]=(t[1]||"").toLowerCase(),t[3]=t[3]&&new RegExp("(?:^|\\s)"+t[3]+"(?:\\s|$)")),t},oe=function(e,t){var i=e.attributes||{};return(!t[1]||e.nodeName.toLowerCase()===t[1])&&(!t[2]||(i.id||{}).value===t[2])&&(!t[3]||t[3].test((i.class||{}).value))},ae=function(e){return z.event.special.hover?e:e.replace(Z,"mouseenter$1 mouseleave$1")};z.event={add:function(e,i,r,n,o){var a,s,l,d,u,c,h,g,p,f,m;if(3!==e.nodeType&&8!==e.nodeType&&i&&r&&(a=z._data(e))){for(r.handler&&(p=r,r=p.handler,o=p.selector),r.guid||(r.guid=z.guid++),l=a.events,l||(a.events=l={}),s=a.handle,s||(a.handle=s=function(e){return void 0===z||e&&z.event.triggered===e.type?t:z.event.dispatch.apply(s.elem,arguments)},s.elem=e),i=z.trim(ae(i)).split(" "),d=0;d<i.length;d++)u=K.exec(i[d])||[],c=u[1],h=(u[2]||"").split(".").sort(),m=z.event.special[c]||{},c=(o?m.delegateType:m.bindType)||c,m=z.event.special[c]||{},g=z.extend({type:c,origType:u[1],data:n,handler:r,guid:r.guid,selector:o,quick:o&&ne(o),namespace:h.join(".")},p),f=l[c],f||(f=l[c]=[],f.delegateCount=0,m.setup&&!1!==m.setup.call(e,n,h,s)||(e.addEventListener?e.addEventListener(c,s,!1):e.attachEvent&&e.attachEvent("on"+c,s))),m.add&&(m.add.call(e,g),g.handler.guid||(g.handler.guid=r.guid)),o?f.splice(f.delegateCount++,0,g):f.push(g),z.event.global[c]=!0;e=null}},global:{},remove:function(e,t,i,r,n){var o,a,s,l,d,u,c,h,g,p,f,m,v=z.hasData(e)&&z._data(e);if(v&&(h=v.events)){for(t=z.trim(ae(t||"")).split(" "),o=0;o<t.length;o++)if(a=K.exec(t[o])||[],s=l=a[1],d=a[2],s){for(g=z.event.special[s]||{},s=(r?g.delegateType:g.bindType)||s,f=h[s]||[],u=f.length,d=d?new RegExp("(^|\\.)"+d.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,c=0;c<f.length;c++)m=f[c],(n||l===m.origType)&&(!i||i.guid===m.guid)&&(!d||d.test(m.namespace))&&(!r||r===m.selector||"**"===r&&m.selector)&&(f.splice(c--,1),m.selector&&f.delegateCount--,g.remove&&g.remove.call(e,m));0===f.length&&u!==f.length&&((!g.teardown||!1===g.teardown.call(e,d))&&z.removeEvent(e,s,v.handle),delete h[s])}else for(s in h)z.event.remove(e,s+t[o],i,r,!0);z.isEmptyObject(h)&&(p=v.handle,p&&(p.elem=null),z.removeData(e,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(i,r,n,o){if(!n||3!==n.nodeType&&8!==n.nodeType){var a,s,l,d,u,c,h,g,p,f,m=i.type||i,v=[];if(ie.test(m+z.event.triggered))return;if(m.indexOf("!")>=0&&(m=m.slice(0,-1),s=!0),m.indexOf(".")>=0&&(v=m.split("."),m=v.shift(),v.sort()),(!n||z.event.customEvent[m])&&!z.event.global[m])return;if(i="object"==typeof i?i[z.expando]?i:new z.Event(m,i):new z.Event(m),i.type=m,i.isTrigger=!0,i.exclusive=s,i.namespace=v.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,c=m.indexOf(":")<0?"on"+m:"",!n){a=z.cache;for(l in a)a[l].events&&a[l].events[m]&&z.event.trigger(i,r,a[l].handle.elem,!0);return}if(i.result=t,i.target||(i.target=n),r=null!=r?z.makeArray(r):[],r.unshift(i),h=z.event.special[m]||{},h.trigger&&!1===h.trigger.apply(n,r))return;if(p=[[n,h.bindType||m]],!o&&!h.noBubble&&!z.isWindow(n)){for(f=h.delegateType||m,d=ie.test(f+m)?n:n.parentNode,u=null;d;d=d.parentNode)p.push([d,f]),u=d;u&&u===n.ownerDocument&&p.push([u.defaultView||u.parentWindow||e,f])}for(l=0;l<p.length&&!i.isPropagationStopped();l++)d=p[l][0],i.type=p[l][1],g=(z._data(d,"events")||{})[i.type]&&z._data(d,"handle"),g&&g.apply(d,r),(g=c&&d[c])&&z.acceptData(d)&&!1===g.apply(d,r)&&i.preventDefault();return i.type=m,!o&&!i.isDefaultPrevented()&&(!h._default||!1===h._default.apply(n.ownerDocument,r))&&("click"!==m||!z.nodeName(n,"a"))&&z.acceptData(n)&&c&&n[m]&&("focus"!==m&&"blur"!==m||0!==i.target.offsetWidth)&&!z.isWindow(n)&&(u=n[c],u&&(n[c]=null),z.event.triggered=m,n[m](),z.event.triggered=t,u&&(n[c]=u)),i.result}},dispatch:function(i){i=z.event.fix(i||e.event);var r,n,o,a,s,l,d,u,c,h,g=(z._data(this,"events")||{})[i.type]||[],p=g.delegateCount,f=[].slice.call(arguments,0),m=!i.exclusive&&!i.namespace,v=z.event.special[i.type]||{},y=[];if(f[0]=i,i.delegateTarget=this,!v.preDispatch||!1!==v.preDispatch.call(this,i)){if(p&&(!i.button||"click"!==i.type))for(a=z(this),a.context=this.ownerDocument||this,o=i.target;o!=this;o=o.parentNode||this)if(!0!==o.disabled){for(l={},u=[],a[0]=o,r=0;r<p;r++)c=g[r],h=c.selector,l[h]===t&&(l[h]=c.quick?oe(o,c.quick):a.is(h)),l[h]&&u.push(c);u.length&&y.push({elem:o,matches:u})}for(g.length>p&&y.push({elem:this,matches:g.slice(p)}),r=0;r<y.length&&!i.isPropagationStopped();r++)for(d=y[r],i.currentTarget=d.elem,n=0;n<d.matches.length&&!i.isImmediatePropagationStopped();n++)c=d.matches[n],(m||!i.namespace&&!c.namespace||i.namespace_re&&i.namespace_re.test(c.namespace))&&(i.data=c.data,i.handleObj=c,(s=((z.event.special[c.origType]||{}).handle||c.handler).apply(d.elem,f))!==t&&(i.result=s,!1===s&&(i.preventDefault(),i.stopPropagation())));return v.postDispatch&&v.postDispatch.call(this,i),i.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,i){var r,n,o,a=i.button,s=i.fromElement;return null==e.pageX&&null!=i.clientX&&(r=e.target.ownerDocument||N,n=r.documentElement,o=r.body,e.pageX=i.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),e.pageY=i.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?i.toElement:s),!e.which&&a!==t&&(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[z.expando])return e;var i,r,n=e,o=z.event.fixHooks[e.type]||{},a=o.props?this.props.concat(o.props):this.props;for(e=z.Event(n),i=a.length;i;)r=a[--i],e[r]=n[r];return e.target||(e.target=n.srcElement||N),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey===t&&(e.metaKey=e.ctrlKey),o.filter?o.filter(e,n):e},special:{ready:{setup:z.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,i){z.isWindow(this)&&(this.onbeforeunload=i)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,i,r){var n=z.extend(new z.Event,i,{type:e,isSimulated:!0,originalEvent:{}});r?z.event.trigger(n,null,t):z.event.dispatch.call(t,n),n.isDefaultPrevented()&&i.preventDefault()}},z.event.handle=z.event.dispatch,z.removeEvent=N.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){e.detachEvent&&e.detachEvent("on"+t,i)},z.Event=function(e,t){if(!(this instanceof z.Event))return new z.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?T:F):this.type=e,t&&z.extend(this,t),this.timeStamp=e&&e.timeStamp||z.now(),this[z.expando]=!0},z.Event.prototype={preventDefault:function(){this.isDefaultPrevented=T;var e=this.originalEvent;!e||(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=T;var e=this.originalEvent;!e||(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=T,this.stopPropagation()},isDefaultPrevented:F,isPropagationStopped:F,isImmediatePropagationStopped:F},z.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,r=this,n=e.relatedTarget,o=e.handleObj;o.selector;return n&&(n===r||z.contains(r,n))||(e.type=o.origType,i=o.handler.apply(this,arguments),e.type=t),i}}}),z.support.submitBubbles||(z.event.special.submit={setup:function(){if(z.nodeName(this,"form"))return!1;z.event.add(this,"click._submit keypress._submit",function(e){var i=e.target,r=z.nodeName(i,"input")||z.nodeName(i,"button")?i.form:t;r&&!r._submit_attached&&(z.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),r._submit_attached=!0)})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&z.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(z.nodeName(this,"form"))return!1;z.event.remove(this,"._submit")}}),z.support.changeBubbles||(z.event.special.change={setup:function(){if(J.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(z.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),z.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1,z.event.simulate("change",this,e,!0))})),!1;z.event.add(this,"beforeactivate._change",function(e){var t=e.target;J.test(t.nodeName)&&!t._change_attached&&(z.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&z.event.simulate("change",this.parentNode,e,!0)}),t._change_attached=!0)})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return z.event.remove(this,"._change"),J.test(this.nodeName)}}),z.support.focusinBubbles||z.each({focus:"focusin",blur:"focusout"},function(e,t){var i=0,r=function(e){z.event.simulate(t,e.target,z.event.fix(e),!0)};z.event.special[t]={setup:function(){0==i++&&N.addEventListener(e,r,!0)},teardown:function(){0==--i&&N.removeEventListener(e,r,!0)}}}),z.fn.extend({on:function(e,i,r,n,o){var a,s;if("object"==typeof e){"string"!=typeof i&&(r=r||i,i=t);for(s in e)this.on(s,i,r,e[s],o);return this}if(null==r&&null==n?(n=i,r=i=t):null==n&&("string"==typeof i?(n=r,r=t):(n=r,r=i,i=t)),!1===n)n=F;else if(!n)return this;return 1===o&&(a=n,n=function(e){return z().off(e),a.apply(this,arguments)},n.guid=a.guid||(a.guid=z.guid++)),this.each(function(){z.event.add(this,e,n,r,i)})},one:function(e,t,i,r){return this.on(e,t,i,r,1)},off:function(e,i,r){if(e&&e.preventDefault&&e.handleObj){var n=e.handleObj;return z(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this}if("object"==typeof e){for(var o in e)this.off(o,i,e[o]);return this}return!1!==i&&"function"!=typeof i||(r=i,i=t),!1===r&&(r=F),this.each(function(){z.event.remove(this,e,r,i)})},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,i){return z(this.context).on(e,this.selector,t,i),this},die:function(e,t){return z(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,i,r){return this.on(t,e,i,r)},undelegate:function(e,t,i){return 1==arguments.length?this.off(e,"**"):this.off(t,e,i)},trigger:function(e,t){return this.each(function(){z.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return z.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,i=e.guid||z.guid++,r=0,n=function(i){var n=(z._data(this,"lastToggle"+e.guid)||0)%r;return z._data(this,"lastToggle"+e.guid,n+1),i.preventDefault(),t[n].apply(this,arguments)||!1};for(n.guid=i;r<t.length;)t[r++].guid=i;return this.click(n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){z.fn[t]=function(e,i){return null==i&&(i=e,e=null),arguments.length>0?this.on(t,null,e,i):this.trigger(t)},z.attrFn&&(z.attrFn[t]=!0),ee.test(t)&&(z.event.fixHooks[t]=z.event.keyHooks),te.test(t)&&(z.event.fixHooks[t]=z.event.mouseHooks)}),function(){function e(e,t,i,r,o,a){for(var s=0,l=r.length;s<l;s++){var d=r[s];if(d){var u=!1;for(d=d[e];d;){if(d[n]===i){u=r[d.sizset];break}if(1===d.nodeType)if(a||(d[n]=i,d.sizset=s),"string"!=typeof t){if(d===t){u=!0;break}}else if(h.filter(t,[d]).length>0){u=d;break}d=d[e]}r[s]=u}}}function i(e,t,i,r,o,a){for(var s=0,l=r.length;s<l;s++){var d=r[s];if(d){var u=!1;for(d=d[e];d;){if(d[n]===i){u=r[d.sizset];break}if(1===d.nodeType&&!a&&(d[n]=i,d.sizset=s),d.nodeName.toLowerCase()===t){u=d;break}d=d[e]}r[s]=u}}}var r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,n="sizcache"+(Math.random()+"").replace(".",""),o=0,a=Object.prototype.toString,s=!1,l=!0,d=/\\/g,u=/\r\n/g,c=/\W/;[0,0].sort(function(){return l=!1,0});var h=function(e,t,i,n){i=i||[],t=t||N;var o=t;if(1!==t.nodeType&&9!==t.nodeType)return[];if(!e||"string"!=typeof e)return i;var s,l,d,u,c,g,m,v,b=!0,w=h.isXML(t),_=[],C=e;do{if(r.exec(""),(s=r.exec(C))&&(C=s[3],_.push(s[1]),s[2])){u=s[3];break}}while(s);if(_.length>1&&f.exec(e))if(2===_.length&&p.relative[_[0]])l=x(_[0]+_[1],t,n);else for(l=p.relative[_[0]]?[t]:h(_.shift(),t);_.length;)e=_.shift(),p.relative[e]&&(e+=_.shift()),l=x(e,l,n);else if(!n&&_.length>1&&9===t.nodeType&&!w&&p.match.ID.test(_[0])&&!p.match.ID.test(_[_.length-1])&&(c=h.find(_.shift(),t,w),t=c.expr?h.filter(c.expr,c.set)[0]:c.set[0]),t)for(c=n?{expr:_.pop(),set:y(n)}:h.find(_.pop(),1!==_.length||"~"!==_[0]&&"+"!==_[0]||!t.parentNode?t:t.parentNode,w),l=c.expr?h.filter(c.expr,c.set):c.set,_.length>0?d=y(l):b=!1;_.length;)g=_.pop(),m=g,p.relative[g]?m=_.pop():g="",null==m&&(m=t),p.relative[g](d,m,w);else d=_=[];if(d||(d=l),d||h.error(g||e),"[object Array]"===a.call(d))if(b)if(t&&1===t.nodeType)for(v=0;null!=d[v];v++)d[v]&&(!0===d[v]||1===d[v].nodeType&&h.contains(t,d[v]))&&i.push(l[v]);else for(v=0;null!=d[v];v++)d[v]&&1===d[v].nodeType&&i.push(l[v]);else i.push.apply(i,d);else y(d,i);return u&&(h(u,o,i,n),h.uniqueSort(i)),i};h.uniqueSort=function(e){if(b&&(s=l,e.sort(b),s))for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1);return e},h.matches=function(e,t){return h(e,null,null,t)},h.matchesSelector=function(e,t){return h(t,null,null,[e]).length>0},h.find=function(e,t,i){var r,n,o,a,s,l;if(!e)return[];for(n=0,o=p.order.length;n<o;n++)if(s=p.order[n],(a=p.leftMatch[s].exec(e))&&(l=a[1],a.splice(1,1),"\\"!==l.substr(l.length-1)&&(a[1]=(a[1]||"").replace(d,""),null!=(r=p.find[s](a,t,i))))){e=e.replace(p.match[s],"");break}return r||(r=void 0!==t.getElementsByTagName?t.getElementsByTagName("*"):[]),{set:r,expr:e}},h.filter=function(e,i,r,n){for(var o,a,s,l,d,u,c,g,f,m=e,v=[],y=i,b=i&&i[0]&&h.isXML(i[0]);e&&i.length;){for(s in p.filter)if(null!=(o=p.leftMatch[s].exec(e))&&o[2]){if(u=p.filter[s],c=o[1],a=!1,o.splice(1,1),"\\"===c.substr(c.length-1))continue;if(y===v&&(v=[]),p.preFilter[s])if(o=p.preFilter[s](o,y,r,v,n,b)){if(!0===o)continue}else a=l=!0;if(o)for(g=0;null!=(d=y[g]);g++)d&&(l=u(d,o,g,y),f=n^l,r&&null!=l?f?a=!0:y[g]=!1:f&&(v.push(d),a=!0));if(l!==t){if(r||(y=v),e=e.replace(p.match[s],""),!a)return[];break}}if(e===m){if(null!=a)break;h.error(e)}m=e}return y},h.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};var g=h.getText=function(e){var t,i,r=e.nodeType,n="";if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;if("string"==typeof e.innerText)return e.innerText.replace(u,"");for(e=e.firstChild;e;e=e.nextSibling)n+=g(e)}else if(3===r||4===r)return e.nodeValue}else for(t=0;i=e[t];t++)8!==i.nodeType&&(n+=g(i));return n},p=h.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{class:"className",for:"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var i="string"==typeof t,r=i&&!c.test(t),n=i&&!r;r&&(t=t.toLowerCase());for(var o,a=0,s=e.length;a<s;a++)if(o=e[a]){for(;(o=o.previousSibling)&&1!==o.nodeType;);e[a]=n||o&&o.nodeName.toLowerCase()===t?o||!1:o===t}n&&h.filter(t,e,!0)},">":function(e,t){var i,r="string"==typeof t,n=0,o=e.length;if(r&&!c.test(t)){for(t=t.toLowerCase();n<o;n++)if(i=e[n]){var a=i.parentNode;e[n]=a.nodeName.toLowerCase()===t&&a}}else{for(;n<o;n++)(i=e[n])&&(e[n]=r?i.parentNode:i.parentNode===t);r&&h.filter(t,e,!0)}},"":function(t,r,n){var a,s=o++,l=e;"string"==typeof r&&!c.test(r)&&(r=r.toLowerCase(),a=r,l=i),l("parentNode",r,s,t,a,n)},"~":function(t,r,n){var a,s=o++,l=e;"string"==typeof r&&!c.test(r)&&(r=r.toLowerCase(),a=r,l=i),l("previousSibling",r,s,t,a,n)}},find:{ID:function(e,t,i){if(void 0!==t.getElementById&&!i){var r=t.getElementById(e[1]);return r&&r.parentNode?[r]:[]}},NAME:function(e,t){if(void 0!==t.getElementsByName){for(var i=[],r=t.getElementsByName(e[1]),n=0,o=r.length;n<o;n++)r[n].getAttribute("name")===e[1]&&i.push(r[n]);return 0===i.length?null:i}},TAG:function(e,t){if(void 0!==t.getElementsByTagName)return t.getElementsByTagName(e[1])}},preFilter:{CLASS:function(e,t,i,r,n,o){if(e=" "+e[1].replace(d,"")+" ",o)return e;for(var a,s=0;null!=(a=t[s]);s++)a&&(n^(a.className&&(" "+a.className+" ").replace(/[\t\n\r]/g," ").indexOf(e)>=0)?i||r.push(a):i&&(t[s]=!1));return!1},ID:function(e){return e[1].replace(d,"")},TAG:function(e,t){return e[1].replace(d,"").toLowerCase()},CHILD:function(e){if("nth"===e[1]){e[2]||h.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===e[2]&&"2n"||"odd"===e[2]&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&h.error(e[0]);return e[0]=o++,e},ATTR:function(e,t,i,r,n,o){var a=e[1]=e[1].replace(d,"");return!o&&p.attrMap[a]&&(e[1]=p.attrMap[a]),e[4]=(e[4]||e[5]||"").replace(d,""),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,i,n,o){if("not"===e[1]){if(!((r.exec(e[3])||"").length>1||/^\w/.test(e[3]))){var a=h.filter(e[3],t,i,!0^o);return i||n.push.apply(n,a),!1}e[3]=h(e[3],null,null,t)}else if(p.match.POS.test(e[0])||p.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return!1===e.disabled&&"hidden"!==e.type},disabled:function(e){return!0===e.disabled},checked:function(e){return!0===e.checked},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,i){return!!h(i[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),i=e.type;return"input"===e.nodeName.toLowerCase()&&"text"===i&&(t===i||null===t)},radio:function(e){return"input"===e.nodeName.toLowerCase()&&"radio"===e.type},checkbox:function(e){return"input"===e.nodeName.toLowerCase()&&"checkbox"===e.type},file:function(e){return"input"===e.nodeName.toLowerCase()&&"file"===e.type},password:function(e){return"input"===e.nodeName.toLowerCase()&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"submit"===e.type},image:function(e){return"input"===e.nodeName.toLowerCase()&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,i,r){return t===r.length-1},even:function(e,t){return t%2==0},odd:function(e,t){return t%2==1},lt:function(e,t,i){return t<i[3]-0},gt:function(e,t,i){return t>i[3]-0},nth:function(e,t,i){return i[3]-0===t},eq:function(e,t,i){return i[3]-0===t}},filter:{PSEUDO:function(e,t,i,r){var n=t[1],o=p.filters[n];if(o)return o(e,i,t,r);if("contains"===n)return(e.textContent||e.innerText||g([e])||"").indexOf(t[3])>=0;if("not"===n){for(var a=t[3],s=0,l=a.length;s<l;s++)if(a[s]===e)return!1;return!0}h.error(n)},CHILD:function(e,t){var i,r,o,a,s,l,d=t[1],u=e;switch(d){case"only":case"first":for(;u=u.previousSibling;)if(1===u.nodeType)return!1;if("first"===d)return!0;u=e;case"last":for(;u=u.nextSibling;)if(1===u.nodeType)return!1;return!0;case"nth":if(i=t[2],r=t[3],1===i&&0===r)return!0;if(o=t[0],(a=e.parentNode)&&(a[n]!==o||!e.nodeIndex)){for(s=0,u=a.firstChild;u;u=u.nextSibling)1===u.nodeType&&(u.nodeIndex=++s);a[n]=o}return l=e.nodeIndex-r,0===i?0===l:l%i==0&&l/i>=0}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||!!e.nodeName&&e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var i=t[1],r=h.attr?h.attr(e,i):p.attrHandle[i]?p.attrHandle[i](e):null!=e[i]?e[i]:e.getAttribute(i),n=r+"",o=t[2],a=t[4];return null==r?"!="===o:!o&&h.attr?null!=r:"="===o?n===a:"*="===o?n.indexOf(a)>=0:"~="===o?(" "+n+" ").indexOf(a)>=0:a?"!="===o?n!==a:"^="===o?0===n.indexOf(a):"$="===o?n.substr(n.length-a.length)===a:"|="===o&&(n===a||n.substr(0,a.length+1)===a+"-"):n&&!1!==r},POS:function(e,t,i,r){var n=t[2],o=p.setFilters[n];if(o)return o(e,i,t,r)}}},f=p.match.POS,m=function(e,t){return"\\"+(t-0+1)};for(var v in p.match)p.match[v]=new RegExp(p.match[v].source+/(?![^\[]*\])(?![^\(]*\))/.source),p.leftMatch[v]=new RegExp(/(^(?:.|\r|\n)*?)/.source+p.match[v].source.replace(/\\(\d+)/g,m));p.match.globalPOS=f;var y=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(N.documentElement.childNodes,0)[0].nodeType}catch(e){y=function(e,t){var i=0,r=t||[];if("[object Array]"===a.call(e))Array.prototype.push.apply(r,e);else if("number"==typeof e.length)for(var n=e.length;i<n;i++)r.push(e[i]);else for(;e[i];i++)r.push(e[i]);return r}}var b,w;N.documentElement.compareDocumentPosition?b=function(e,t){return e===t?(s=!0,0):e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t)?-1:1:e.compareDocumentPosition?-1:1}:(b=function(e,t){if(e===t)return s=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var i,r,n=[],o=[],a=e.parentNode,l=t.parentNode,d=a;if(a===l)return w(e,t);if(!a)return-1;if(!l)return 1;for(;d;)n.unshift(d),d=d.parentNode;for(d=l;d;)o.unshift(d),d=d.parentNode;i=n.length,r=o.length;for(var u=0;u<i&&u<r;u++)if(n[u]!==o[u])return w(n[u],o[u]);return u===i?w(e,o[u],-1):w(n[u],t,1)},w=function(e,t,i){if(e===t)return i;for(var r=e.nextSibling;r;){if(r===t)return-1;r=r.nextSibling}return 1}),function(){var e=N.createElement("div"),i="script"+(new Date).getTime(),r=N.documentElement;e.innerHTML="<a name='"+i+"'/>",r.insertBefore(e,r.firstChild),N.getElementById(i)&&(p.find.ID=function(e,i,r){if(void 0!==i.getElementById&&!r){var n=i.getElementById(e[1]);return n?n.id===e[1]||void 0!==n.getAttributeNode&&n.getAttributeNode("id").nodeValue===e[1]?[n]:t:[]}},p.filter.ID=function(e,t){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&i&&i.nodeValue===t}),r.removeChild(e),r=e=null}(),function(){var e=N.createElement("div");e.appendChild(N.createComment("")),e.getElementsByTagName("*").length>0&&(p.find.TAG=function(e,t){var i=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var r=[],n=0;i[n];n++)1===i[n].nodeType&&r.push(i[n]);i=r}return i}),e.innerHTML="<a href='#'></a>",e.firstChild&&void 0!==e.firstChild.getAttribute&&"#"!==e.firstChild.getAttribute("href")&&(p.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),N.querySelectorAll&&function(){var e=h,t=N.createElement("div");if(t.innerHTML="<p class='TEST'></p>",!t.querySelectorAll||0!==t.querySelectorAll(".TEST").length){h=function(t,i,r,n){if(i=i||N,!n&&!h.isXML(i)){var o=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t);if(o&&(1===i.nodeType||9===i.nodeType)){if(o[1])return y(i.getElementsByTagName(t),r);if(o[2]&&p.find.CLASS&&i.getElementsByClassName)return y(i.getElementsByClassName(o[2]),r)}if(9===i.nodeType){if("body"===t&&i.body)return y([i.body],r);if(o&&o[3]){var a=i.getElementById(o[3]);if(!a||!a.parentNode)return y([],r);if(a.id===o[3])return y([a],r)}try{return y(i.querySelectorAll(t),r)}catch(e){}}else if(1===i.nodeType&&"object"!==i.nodeName.toLowerCase()){var s=i,l=i.getAttribute("id"),d=l||"__sizzle__",u=i.parentNode,c=/^\s*[+~]/.test(t);l?d=d.replace(/'/g,"\\$&"):i.setAttribute("id",d),c&&u&&(i=i.parentNode);try{if(!c||u)return y(i.querySelectorAll("[id='"+d+"'] "+t),r)}catch(e){}finally{l||s.removeAttribute("id")}}}return e(t,i,r,n)};for(var i in e)h[i]=e[i];t=null}}(),function(){var e=N.documentElement,t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(t){var i=!t.call(N.createElement("div"),"div"),r=!1;try{t.call(N.documentElement,"[test!='']:sizzle")}catch(e){r=!0}h.matchesSelector=function(e,n){if(n=n.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!h.isXML(e))try{if(r||!p.match.PSEUDO.test(n)&&!/!=/.test(n)){var o=t.call(e,n);if(o||!i||e.document&&11!==e.document.nodeType)return o}}catch(e){}return h(n,null,null,[e]).length>0}}}(),function(){var e=N.createElement("div");if(e.innerHTML="<div class='test e'></div><div class='test'></div>",e.getElementsByClassName&&0!==e.getElementsByClassName("e").length){if(e.lastChild.className="e",1===e.getElementsByClassName("e").length)return;p.order.splice(1,0,"CLASS"),p.find.CLASS=function(e,t,i){if(void 0!==t.getElementsByClassName&&!i)return t.getElementsByClassName(e[1])},e=null}}(),N.documentElement.contains?h.contains=function(e,t){return e!==t&&(!e.contains||e.contains(t))}:N.documentElement.compareDocumentPosition?h.contains=function(e,t){return!!(16&e.compareDocumentPosition(t))}:h.contains=function(){return!1},h.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return!!t&&"HTML"!==t.nodeName};var x=function(e,t,i){for(var r,n=[],o="",a=t.nodeType?[t]:t;r=p.match.PSEUDO.exec(e);)o+=r[0],e=e.replace(p.match.PSEUDO,"");e=p.relative[e]?e+"*":e;for(var s=0,l=a.length;s<l;s++)h(e,a[s],n,i);return h.filter(o,n)};h.attr=z.attr,h.selectors.attrMap={},z.find=h,z.expr=h.selectors,z.expr[":"]=z.expr.filters,z.unique=h.uniqueSort,z.text=h.getText,z.isXMLDoc=h.isXML,z.contains=h.contains}();var se=/Until$/,le=/^(?:parents|prevUntil|prevAll)/,de=/,/,ue=/^.[^:#\[\.,]*$/,ce=Array.prototype.slice,he=z.expr.match.globalPOS,ge={children:!0,contents:!0,next:!0,prev:!0};z.fn.extend({find:function(e){var t,i,r=this;if("string"!=typeof e)return z(e).filter(function(){for(t=0,i=r.length;t<i;t++)if(z.contains(r[t],this))return!0});var n,o,a,s=this.pushStack("","find",e);for(t=0,i=this.length;t<i;t++)if(n=s.length,z.find(e,this[t],s),t>0)for(o=n;o<s.length;o++)for(a=0;a<n;a++)if(s[a]===s[o]){s.splice(o--,1);break}return s},has:function(e){var t=z(e);return this.filter(function(){for(var e=0,i=t.length;e<i;e++)if(z.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(D(this,e,!1),"not",e)},filter:function(e){return this.pushStack(D(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?he.test(e)?z(e,this.context).index(this[0])>=0:z.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var i,r,n=[],o=this[0];if(z.isArray(e)){for(var a=1;o&&o.ownerDocument&&o!==t;){for(i=0;i<e.length;i++)z(o).is(e[i])&&n.push({selector:e[i],elem:o,level:a});o=o.parentNode,a++}return n}var s=he.test(e)||"string"!=typeof e?z(e,t||this.context):0;for(i=0,r=this.length;i<r;i++)for(o=this[i];o;){if(s?s.index(o)>-1:z.find.matchesSelector(o,e)){n.push(o);break}if(!(o=o.parentNode)||!o.ownerDocument||o===t||11===o.nodeType)break}return n=n.length>1?z.unique(n):n,this.pushStack(n,"closest",e)},index:function(e){return e?"string"==typeof e?z.inArray(this[0],z(e)):z.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var i="string"==typeof e?z(e,t):z.makeArray(e&&e.nodeType?[e]:e),r=z.merge(this.get(),i);return this.pushStack(k(i[0])||k(r[0])?r:z.unique(r))},andSelf:function(){return this.add(this.prevObject)}}),z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return z.dir(e,"parentNode")},parentsUntil:function(e,t,i){return z.dir(e,"parentNode",i)},next:function(e){return z.nth(e,2,"nextSibling")},prev:function(e){return z.nth(e,2,"previousSibling")},nextAll:function(e){return z.dir(e,"nextSibling")},prevAll:function(e){return z.dir(e,"previousSibling")},nextUntil:function(e,t,i){return z.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return z.dir(e,"previousSibling",i)},siblings:function(e){return z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return z.sibling(e.firstChild)},contents:function(e){return z.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:z.makeArray(e.childNodes)}},function(e,t){z.fn[e]=function(i,r){var n=z.map(this,t,i);return se.test(e)||(r=i),r&&"string"==typeof r&&(n=z.filter(r,n)),n=this.length>1&&!ge[e]?z.unique(n):n,(this.length>1||de.test(r))&&le.test(e)&&(n=n.reverse()),this.pushStack(n,e,ce.call(arguments).join(","))}}),z.extend({filter:function(e,t,i){return i&&(e=":not("+e+")"),1===t.length?z.find.matchesSelector(t[0],e)?[t[0]]:[]:z.find.matches(e,t)},dir:function(e,i,r){for(var n=[],o=e[i];o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!z(o).is(r));)1===o.nodeType&&n.push(o),o=o[i];return n},nth:function(e,t,i,r){t=t||1;for(var n=0;e&&(1!==e.nodeType||++n!==t);e=e[i]);return e},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var pe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",fe=/ jQuery\d+="(?:\d+|null)"/g,me=/^\s+/,ve=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ye=/<([\w:]+)/,be=/<tbody/i,we=/<|&#?\w+;/,xe=/<(?:script|style)/i,_e=/<(?:script|object|embed|option|style)/i,Ce=new RegExp("<(?:"+pe+")[\\s/>]","i"),De=/checked\s*(?:[^=]|=\s*.checked.)/i,ke=/\/(java|ecma)script/i,Te=/^\s*<!(?:\[CDATA\[|\-\-)/,Fe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},$e=C(N);Fe.optgroup=Fe.option,Fe.tbody=Fe.tfoot=Fe.colgroup=Fe.caption=Fe.thead,Fe.th=Fe.td,z.support.htmlSerialize||(Fe._default=[1,"div<div>","</div>"]),z.fn.extend({text:function(e){return z.access(this,function(e){return e===t?z.text(this):this.empty().append((this[0]&&this[0].ownerDocument||N).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(z.isFunction(e))return this.each(function(t){z(this).wrapAll(e.call(this,t))});if(this[0]){var t=z(e,this[0].ownerDocument).eq(0).clone(!0)
;this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return z.isFunction(e)?this.each(function(t){z(this).wrapInner(e.call(this,t))}):this.each(function(){var t=z(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=z.isFunction(e);return this.each(function(i){z(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){z.nodeName(this,"body")||z(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.insertBefore(e,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=z.clean(arguments);return e.push.apply(e,this.toArray()),this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=this.pushStack(this,"after",arguments);return e.push.apply(e,z.clean(arguments)),e}},remove:function(e,t){for(var i,r=0;null!=(i=this[r]);r++)e&&!z.filter(e,[i]).length||(!t&&1===i.nodeType&&(z.cleanData(i.getElementsByTagName("*")),z.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&z.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return z.clone(this,e,t)})},html:function(e){return z.access(this,function(e){var i=this[0]||{},r=0,n=this.length;if(e===t)return 1===i.nodeType?i.innerHTML.replace(fe,""):null;if("string"==typeof e&&!xe.test(e)&&(z.support.leadingWhitespace||!me.test(e))&&!Fe[(ye.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ve,"<$1></$2>");try{for(;r<n;r++)i=this[r]||{},1===i.nodeType&&(z.cleanData(i.getElementsByTagName("*")),i.innerHTML=e);i=0}catch(e){}}i&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return this[0]&&this[0].parentNode?z.isFunction(e)?this.each(function(t){var i=z(this),r=i.html();i.replaceWith(e.call(this,t,r))}):("string"!=typeof e&&(e=z(e).detach()),this.each(function(){var t=this.nextSibling,i=this.parentNode;z(this).remove(),t?z(t).before(e):z(i).append(e)})):this.length?this.pushStack(z(z.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,!0)},domManip:function(e,i,r){var n,o,a,s,l=e[0],d=[];if(!z.support.checkClone&&3===arguments.length&&"string"==typeof l&&De.test(l))return this.each(function(){z(this).domManip(e,i,r,!0)});if(z.isFunction(l))return this.each(function(n){var o=z(this);e[0]=l.call(this,n,i?o.html():t),o.domManip(e,i,r)});if(this[0]){if(s=l&&l.parentNode,n=z.support.parentNode&&s&&11===s.nodeType&&s.childNodes.length===this.length?{fragment:s}:z.buildFragment(e,this,d),a=n.fragment,o=1===a.childNodes.length?a=a.firstChild:a.firstChild,o){i=i&&z.nodeName(o,"tr");for(var u=0,c=this.length,h=c-1;u<c;u++)r.call(i?_(this[u],o):this[u],n.cacheable||c>1&&u<h?z.clone(a,!0,!0):a)}d.length&&z.each(d,function(e,t){t.src?z.ajax({type:"GET",global:!1,url:t.src,async:!1,dataType:"script"}):z.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Te,"/*$0*/")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),z.buildFragment=function(e,t,i){var r,n,o,a,s=e[0];return t&&t[0]&&(a=t[0].ownerDocument||t[0]),a.createDocumentFragment||(a=N),1===e.length&&"string"==typeof s&&s.length<512&&a===N&&"<"===s.charAt(0)&&!_e.test(s)&&(z.support.checkClone||!De.test(s))&&(z.support.html5Clone||!Ce.test(s))&&(n=!0,(o=z.fragments[s])&&1!==o&&(r=o)),r||(r=a.createDocumentFragment(),z.clean(e,a,r,i)),n&&(z.fragments[s]=o?r:1),{fragment:r,cacheable:n}},z.fragments={},z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){z.fn[e]=function(i){var r=[],n=z(i),o=1===this.length&&this[0].parentNode;if(o&&11===o.nodeType&&1===o.childNodes.length&&1===n.length)return n[t](this[0]),this;for(var a=0,s=n.length;a<s;a++){var l=(a>0?this.clone(!0):this).get();z(n[a])[t](l),r=r.concat(l)}return this.pushStack(r,e,n.selector)}}),z.extend({clone:function(e,t,i){var r,n,o,a=z.support.html5Clone||z.isXMLDoc(e)||!Ce.test("<"+e.nodeName+">")?e.cloneNode(!0):m(e);if(!(z.support.noCloneEvent&&z.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||z.isXMLDoc(e)))for(w(e,a),r=b(e),n=b(a),o=0;r[o];++o)n[o]&&w(r[o],n[o]);if(t&&(x(e,a),i))for(r=b(e),n=b(a),o=0;r[o];++o)x(r[o],n[o]);return r=n=null,a},clean:function(e,t,i,r){var n,o,a,s=[];t=t||N,void 0===t.createElement&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||N);for(var l,d=0;null!=(l=e[d]);d++)if("number"==typeof l&&(l+=""),l){if("string"==typeof l)if(we.test(l)){l=l.replace(ve,"<$1></$2>");var u,c=(ye.exec(l)||["",""])[1].toLowerCase(),h=Fe[c]||Fe._default,g=h[0],p=t.createElement("div"),f=$e.childNodes;for(t===N?$e.appendChild(p):C(t).appendChild(p),p.innerHTML=h[1]+l+h[2];g--;)p=p.lastChild;if(!z.support.tbody){var m=be.test(l),y="table"!==c||m?"<table>"!==h[1]||m?[]:p.childNodes:p.firstChild&&p.firstChild.childNodes;for(a=y.length-1;a>=0;--a)z.nodeName(y[a],"tbody")&&!y[a].childNodes.length&&y[a].parentNode.removeChild(y[a])}!z.support.leadingWhitespace&&me.test(l)&&p.insertBefore(t.createTextNode(me.exec(l)[0]),p.firstChild),l=p.childNodes,p&&(p.parentNode.removeChild(p),f.length>0&&(u=f[f.length-1])&&u.parentNode&&u.parentNode.removeChild(u))}else l=t.createTextNode(l);var b;if(!z.support.appendChecked)if(l[0]&&"number"==typeof(b=l.length))for(a=0;a<b;a++)v(l[a]);else v(l);l.nodeType?s.push(l):s=z.merge(s,l)}if(i)for(n=function(e){return!e.type||ke.test(e.type)},d=0;s[d];d++)if(o=s[d],r&&z.nodeName(o,"script")&&(!o.type||ke.test(o.type)))r.push(o.parentNode?o.parentNode.removeChild(o):o);else{if(1===o.nodeType){var w=z.grep(o.getElementsByTagName("script"),n);s.splice.apply(s,[d+1,0].concat(w))}i.appendChild(o)}return s},cleanData:function(e){for(var t,i,r,n=z.cache,o=z.event.special,a=z.support.deleteExpando,s=0;null!=(r=e[s]);s++)if((!r.nodeName||!z.noData[r.nodeName.toLowerCase()])&&(i=r[z.expando])){if((t=n[i])&&t.events){for(var l in t.events)o[l]?z.event.remove(r,l):z.removeEvent(r,l,t.handle);t.handle&&(t.handle.elem=null)}a?delete r[z.expando]:r.removeAttribute&&r.removeAttribute(z.expando),delete n[i]}}});var Se,Re,Ee,Ne=/alpha\([^)]*\)/i,Ae=/opacity=([^)]*)/,je=/([A-Z]|^ms)/g,ze=/^[\-+]?(?:\d*\.)?\d+$/i,Ie=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,Pe=/^([\-+])=([\-+.\de]+)/,Le=/^margin/,Be={position:"absolute",visibility:"hidden",display:"block"},Me=["Top","Right","Bottom","Left"];z.fn.css=function(e,i){return z.access(this,function(e,i,r){return r!==t?z.style(e,i,r):z.css(e,i)},e,i,arguments.length>1)},z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Se(e,"opacity");return""===i?"1":i}return e.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:z.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,i,r,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s=z.camelCase(i),l=e.style,d=z.cssHooks[s];if(i=z.cssProps[s]||s,r===t)return d&&"get"in d&&(o=d.get(e,!1,n))!==t?o:l[i];if("string"===(a=typeof r)&&(o=Pe.exec(r))&&(r=+(o[1]+1)*+o[2]+parseFloat(z.css(e,i)),a="number"),null==r||"number"===a&&isNaN(r))return;if("number"===a&&!z.cssNumber[s]&&(r+="px"),!(d&&"set"in d&&(r=d.set(e,r))===t))try{l[i]=r}catch(e){}}},css:function(e,i,r){var n,o;return i=z.camelCase(i),o=z.cssHooks[i],"cssFloat"===(i=z.cssProps[i]||i)&&(i="float"),o&&"get"in o&&(n=o.get(e,!0,r))!==t?n:Se?Se(e,i):void 0},swap:function(e,t,i){var r,n,o={};for(n in t)o[n]=e.style[n],e.style[n]=t[n];r=i.call(e);for(n in t)e.style[n]=o[n];return r}}),z.curCSS=z.css,N.defaultView&&N.defaultView.getComputedStyle&&(Re=function(e,t){var i,r,n,o,a=e.style;return t=t.replace(je,"-$1").toLowerCase(),(r=e.ownerDocument.defaultView)&&(n=r.getComputedStyle(e,null))&&""===(i=n.getPropertyValue(t))&&!z.contains(e.ownerDocument.documentElement,e)&&(i=z.style(e,t)),!z.support.pixelMargin&&n&&Le.test(t)&&Ie.test(i)&&(o=a.width,a.width=i,i=n.width,a.width=o),i}),N.documentElement.currentStyle&&(Ee=function(e,t){var i,r,n,o=e.currentStyle&&e.currentStyle[t],a=e.style;return null==o&&a&&(n=a[t])&&(o=n),Ie.test(o)&&(i=a.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),a.left="fontSize"===t?"1em":o,o=a.pixelLeft+"px",a.left=i,r&&(e.runtimeStyle.left=r)),""===o?"auto":o}),Se=Re||Ee,z.each(["height","width"],function(e,t){z.cssHooks[t]={get:function(e,i,r){if(i)return 0!==e.offsetWidth?f(e,t,r):z.swap(e,Be,function(){return f(e,t,r)})},set:function(e,t){return ze.test(t)?t+"px":t}}}),z.support.opacity||(z.cssHooks.opacity={get:function(e,t){return Ae.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100+"":t?"1":""},set:function(e,t){var i=e.style,r=e.currentStyle,n=z.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||i.filter||"";i.zoom=1,t>=1&&""===z.trim(o.replace(Ne,""))&&(i.removeAttribute("filter"),r&&!r.filter)||(i.filter=Ne.test(o)?o.replace(Ne,n):o+" "+n)}}),z(function(){z.support.reliableMarginRight||(z.cssHooks.marginRight={get:function(e,t){return z.swap(e,{display:"inline-block"},function(){return t?Se(e,"margin-right"):e.style.marginRight})}})}),z.expr&&z.expr.filters&&(z.expr.filters.hidden=function(e){var t=e.offsetWidth,i=e.offsetHeight;return 0===t&&0===i||!z.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||z.css(e,"display"))},z.expr.filters.visible=function(e){return!z.expr.filters.hidden(e)}),z.each({margin:"",padding:"",border:"Width"},function(e,t){z.cssHooks[e+t]={expand:function(i){var r,n="string"==typeof i?i.split(" "):[i],o={};for(r=0;r<4;r++)o[e+Me[r]+t]=n[r]||n[r-2]||n[0];return o}}});var He,Oe,qe=/%20/g,We=/\[\]$/,Ge=/\r?\n/g,Xe=/#.*$/,Ve=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ye=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Ue=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Qe=/^(?:GET|HEAD)$/,Je=/^\/\//,Ke=/\?/,Ze=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,et=/^(?:select|textarea)/i,tt=/\s+/,it=/([?&])_=[^&]*/,rt=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,nt=z.fn.load,ot={},at={},st=["*/"]+["*"];try{He=j.href}catch(e){He=N.createElement("a"),He.href="",He=He.href}Oe=rt.exec(He.toLowerCase())||[],z.fn.extend({load:function(e,i,r){if("string"!=typeof e&&nt)return nt.apply(this,arguments);if(!this.length)return this;var n=e.indexOf(" ");if(n>=0){var o=e.slice(n,e.length);e=e.slice(0,n)}var a="GET";i&&(z.isFunction(i)?(r=i,i=t):"object"==typeof i&&(i=z.param(i,z.ajaxSettings.traditional),a="POST"));var s=this;return z.ajax({url:e,type:a,dataType:"html",data:i,complete:function(e,t,i){i=e.responseText,e.isResolved()&&(e.done(function(e){i=e}),s.html(o?z("<div>").append(i.replace(Ze,"")).find(o):i)),r&&s.each(r,[i,t,e])}}),this},serialize:function(){return z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?z.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||et.test(this.nodeName)||Ye.test(this.type))}).map(function(e,t){var i=z(this).val();return null==i?null:z.isArray(i)?z.map(i,function(e,i){return{name:t.name,value:e.replace(Ge,"\r\n")}}):{name:t.name,value:i.replace(Ge,"\r\n")}}).get()}}),z.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){z.fn[t]=function(e){return this.on(t,e)}}),z.each(["get","post"],function(e,i){z[i]=function(e,r,n,o){return z.isFunction(r)&&(o=o||n,n=r,r=t),z.ajax({type:i,url:e,data:r,success:n,dataType:o})}}),z.extend({getScript:function(e,i){return z.get(e,t,i,"script")},getJSON:function(e,t,i){return z.get(e,t,i,"json")},ajaxSetup:function(e,t){return t?h(e,z.ajaxSettings):(t=e,e=z.ajaxSettings),h(e,t),e},ajaxSettings:{url:He,isLocal:Ue.test(Oe[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":st},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":z.parseJSON,"text xml":z.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:p(ot),ajaxTransport:p(at),ajax:function(e,i){function r(e,i,r,a){if(2!==C){C=2,l&&clearTimeout(l),s=t,o=a||"",D.readyState=e>0?4:0;var c,g,p,x,_,k=i,T=r?u(f,D,r):t;if(e>=200&&e<300||304===e)if(f.ifModified&&((x=D.getResponseHeader("Last-Modified"))&&(z.lastModified[n]=x),(_=D.getResponseHeader("Etag"))&&(z.etag[n]=_)),304===e)k="notmodified",c=!0;else try{g=d(f,T),k="success",c=!0}catch(e){k="parsererror",p=e}else p=k,k&&!e||(k="error",e<0&&(e=0));D.status=e,D.statusText=""+(i||k),c?y.resolveWith(m,[g,k,D]):y.rejectWith(m,[D,k,p]),D.statusCode(w),w=t,h&&v.trigger("ajax"+(c?"Success":"Error"),[D,f,c?g:p]),b.fireWith(m,[D,k]),h&&(v.trigger("ajaxComplete",[D,f]),--z.active||z.event.trigger("ajaxStop"))}}"object"==typeof e&&(i=e,e=t),i=i||{};var n,o,a,s,l,c,h,p,f=z.ajaxSetup({},i),m=f.context||f,v=m!==f&&(m.nodeType||m instanceof z)?z(m):z.event,y=z.Deferred(),b=z.Callbacks("once memory"),w=f.statusCode||{},x={},_={},C=0,D={readyState:0,setRequestHeader:function(e,t){if(!C){var i=e.toLowerCase();e=_[i]=_[i]||e,x[e]=t}return this},getAllResponseHeaders:function(){return 2===C?o:null},getResponseHeader:function(e){var i;if(2===C){if(!a)for(a={};i=Ve.exec(o);)a[i[1].toLowerCase()]=i[2];i=a[e.toLowerCase()]}return i===t?null:i},overrideMimeType:function(e){return C||(f.mimeType=e),this},abort:function(e){return e=e||"abort",s&&s.abort(e),r(0,e),this}};if(y.promise(D),D.success=D.done,D.error=D.fail,D.complete=b.add,D.statusCode=function(e){if(e){var t;if(C<2)for(t in e)w[t]=[w[t],e[t]];else t=e[D.status],D.then(t,t)}return this},f.url=((e||f.url)+"").replace(Xe,"").replace(Je,Oe[1]+"//"),f.dataTypes=z.trim(f.dataType||"*").toLowerCase().split(tt),null==f.crossDomain&&(c=rt.exec(f.url.toLowerCase()),f.crossDomain=!(!c||c[1]==Oe[1]&&c[2]==Oe[2]&&(c[3]||("http:"===c[1]?80:443))==(Oe[3]||("http:"===Oe[1]?80:443)))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=z.param(f.data,f.traditional)),g(ot,f,i,D),2===C)return!1;if(h=f.global,f.type=f.type.toUpperCase(),f.hasContent=!Qe.test(f.type),h&&0==z.active++&&z.event.trigger("ajaxStart"),!f.hasContent&&(f.data&&(f.url+=(Ke.test(f.url)?"&":"?")+f.data,delete f.data),n=f.url,!1===f.cache)){var k=z.now(),T=f.url.replace(it,"$1_="+k);f.url=T+(T===f.url?(Ke.test(f.url)?"&":"?")+"_="+k:"")}(f.data&&f.hasContent&&!1!==f.contentType||i.contentType)&&D.setRequestHeader("Content-Type",f.contentType),f.ifModified&&(n=n||f.url,z.lastModified[n]&&D.setRequestHeader("If-Modified-Since",z.lastModified[n]),z.etag[n]&&D.setRequestHeader("If-None-Match",z.etag[n])),D.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+st+"; q=0.01":""):f.accepts["*"]);for(p in f.headers)D.setRequestHeader(p,f.headers[p]);if(f.beforeSend&&(!1===f.beforeSend.call(m,D,f)||2===C))return D.abort(),!1;for(p in{success:1,error:1,complete:1})D[p](f[p]);if(s=g(at,f,i,D)){D.readyState=1,h&&v.trigger("ajaxSend",[D,f]),f.async&&f.timeout>0&&(l=setTimeout(function(){D.abort("timeout")},f.timeout));try{C=1,s.send(x,r)}catch(e){if(!(C<2))throw e;r(-1,e)}}else r(-1,"No Transport");return D},param:function(e,i){var r=[],n=function(e,t){t=z.isFunction(t)?t():t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(i===t&&(i=z.ajaxSettings.traditional),z.isArray(e)||e.jquery&&!z.isPlainObject(e))z.each(e,function(){n(this.name,this.value)});else for(var o in e)c(o,e[o],i,n);return r.join("&").replace(qe,"+")}}),z.extend({active:0,lastModified:{},etag:{}});var lt=z.now(),dt=/(\=)\?(&|$)|\?\?/i;z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return z.expando+"_"+lt++}}),z.ajaxPrefilter("json jsonp",function(t,i,r){var n="string"==typeof t.data&&/^application\/x\-www\-form\-urlencoded/.test(t.contentType);if("jsonp"===t.dataTypes[0]||!1!==t.jsonp&&(dt.test(t.url)||n&&dt.test(t.data))){var o,a=t.jsonpCallback=z.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s=e[a],l=t.url,d=t.data,u="$1"+a+"$2";return!1!==t.jsonp&&(l=l.replace(dt,u),t.url===l&&(n&&(d=d.replace(dt,u)),t.data===d&&(l+=(/\?/.test(l)?"&":"?")+t.jsonp+"="+a))),t.url=l,t.data=d,e[a]=function(e){o=[e]},r.always(function(){e[a]=s,o&&z.isFunction(s)&&e[a](o[0])}),t.converters["script json"]=function(){return o||z.error(a+" was not called"),o[0]},t.dataTypes[0]="json","script"}}),z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return z.globalEval(e),e}}}),z.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),z.ajaxTransport("script",function(e){if(e.crossDomain){var i,r=N.head||N.getElementsByTagName("head")[0]||N.documentElement;return{send:function(n,o){i=N.createElement("script"),i.async="async",e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(e,n){(n||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,r&&i.parentNode&&r.removeChild(i),i=t,n||o(200,"success"))},r.insertBefore(i,r.firstChild)},abort:function(){i&&i.onload(0,1)}}}});var ut,ct=!!e.ActiveXObject&&function(){for(var e in ut)ut[e](0,1)},ht=0;z.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&l()||s()}:l,function(e){z.extend(z.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(z.ajaxSettings.xhr()),z.support.ajax&&z.ajaxTransport(function(i){if(!i.crossDomain||z.support.cors){var r;return{send:function(n,o){var a,s,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(s in i.xhrFields)l[s]=i.xhrFields[s];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),!i.crossDomain&&!n["X-Requested-With"]&&(n["X-Requested-With"]="XMLHttpRequest");try{for(s in n)l.setRequestHeader(s,n[s])}catch(e){}l.send(i.hasContent&&i.data||null),r=function(e,n){var s,d,u,c,h;try{if(r&&(n||4===l.readyState))if(r=t,a&&(l.onreadystatechange=z.noop,ct&&delete ut[a]),n)4!==l.readyState&&l.abort();else{s=l.status,u=l.getAllResponseHeaders(),c={},(h=l.responseXML)&&h.documentElement&&(c.xml=h);try{c.text=l.responseText}catch(e){}try{d=l.statusText}catch(e){d=""}s||!i.isLocal||i.crossDomain?1223===s&&(s=204):s=c.text?200:404}}catch(e){n||o(-1,e)}c&&o(s,d,c,u)},i.async&&4!==l.readyState?(a=++ht,ct&&(ut||(ut={},z(e).unload(ct)),ut[a]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var gt,pt,ft,mt,vt={},yt=/^(?:toggle|show|hide)$/,bt=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,wt=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];z.fn.extend({show:function(e,t,i){var o,a;if(e||0===e)return this.animate(n("show",3),e,t,i);for(var s=0,l=this.length;s<l;s++)o=this[s],o.style&&(a=o.style.display,!z._data(o,"olddisplay")&&"none"===a&&(a=o.style.display=""),(""===a&&"none"===z.css(o,"display")||!z.contains(o.ownerDocument.documentElement,o))&&z._data(o,"olddisplay",r(o.nodeName)));for(s=0;s<l;s++)o=this[s],o.style&&(""!==(a=o.style.display)&&"none"!==a||(o.style.display=z._data(o,"olddisplay")||""));return this},hide:function(e,t,i){if(e||0===e)return this.animate(n("hide",3),e,t,i);for(var r,o,a=0,s=this.length;a<s;a++)r=this[a],r.style&&"none"!==(o=z.css(r,"display"))&&!z._data(r,"olddisplay")&&z._data(r,"olddisplay",o);for(a=0;a<s;a++)this[a].style&&(this[a].style.display="none");return this},_toggle:z.fn.toggle,toggle:function(e,t,i){var r="boolean"==typeof e;return z.isFunction(e)&&z.isFunction(t)?this._toggle.apply(this,arguments):null==e||r?this.each(function(){var t=r?e:z(this).is(":hidden");z(this)[t?"show":"hide"]()}):this.animate(n("toggle",3),e,t,i),this},fadeTo:function(e,t,i,r){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},e,i,r)},animate:function(e,t,i,n){function o(){!1===a.queue&&z._mark(this);var t,i,n,o,s,l,d,u,c,h,g,p=z.extend({},a),f=1===this.nodeType,m=f&&z(this).is(":hidden");p.animatedProperties={};for(n in e)if(t=z.camelCase(n),n!==t&&(e[t]=e[n],delete e[n]),(s=z.cssHooks[t])&&"expand"in s){l=s.expand(e[t]),delete e[t];for(n in l)n in e||(e[n]=l[n])}for(t in e){if(i=e[t],z.isArray(i)?(p.animatedProperties[t]=i[1],i=e[t]=i[0]):p.animatedProperties[t]=p.specialEasing&&p.specialEasing[t]||p.easing||"swing","hide"===i&&m||"show"===i&&!m)return p.complete.call(this);f&&("height"===t||"width"===t)&&(p.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===z.css(this,"display")&&"none"===z.css(this,"float")&&(z.support.inlineBlockNeedsLayout&&"inline"!==r(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=p.overflow&&(this.style.overflow="hidden");for(n in e)o=new z.fx(this,p,n),i=e[n],yt.test(i)?(g=z._data(this,"toggle"+n)||("toggle"===i?m?"show":"hide":0),g?(z._data(this,"toggle"+n,"show"===g?"hide":"show"),o[g]()):o[i]()):(d=bt.exec(i),u=o.cur(),d?(c=parseFloat(d[2]),h=d[3]||(z.cssNumber[n]?"":"px"),"px"!==h&&(z.style(this,n,(c||1)+h),u=(c||1)/o.cur()*u,z.style(this,n,u+h)),d[1]&&(c=("-="===d[1]?-1:1)*c+u),o.custom(u,c,h)):o.custom(u,i,""));return!0}var a=z.speed(t,i,n);return z.isEmptyObject(e)?this.each(a.complete,[!1]):(e=z.extend({},e),!1===a.queue?this.each(o):this.queue(a.queue,o))},stop:function(e,i,r){return"string"!=typeof e&&(r=i,i=e,e=t),i&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){function t(e,t,i){var n=t[i];z.removeData(e,i,!0),n.stop(r)}var i,n=!1,o=z.timers,a=z._data(this);if(r||z._unmark(!0,this),null==e)for(i in a)a[i]&&a[i].stop&&i.indexOf(".run")===i.length-4&&t(this,a,i);else a[i=e+".run"]&&a[i].stop&&t(this,a,i);for(i=o.length;i--;)o[i].elem===this&&(null==e||o[i].queue===e)&&(r?o[i](!0):o[i].saveState(),n=!0,o.splice(i,1));(!r||!n)&&z.dequeue(this,e)})}}),z.each({slideDown:n("show",1),slideUp:n("hide",1),slideToggle:n("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){z.fn[e]=function(e,i,r){return this.animate(t,e,i,r)}}),z.extend({speed:function(e,t,i){var r=e&&"object"==typeof e?z.extend({},e):{complete:i||!i&&t||z.isFunction(e)&&e,duration:e,easing:i&&t||t&&!z.isFunction(t)&&t};return r.duration=z.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in z.fx.speeds?z.fx.speeds[r.duration]:z.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(e){z.isFunction(r.old)&&r.old.call(this),r.queue?z.dequeue(this,r.queue):!1!==e&&z._unmark(this)},r},easing:{linear:function(e){return e},swing:function(e){return-Math.cos(e*Math.PI)/2+.5}},timers:[],fx:function(e,t,i){this.options=t,this.elem=e,this.prop=i,t.orig=t.orig||{}}}),z.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(z.fx.step[this.prop]||z.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var e,t=z.css(this.elem,this.prop);return isNaN(e=parseFloat(t))?t&&"auto"!==t?t:0:e},custom:function(e,i,r){function n(e){return o.step(e)}var o=this,s=z.fx;this.startTime=mt||a(),this.end=i,this.now=this.start=e,this.pos=this.state=0,this.unit=r||this.unit||(z.cssNumber[this.prop]?"":"px"),n.queue=this.options.queue,n.elem=this.elem,n.saveState=function(){z._data(o.elem,"fxshow"+o.prop)===t&&(o.options.hide?z._data(o.elem,"fxshow"+o.prop,o.start):o.options.show&&z._data(o.elem,"fxshow"+o.prop,o.end))},n()&&z.timers.push(n)&&!ft&&(ft=setInterval(s.tick,s.interval))},show:function(){var e=z._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=e||z.style(this.elem,this.prop),this.options.show=!0,e!==t?this.custom(this.cur(),e):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),z(this.elem).show()},hide:function(){this.options.orig[this.prop]=z._data(this.elem,"fxshow"+this.prop)||z.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var t,i,r,n=mt||a(),o=!0,s=this.elem,l=this.options;if(e||n>=l.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),l.animatedProperties[this.prop]=!0;for(t in l.animatedProperties)!0!==l.animatedProperties[t]&&(o=!1);if(o){if(null!=l.overflow&&!z.support.shrinkWrapBlocks&&z.each(["","X","Y"],function(e,t){s.style["overflow"+t]=l.overflow[e]}),l.hide&&z(s).hide(),l.hide||l.show)for(t in l.animatedProperties)z.style(s,t,l.orig[t]),z.removeData(s,"fxshow"+t,!0),z.removeData(s,"toggle"+t,!0);(r=l.complete)&&(l.complete=!1,r.call(s))}return!1}return l.duration==1/0?this.now=n:(i=n-this.startTime,this.state=i/l.duration,this.pos=z.easing[l.animatedProperties[this.prop]](this.state,i,0,1,l.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},z.extend(z.fx,{tick:function(){for(var e,t=z.timers,i=0;i<t.length;i++)!(e=t[i])()&&t[i]===e&&t.splice(i--,1);t.length||z.fx.stop()},interval:13,stop:function(){clearInterval(ft),ft=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){z.style(e.elem,"opacity",e.now)},_default:function(e){e.elem.style&&null!=e.elem.style[e.prop]?e.elem.style[e.prop]=e.now+e.unit:e.elem[e.prop]=e.now}}}),z.each(wt.concat.apply([],wt),function(e,t){t.indexOf("margin")&&(z.fx.step[t]=function(e){z.style(e.elem,t,Math.max(0,e.now)+e.unit)})}),z.expr&&z.expr.filters&&(z.expr.filters.animated=function(e){return z.grep(z.timers,function(t){return e===t.elem}).length});var xt,_t=/^t(?:able|d|h)$/i,Ct=/^(?:body|html)$/i;xt="getBoundingClientRect"in N.documentElement?function(e,t,r,n){try{n=e.getBoundingClientRect()}catch(e){}if(!n||!z.contains(r,e))return n?{top:n.top,left:n.left}:{top:0,left:0};var o=t.body,a=i(t),s=r.clientTop||o.clientTop||0,l=r.clientLeft||o.clientLeft||0,d=a.pageYOffset||z.support.boxModel&&r.scrollTop||o.scrollTop,u=a.pageXOffset||z.support.boxModel&&r.scrollLeft||o.scrollLeft;return{top:n.top+d-s,left:n.left+u-l}}:function(e,t,i){for(var r,n=e.offsetParent,o=t.body,a=t.defaultView,s=a?a.getComputedStyle(e,null):e.currentStyle,l=e.offsetTop,d=e.offsetLeft;(e=e.parentNode)&&e!==o&&e!==i&&(!z.support.fixedPosition||"fixed"!==s.position);)r=a?a.getComputedStyle(e,null):e.currentStyle,l-=e.scrollTop,d-=e.scrollLeft,e===n&&(l+=e.offsetTop,d+=e.offsetLeft,z.support.doesNotAddBorder&&(!z.support.doesAddBorderForTableAndCells||!_t.test(e.nodeName))&&(l+=parseFloat(r.borderTopWidth)||0,d+=parseFloat(r.borderLeftWidth)||0),n,n=e.offsetParent),z.support.subtractsBorderForOverflowNotVisible&&"visible"!==r.overflow&&(l+=parseFloat(r.borderTopWidth)||0,d+=parseFloat(r.borderLeftWidth)||0),s=r;return"relative"!==s.position&&"static"!==s.position||(l+=o.offsetTop,d+=o.offsetLeft),z.support.fixedPosition&&"fixed"===s.position&&(l+=Math.max(i.scrollTop,o.scrollTop),d+=Math.max(i.scrollLeft,o.scrollLeft)),{top:l,left:d}},z.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){z.offset.setOffset(this,e,t)});var i=this[0],r=i&&i.ownerDocument;return r?i===r.body?z.offset.bodyOffset(i):xt(i,r,r.documentElement):null},z.offset={bodyOffset:function(e){var t=e.offsetTop,i=e.offsetLeft;return z.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(z.css(e,"marginTop"))||0,i+=parseFloat(z.css(e,"marginLeft"))||0),{top:t,left:i}},setOffset:function(e,t,i){var r=z.css(e,"position");"static"===r&&(e.style.position="relative");var n,o,a=z(e),s=a.offset(),l=z.css(e,"top"),d=z.css(e,"left"),u=("absolute"===r||"fixed"===r)&&z.inArray("auto",[l,d])>-1,c={},h={};u?(h=a.position(),n=h.top,o=h.left):(n=parseFloat(l)||0,o=parseFloat(d)||0),z.isFunction(t)&&(t=t.call(e,i,s)),null!=t.top&&(c.top=t.top-s.top+n),null!=t.left&&(c.left=t.left-s.left+o),"using"in t?t.using.call(e,c):a.css(c)}},z.fn.extend({position:function(){if(!this[0])return null;var e=this[0],t=this.offsetParent(),i=this.offset(),r=Ct.test(t[0].nodeName)?{top:0,left:0}:t.offset();return i.top-=parseFloat(z.css(e,"marginTop"))||0,i.left-=parseFloat(z.css(e,"marginLeft"))||0,r.top+=parseFloat(z.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(z.css(t[0],"borderLeftWidth"))||0,{top:i.top-r.top,left:i.left-r.left}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||N.body;e&&!Ct.test(e.nodeName)&&"static"===z.css(e,"position");)e=e.offsetParent;return e})}}),z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var n=/Y/.test(r);z.fn[e]=function(o){return z.access(this,function(e,o,a){var s=i(e);if(a===t)return s?r in s?s[r]:z.support.boxModel&&s.document.documentElement[o]||s.document.body[o]:e[o];s?s.scrollTo(n?z(s).scrollLeft():a,n?a:z(s).scrollTop()):e[o]=a},e,o,arguments.length,null)}}),z.each({Height:"height",Width:"width"},function(e,i){var r="client"+e,n="scroll"+e,o="offset"+e;z.fn["inner"+e]=function(){var e=this[0];return e?e.style?parseFloat(z.css(e,i,"padding")):this[i]():null},z.fn["outer"+e]=function(e){var t=this[0];return t?t.style?parseFloat(z.css(t,i,e?"margin":"border")):this[i]():null},z.fn[i]=function(e){return z.access(this,function(e,i,a){var s,l,d,u;return z.isWindow(e)?(s=e.document,l=s.documentElement[r],z.support.boxModel&&l||s.body&&s.body[r]||l):9===e.nodeType?(s=e.documentElement,s[r]>=s[n]?s[r]:Math.max(e.body[n],s[n],e.body[o],s[o])):a===t?(d=z.css(e,i),u=parseFloat(d),z.isNumeric(u)?u:d):void z(e).css(i,a)},i,e,arguments.length,null)}}),e.jQuery=e.$=z,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return z})}(window),function($){if(Function.prototype.ligerExtend=function(e,t){if("function"!=typeof e)return this;this.base=e.prototype,this.base.constructor=e;var i=function(){};i.prototype=e.prototype,this.prototype=new i,this.prototype.constructor=this,t&&$.extend(this.prototype,t)},Function.prototype.ligerDefer=function(e,t,i){var r=this;return setTimeout(function(){r.apply(e,i||[])},t)},window.liger=$.ligerui={version:"V1.3.2",managerCount:0,managers:{},managerIdPrev:"ligerui",autoNewId:!0,error:{managerIsExist:"ç®¡çå¨idå·²ç»å­å¨"},pluginPrev:"liger",attrPrev:"data",getId:function(e){e=e||this.managerIdPrev;var t=e+(1e3+this.managerCount);return this.managerCount++,t},add:function(e){if(2==arguments.length){var t=arguments[1];return t.id=t.id||t.options.id||arguments[0].id,void this.addManager(t)}e.id||(e.id=this.getId(e.__idPrev())),this.managers[e.id]=e},remove:function(e){if("string"==typeof e||"number"==typeof e)delete liger.managers[e];else if("object"==typeof e)if(e instanceof liger.core.Component)delete liger.managers[e.id];else{if(!$(e).attr(this.idAttrName))return!1;delete liger.managers[$(e).attr(this.idAttrName)]}},get:function(e,t){if(t=t||"ligeruiid","string"==typeof e||"number"==typeof e)return liger.managers[e];if("object"==typeof e){var i=e.length?e[0]:e,r=i[t]||$(i).attr(t);return r?liger.managers[r]:null}return null},find:function(e){var t=[];for(var i in this.managers){var r=this.managers[i];e instanceof Function?r instanceof e&&t.push(r):e instanceof Array?-1!=$.inArray(r.__getType(),e)&&t.push(r):r.__getType()==e&&t.push(r)}return t},run:function(e,t,i){if(e){if(i=$.extend({defaultsNamespace:"ligerDefaults",
methodsNamespace:"ligerMethods",controlNamespace:"controls",idAttrName:"ligeruiid",isStatic:!1,hasElement:!0,propertyToElemnt:null},i||{}),e=e.replace(/^ligerGet/,""),e=e.replace(/^liger/,""),null==this||this==window||i.isStatic)return liger.plugins[e]||(liger.plugins[e]={fn:$[liger.pluginPrev+e],isStatic:!0}),new $.ligerui[i.controlNamespace][e]($.extend({},$[i.defaultsNamespace][e]||{},$[i.defaultsNamespace][e+"String"]||{},t.length>0?t[0]:{}));if(liger.plugins[e]||(liger.plugins[e]={fn:$.fn[liger.pluginPrev+e],isStatic:!1}),/Manager$/.test(e))return liger.get(this,i.idAttrName);if(this.each(function(){if(this[i.idAttrName]||$(this).attr(i.idAttrName)){var r=liger.get(this[i.idAttrName]||$(this).attr(i.idAttrName));return void(r&&t.length>0&&r.set(t[0]))}if(!(t.length>=1&&"string"==typeof t[0])){var n=t.length>0?t[0]:null,o=$.extend({},$[i.defaultsNamespace][e],$[i.defaultsNamespace][e+"String"],n);i.propertyToElemnt&&(o[i.propertyToElemnt]=this),i.hasElement?new $.ligerui[i.controlNamespace][e](this,o):new $.ligerui[i.controlNamespace][e](o)}}),0==this.length)return null;if(0==t.length)return liger.get(this,i.idAttrName);if("object"==typeof t[0])return liger.get(this,i.idAttrName);if("string"==typeof t[0]){var r=liger.get(this,i.idAttrName);if(null==r)return;if("option"!=t[0]){var n=t[0];if(!r[n])return;var o=Array.apply(null,t);return o.shift(),r[n].apply(r,o)}if(2==t.length)return r.get(t[1]);if(t.length>=3)return r.set(t[1],t[2])}return null}},defaults:{},methods:{},core:{},controls:{},plugins:{}},$.ligerDefaults={},$.ligerMethos={},liger.defaults=$.ligerDefaults,liger.methods=$.ligerMethos,$.fn.liger=function(e){return e?liger.run.call(this,e,arguments):liger.get(this)},liger.core.Component=function(e){this.events=this.events||{},this.options=e||{},this.children={}},$.extend(liger.core.Component.prototype,{__getType:function(){return"liger.core.Component"},__idPrev:function(){return"ligerui"},set:function(e,t,i){if(e)if("object"!=typeof e){var r=e;if(0==r.indexOf("on"))return void("function"==typeof t&&this.bind(r.substr(2),t));if(this.options||(this.options={}),0!=this.trigger("propertychange",[e,t])){this.options[r]=t;var n="_set"+r.substr(0,1).toUpperCase()+r.substr(1);this[n]&&this[n].call(this,t,i),this.trigger("propertychanged",[e,t])}}else{var o;if(this.options!=e?($.extend(this.options,e),o=e):o=$.extend({},e),void 0==t||1==t)for(var a in o)0==a.indexOf("on")&&this.set(a,o[a]);if(void 0==t||0==t)for(var a in o)0!=a.indexOf("on")&&this.set(a,o[a],i)}},get:function(e){var t="_get"+e.substr(0,1).toUpperCase()+e.substr(1);return this[t]?this[t].call(this,e):this.options[e]},hasBind:function(e){var t=e.toLowerCase(),i=this.events[t];return!(!i||!i.length)},trigger:function(e,t){if(e){var i=e.toLowerCase(),r=this.events[i];if(r){t=t||[],t instanceof Array==0&&(t=[t]);for(var n=0;n<r.length;n++){var o=r[n];if(0==o.handler.apply(o.context,t))return!1}}}},bind:function(e,t,i){if("object"!=typeof e){if("function"!=typeof t)return!1;var r=e.toLowerCase(),n=this.events[r]||[];i=i||this,n.push({handler:t,context:i}),this.events[r]=n}else for(var o in e)this.bind(o,e[o])},unbind:function(e,t){if(!e)return void(this.events={});var i=e.toLowerCase(),r=this.events[i];if(r&&r.length)if(t){for(var n=0,o=r.length;n<o;n++)if(r[n].handler==t){r.splice(n,1);break}}else delete this.events[i]},destroy:function(){liger.remove(this)}}),liger.core.UIComponent=function(e,t){liger.core.UIComponent.base.constructor.call(this,t);var i=this._extendMethods();i&&$.extend(this,i),this.element=e,this._init(),this._preRender(),this.trigger("render"),this._render(),this.trigger("rendered"),this._rendered()},liger.core.UIComponent.ligerExtend(liger.core.Component,{__getType:function(){return"liger.core.UIComponent"},_extendMethods:function(){},_init:function(){function loadDataOp(e,t){var i={};if(!e||-1!=e.indexOf("."))return i;var r=liger.defaults[e];if(!r)return i;for(var n in r)if(t.attr(liger.attrPrev+"-"+n)){var o=t.attr(liger.attrPrev+"-"+n);"boolean"==typeof r[n]?i[n]="true"==o||"1"==o:i[n]=o}return i}if(this.type=this.__getType(),this.element?this.id=this.options.id||this.element.id||liger.getId(this.__idPrev()):this.id=this.options.id||liger.getId(this.__idPrev()),liger.add(this),this.element){var attributes=this.attr();if(attributes&&attributes instanceof Array)for(var i=0;i<attributes.length;i++){var name=attributes[i];$(this.element).attr(name)&&(this.options[name]=$(this.element).attr(name))}var p=this.options;if($(this.element).attr("ligerui"))try{var attroptions=$(this.element).attr("ligerui");0!=attroptions.indexOf("{")&&(attroptions="{"+attroptions+"}"),eval("attroptions = "+attroptions+";"),attroptions&&$.extend(p,attroptions)}catch(e){}$.extend(p,loadDataOp(this.__getType(),$(this.element)))}},_preRender:function(){},_render:function(){},_rendered:function(){this.element&&$(this.element).attr("ligeruiid",this.id)},_setCls:function(e){this.element&&e&&$(this.element).addClass(e)},attr:function(){return[]},destroy:function(){this.element&&$(this.element).remove(),this.options=null,liger.remove(this)}}),liger.controls.Input=function(e,t){liger.controls.Input.base.constructor.call(this,e,t)},liger.controls.Input.ligerExtend(liger.core.UIComponent,{__getType:function(){return"liger.controls.Input"},attr:function(){return["nullText"]},setValue:function(e){return this.set("value",e)},getValue:function(){return this.get("value")},_setReadonly:function(e){var t=this.wrapper||this.text;if(t&&t.hasClass("l-text")){var i=this.inputText;e?(i&&i.attr("readonly","readonly"),t.addClass("l-text-readonly")):(i&&i.removeAttr("readonly"),t.removeClass("l-text-readonly"))}},setReadonly:function(e){return this.set("readonly",e)},setEnabled:function(){return this.set("disabled",!1)},setDisabled:function(){return this.set("disabled",!0)},updateStyle:function(){},resize:function(e,t){this.set({width:e,height:t+2})}}),liger.win={top:!1,mask:function(e){function t(){if(liger.win.windowMask){var e=$(window).height()+$(window).scrollTop();liger.win.windowMask.height(e)}}this.windowMask||(this.windowMask=$("<div class='l-window-mask' style='display: block;'></div>").appendTo("body"),$(window).bind("resize.ligeruiwin",t),$(window).bind("scroll",t)),this.windowMask.show(),t(),this.masking=!0},unmask:function(e){for(var t=$("body > .l-dialog:visible,body > .l-window:visible"),i=0,r=t.length;i<r;i++){var n=t.eq(i).attr("ligeruiid");if(!e||e.id!=n){var o=liger.get(n);if(o){if(o.get("modal"))return}}}this.windowMask&&this.windowMask.hide(),this.masking=!1},createTaskbar:function(){return this.taskbar||(this.taskbar=$('<div class="l-taskbar"><div class="l-taskbar-tasks"></div><div class="l-clear"></div></div>').appendTo("body"),this.top&&this.taskbar.addClass("l-taskbar-top"),this.taskbar.tasks=$(".l-taskbar-tasks:first",this.taskbar),this.tasks={}),this.taskbar.show(),this.taskbar.animate({bottom:0}),this.taskbar},removeTaskbar:function(){var e=this;e.taskbar.animate({bottom:-32},function(){e.taskbar.remove(),e.taskbar=null})},activeTask:function(e){for(var t in this.tasks){var i=this.tasks[t];t==e.id?i.addClass("l-taskbar-task-active"):i.removeClass("l-taskbar-task-active")}},getTask:function(e){var t=this;if(t.taskbar)return t.tasks[e.id]?t.tasks[e.id]:null},addTask:function(e){var t=this;if(t.taskbar||t.createTaskbar(),t.tasks[e.id])return t.tasks[e.id];var i=e.get("title"),r=t.tasks[e.id]=$('<div class="l-taskbar-task"><div class="l-taskbar-task-icon"></div><div class="l-taskbar-task-content">'+i+"</div></div>");return t.taskbar.tasks.append(r),t.activeTask(e),r.bind("click",function(){t.activeTask(e),e.actived?e.min():e.active()}).hover(function(){$(this).addClass("l-taskbar-task-over")},function(){$(this).removeClass("l-taskbar-task-over")}),r},hasTask:function(){for(var e in this.tasks)if(this.tasks[e])return!0;return!1},removeTask:function(e){var t=this;t.taskbar&&(t.tasks[e.id]&&(t.tasks[e.id].unbind(),t.tasks[e.id].remove(),delete t.tasks[e.id]),t.hasTask()||t.removeTaskbar())},setFront:function(e){var t=liger.find(liger.core.Win);for(var i in t){var r=t[i];r==e?($(r.element).css("z-index","9200"),this.activeTask(r)):$(r.element).css("z-index","9100")}}},liger.core.Win=function(e,t){liger.core.Win.base.constructor.call(this,e,t)},liger.core.Win.ligerExtend(liger.core.UIComponent,{__getType:function(){return"liger.controls.Win"},mask:function(){this.options.modal&&liger.win.mask(this)},unmask:function(){this.options.modal&&liger.win.unmask(this)},min:function(){},max:function(){},active:function(){}}),liger.draggable={dragging:!1},liger.resizable={reszing:!1},liger.toJSON="object"==typeof JSON&&JSON.stringify?JSON.stringify:function(e){var t=function(e){return e<10?"0"+e:e},i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r=function(e){return i.lastIndex=0,i.test(e)?'"'+e.replace(i,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'};if(null===e)return"null";var n=typeof e;if("undefined"!==n){if("string"===n)return r(e);if("number"===n||"boolean"===n)return""+e;if("object"===n){if("function"==typeof e.toJSON)return liger.toJSON(e.toJSON());if(e.constructor===Date)return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+"Z":null;var o=[];if(e.constructor===Array){for(var a=0,s=e.length;a<s;a++)o.push(liger.toJSON(e[a])||"null");return"["+o.join(",")+"]"}var l,d;for(var u in e){if("number"===(n=typeof u))l='"'+u+'"';else{if("string"!==n)continue;l=r(u)}n=typeof e[u],"function"!==n&&"undefined"!==n&&(d=liger.toJSON(e[u]),o.push(l+":"+d))}return"{"+o.join(",")+"}"}}},liger.getEditor=function(e){var t=e.type,i=e.control,r=e.master;if(!t)return null;var n=0;i&&(i=i.substr(0,1).toUpperCase()+i.substr(1));var o={create:function(o,a,s){var l=a.field||a.column,d=s||{},u=!!a.column,c=$.extend({},e.options),h="text";-1!=$.inArray(t,["password","file","checkbox","radio"])&&(h=t),e.password&&(h="password");var g=$("<input type='"+h+"'/>");if(e.body&&(g=e.body.clone()),g.appendTo(o),a.field){var p=l.name,f=$.isFunction(d.prefixID)?d.prefixID(r):d.prefixID||"";if(c.id=l.id||f+l.name,-1!=$.inArray(t,["select","combobox","autocomplete","popup"])&&(p=l.textField||l.comboboxName,l.comboboxName&&!l.id&&(c.id=(d.prefixID||"")+l.comboboxName)),-1!=$.inArray(t,["select","combobox","autocomplete","popup","radiolist","checkboxlist","listbox"])&&(c.valueFieldID=f+l.name),!e.body){var m=f+p,v=(new Date).getTime()+"_"+ ++n+"_"+l.name;g.attr($.extend({id:v,name:m},l.attr)),l.cssClass&&g.addClass(l.cssClass),l.validate&&!r.options.unSetValidateAttr&&g.attr("validate",liger.toJSON(l.validate))}$.extend(c,l.options)}if(l.dictionary&&(l.editor=l.editor||{},!l.editor.data)){var y=[],b=l.dictionary.split("|");$(b).each(function(e,t){var i=t.split(","),r=i[0],n=i.length>=2?i[1]:i[0];y.push({id:r,value:r,text:n})}),l.editor.data=y}if(l.editor){l.editor.options&&($.extend(c,l.editor.options),delete l.editor.options),l.editor.valueColumnName&&(c.valueField=l.editor.valueColumnName,delete l.editor.valueColumnName),l.editor.displayColumnName&&(c.textField=l.editor.displayColumnName,delete l.editor.displayColumnName);var w=l.editor.p||l.editor.ext;w&&(w="function"==typeof w?w(a):w,$.extend(c,w),delete l.editor.p,delete l.editor.ext),$.extend(c,l.editor)}u?(c.host_grid=this,c.host_grid_row=a.record,c.host_grid_column=a.column):(c.host_form=this,(l.readonly||c.host_form.get("readonly"))&&(c.readonly=!0));var x=g["liger"+i](c);return u&&setTimeout(function(){g.focus()},100),x},getValue:function(e,t){var i=t.field||t.column;if(e.getValue){var r=e.getValue(),n=t.column?t.column.editor.type:t.field.type;if(i&&i.editor&&i.editor.isArrayValue&&r&&(r=r.split(";")),i&&i.editor&&i.editor.isRef&&e.getText&&(r=[r,e.getText()]),i&&i.editor&&i.editor.isRefMul&&e.getText){var o=r.split(";"),a=e.getText().split(";");r=[];for(var s=0;s<o.length;s++)r.push([o[s],a[s]])}return"int"==n||"digits"==n?r=r?parseInt(r,10):0:"float"!=n&&"number"!=n||(r=r?parseFloat(r):0),r}},setValue:function(e,t,i){var r=i.field||i.column;if(e.setValue){if(r&&r.editor&&r.editor.isArrayValue&&t&&(t=t.join(";")),r&&r.editor&&r.editor.isRef&&$.isArray(t)&&(t=t[0]),r&&r.editor&&r.editor.isRefMul&&$.isArray(t)){for(var n=[],o=0;o<t.length;o++)n.push(t[o].length>1?t[o][1]:t[o][0]);t=n.join(";")}e.setValue(t)}},getText:function(e,t){t.field||t.column;if(e.getText){var i=e.getText();if(i)return i}},setText:function(e,t,i){if(t&&e.setText)e.setText(t);else{var r=i.field||i.column;if(t=e.setValue()||i.value||"",r&&r.editor&&r.editor.isRef&&$.isArray(t)&&t.length>1&&(t=t[1]),r&&r.editor&&r.editor.isRefMul&&$.isArray(t)&&t.length>1){for(var n=[],o=0;o<t.length;o++)n.push(t[1]);t=n.join(";")}e.setText&&e.setText(t)}},getSelected:function(e,t){if(e.getSelected)return e.getSelected()},resize:function(e,t,i,r){r.field&&(t-=2),e.resize&&e.resize(t,i)},setEnabled:function(e,t){t?e.setEnabled&&e.setEnabled():e.setDisabled&&e.setDisabled()},destroy:function(e,t){e.destroy&&e.destroy()}};return $.extend({},o,liger.editorCreatorDefaults||{},e)},liger.editors={text:{control:"TextBox"},date:{control:"DateEditor",setValue:function(editor,value,editParm){"string"==typeof value&&/^\/Date/.test(value)&&(value=value.replace(/^\//,"new ").replace(/\/$/,""),eval("value = "+value)),editor.setValue(value)}},combobox:{control:"ComboBox"},spinner:{control:"Spinner"},checkbox:{control:"CheckBox"},checkboxlist:{control:"CheckBoxList",body:$("<div></div>"),resize:function(e,t,i,r){e.set("width",t-2)}},radiolist:{control:"RadioList",body:$("<div></div>"),resize:function(e,t,i,r){e.set("width",t-2)}},listbox:{control:"ListBox",body:$("<div></div>"),resize:function(e,t,i,r){e.set("width",t-2)}},popup:{control:"PopupEdit"},number:{control:"TextBox",options:{number:!0}},currency:{control:"TextBox",options:{currency:!0}},digits:{control:"TextBox",options:{digits:!0}},password:{control:"TextBox",password:!0}},liger.editors.string=liger.editors.text,liger.editors.select=liger.editors.combobox,liger.editors.int=liger.editors.digits,liger.editors.float=liger.editors.number,liger.editors.chk=liger.editors.checkbox,liger.editors.popupedit=liger.editors.popup,$.fn.live=$.fn.on?$.fn.on:$.fn.live,!$.browser){var userAgent=navigator.userAgent.toLowerCase();$.browser={version:(userAgent.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:/msie/.test(userAgent)&&!/opera/.test(userAgent),mozilla:/mozilla/.test(userAgent)&&!/(compatible|webkit)/.test(userAgent)}}}(jQuery),define("ligerui.base",["jquery"],function(){}),function(e){liger.inject={prev:"liger-",defaults:{Grid_detail:{height:null,onShowDetail:null},Grid_editor:"ComboBox,DateEditor,Spinner,TextBox,PopupEdit,CheckBoxList,RadioList,Grid_editor",Grid_popup:"PopupEdit",Grid_grid:"Grid",Grid_condition:"Form",Grid_toolbar:"Toolbar",Grid_fields:"Form_fields",Form_editor:"ComboBox,DateEditor,Spinner,TextBox,PopupEdit,CheckBoxList,RadioList,Form_editor",Form_grid:"Grid",Form_columns:"Grid_columns",Form_condition:"Form",Form_popup:"PopupEdit",Form_buttons:"Button",Portal_panel:"Panel"},config:{Grid:{dynamics:"data,isChecked,detail,rowDraggingRender,toolbar,columns",arrays:"columns",columns:{dynamics:"render,totalSummary,headerRender,columns,editor,columns",arrays:"columns",textProperty:"display",columns:"liger.inject.config.Grid.columns",editor:{dynamics:"data,columns,render,renderItem,grid,condition,ext",grid:"liger.inject.config.Grid",condition:"liger.inject.config.Form"}},toolbar:{arrays:"items"}},Form:{dynamics:"validate,fields,buttons",arrays:"fields,buttons",fields:{textProperty:"label",dynamics:"validate,editor",editor:{dynamics:"data,columns,render,renderItem,grid,condition,attr",grid:"liger.inject.config.Grid",condition:"liger.inject.config.Form"}},buttons:"liger.inject.config.Button"},PopupEdit:{dynamics:"grid,condition"},Button:{textProperty:"text",dynamics:"click"},ComboBox:{dynamics:"columns,data,tree,grid,condition,render,parms,renderItem"},ListBox:{dynamics:"columns,data,render,parms"},RadioList:{dynamics:"data,parms"},CheckBoxList:{dynamics:"data,parms"},Panel:{},Portal:{dynamics:"rows,columns",arrays:"rows,columns",columns:{dynamics:"panels",arrays:"panels"},rows:{dynamics:"panels",arrays:"panels"},toolbar:{arrays:"items"}}},parse:function(e){try{return null==e?null:new Function("return "+e+";")()}catch(e){return null}},parseDefault:function(t){var i=this;if(!t)return t;var r={};return e(t.split(",")).each(function(t,n){n&&(n=n.substr(0,1).toUpperCase()+n.substr(1),e.extend(r,i.parse("liger.defaults."+n)))}),r},fotmatValue:function(e,t){return"boolean"==t?"true"==e||"1"==e:"number"==t&&e?parseFloat(e.toString()):e},getOptions:function(t){var i=t.jelement,r=t.defaults,n=t.config;n=e.extend({ignores:"",dynamics:"",arrays:""},n);var o,a=this,s={};n.textProperty&&(s[n.textProperty]=i.text());for(var l in r){var d=l.toLowerCase(),u=e("> ."+d,i);if(-1==e.inArray(l,n.ignores.split(",")))if(u.length){var c=t.controlName+"_"+l,h=a.defaults[c]||liger.defaults[c],g=n[l];"string"==typeof h?h=a.parseDefault(h):"funcion"==typeof h&&(h=h()),"string"==typeof g?g=a.parse(g):"funcion"==typeof g&&(g=g()),h&&(-1!=e.inArray(l,n.arrays.split(","))?(o=[],e(">div,>li,>input",u).each(function(){o.push(a.getOptions({defaults:h,controlName:t.controlName,config:g,jelement:e(this)}))}),s[l]=o):s[l]=a.getOptions({defaults:h,controlName:t.controlName,config:g,jelement:u})),u.remove()}else-1!=e.inArray(l,n.dynamics.split(","))||0==l.indexOf("on")?(o=a.parse(i.attr("data-"+l)||i.attr(l)))&&(s[l]=a.fotmatValue(o,typeof r[l])):(o=i.attr("data-"+l)||i.attr(l))&&(s[l]=a.fotmatValue(o,typeof r[l]))}var p=i.attr("data-options")||i.attr("data-property");return p&&(p=a.parse("{"+p+"}")),p&&e.extend(s,p),s},init:function(){var t=this,i=this.config;for(var r in t.defaults)"string"==typeof t.defaults[r]&&(t.defaults[r]=t.parseDefault(t.defaults[r]));for(var n in liger.controls){var o=i[n]||{},a=t.prev+n.toLowerCase();e("."+a).each(function(){var i=e(this),r=e.extend({onrender:null,onrendered:null},liger.defaults[n]),a=t.getOptions({defaults:r,controlName:n,config:o,jelement:i});i[liger.pluginPrev+n](a)})}}},e(function(){liger.inject.init()})}(jQuery),define("ligerui.inject",["jquery","ligerui.base"],function(){}),function(e){e.fn.ligerResizable=function(t){return e.ligerui.run.call(this,"ligerResizable",arguments,{idAttrName:"ligeruiresizableid",hasElement:!1,propertyToElemnt:"target"})},e.fn.ligerGetResizableManager=function(){return e.ligerui.run.call(this,"ligerGetResizableManager",arguments,{idAttrName:"ligeruiresizableid",hasElement:!1,propertyToElemnt:"target"})},e.ligerDefaults.Resizable={handles:"n, e, s, w, ne, se, sw, nw",maxWidth:2e3,maxHeight:2e3,minWidth:20,minHeight:20,scope:3,animate:!1,onStartResize:function(e){},onResize:function(e){},onStopResize:function(e){},onEndResize:null},e.ligerui.controls.Resizable=function(t){e.ligerui.controls.Resizable.base.constructor.call(this,null,t)},e.ligerui.controls.Resizable.ligerExtend(e.ligerui.core.UIComponent,{__getType:function(){return"Resizable"},__idPrev:function(){return"Resizable"},_render:function(){var t=this,i=this.options;t.target=e(i.target),t.set(i),t.target.mousemove(function(r){if(!i.disabled&&(t.dir=t._getDir(r),t.dir?t.target.css("cursor",t.dir+"-resize"):t.target.css("cursor").indexOf("-resize")>0&&t.target.css("cursor","default"),i.target.ligeruidragid)){var n=e.ligerui.get(i.target.ligeruidragid);n&&t.dir?n.set("disabled",!0):n&&n.set("disabled",!1)}}).mousedown(function(e){i.disabled||t.dir&&t._start(e)})},_rendered:function(){this.options.target.ligeruiresizableid=this.id},_getDir:function(t){var i=this,r=this.options,n="",o=i.target.offset(),a=i.target.width(),s=i.target.height(),l=r.scope,d=t.pageX||t.screenX,u=t.pageY||t.screenY;return u>=o.top&&u<o.top+l?n+="n":u<=o.top+s&&u>o.top+s-l&&(n+="s"),d>=o.left&&d<o.left+l?n+="w":d<=o.left+a&&d>o.left+a-l&&(n+="e"),"all"==r.handles||""==n?n:-1!=e.inArray(n,i.handles)?n:""},_setHandles:function(e){e&&(this.handles=e.replace(/(\s*)/g,"").split(","))},_createProxy:function(){var t=this;t.proxy=e('<div class="l-resizable"></div>'),t.proxy.width(t.target.width()).height(t.target.height()),t.proxy.attr("resizableid",t.id).appendTo("body")},_removeProxy:function(){var e=this;e.proxy&&(e.proxy.remove(),e.proxy=null)},_start:function(t){var i=this;this.options;i._createProxy(),i.proxy.css({left:i.target.offset().left,top:i.target.offset().top,position:"absolute"}),i.current={dir:i.dir,left:i.target.offset().left,top:i.target.offset().top,startX:t.pageX||t.screenX,startY:t.pageY||t.clientY,width:i.target.width(),height:i.target.height()},e(document).bind("selectstart.resizable",function(){return!1}),e(document).bind("mouseup.resizable",function(){i._stop.apply(i,arguments)}),e(document).bind("mousemove.resizable",function(){i._drag.apply(i,arguments)}),i.proxy.show(),i.trigger("startResize",[i.current,t])},changeBy:{t:["n","ne","nw"],l:["w","sw","nw"],w:["w","sw","nw","e","ne","se"],h:["n","ne","nw","s","se","sw"]},_drag:function(e){var t=this;this.options;if(t.current&&t.proxy){t.proxy.css("cursor",""==t.current.dir?"default":t.current.dir+"-resize");var i=e.pageX||e.screenX,r=e.pageY||e.screenY;t.current.diffX=i-t.current.startX,t.current.diffY=r-t.current.startY,t._applyResize(t.proxy),t.trigger("resize",[t.current,e])}},_stop:function(t){var i=this;this.options;i.hasBind("stopResize")?0!=i.trigger("stopResize",[i.current,t])&&i._applyResize():i._applyResize(),i._removeProxy(),i.trigger("endResize",[i.current,t]),e(document).unbind("selectstart.resizable"),e(document).unbind("mousemove.resizable"),e(document).unbind("mouseup.resizable")},_applyResize:function(t){var i=this,r=this.options,n={left:i.current.left,top:i.current.top,width:i.current.width,height:i.current.height},o=!1;t||(t=i.target,o=!0,isNaN(parseInt(i.target.css("top")))?n.top=0:n.top=parseInt(i.target.css("top")),isNaN(parseInt(i.target.css("left")))?n.left=0:n.left=parseInt(i.target.css("left"))),e.inArray(i.current.dir,i.changeBy.l)>-1?(n.left+=i.current.diffX,i.current.diffLeft=i.current.diffX):o&&delete n.left,e.inArray(i.current.dir,i.changeBy.t)>-1?(n.top+=i.current.diffY,i.current.diffTop=i.current.diffY):o&&delete n.top,e.inArray(i.current.dir,i.changeBy.w)>-1?(n.width+=(-1==i.current.dir.indexOf("w")?1:-1)*i.current.diffX,i.current.newWidth=n.width):o&&delete n.width,e.inArray(i.current.dir,i.changeBy.h)>-1?(n.height+=(-1==i.current.dir.indexOf("n")?1:-1)*i.current.diffY,i.current.newHeight=n.height):o&&delete n.height,o&&r.animate?t.animate(n):t.css(n)}})}(jQuery),define("ligerui.ligerResizable",["jquery","ligerui.base","ligerui.inject"],function(){}),function(e){var t=e.ligerui;e.fn.ligerDrag=function(e){return t.run.call(this,"ligerDrag",arguments,{idAttrName:"ligeruidragid",hasElement:!1,propertyToElemnt:"target"})},e.fn.ligerGetDragManager=function(){return t.run.call(this,"ligerGetDragManager",arguments,{idAttrName:"ligeruidragid",hasElement:!1,propertyToElemnt:"target"})},e.ligerDefaults.Drag={onStartDrag:!1,onDrag:!1,onStopDrag:!1,handler:null,clickDelay:100,proxy:!0,revert:!1,animate:!0,onRevert:null,onEndRevert:null,receive:null,onDragEnter:null,onDragOver:null,onDragLeave:null,onDrop:null,disabled:!1,proxyX:null,proxyY:null},t.controls.Drag=function(e){t.controls.Drag.base.constructor.call(this,null,e)},t.controls.Drag.ligerExtend(t.core.UIComponent,{__getType:function(){return"Drag"},__idPrev:function(){return"Drag"},_render:function(){var t=this,i=this.options;this.set(i),t.cursor="move",t.handler.css("cursor",t.cursor),t.mouseDowned=!1,t.handler.bind("mousedown.drag",function(r){i.disabled||2!=r.button&&(t.mouseDowned=!0,e(document).bind("selectstart.drag",function(){return!1}),setTimeout(function(){t.mouseDowned&&t._start.call(t,r)},i.clickDelay||100))}).bind("mousemove.drag",function(){i.disabled||t.handler.css("cursor",t.cursor)}).bind("mouseup.drag",function(){e(document).unbind("selectstart.drag")}),e(document).bind("mouseup",function(){t.mouseDowned=!1})},_rendered:function(){this.options.target.ligeruidragid=this.id},_start:function(i){var r=this,n=this.options;if(!r.reverting&&!n.disabled){if(r.current={target:r.target,left:r.target.offset().left,top:r.target.offset().top,startX:i.pageX||i.screenX,startY:i.pageY||i.clientY},0==r.trigger("startDrag",[r.current,i]))return!1;if(r.cursor="move",r._createProxy(n.proxy,i),n.proxy&&!r.proxy)return!1;(r.proxy||r.handler).css("cursor",r.cursor),e(document).bind("mousemove.drag",function(){r._drag.apply(r,arguments)}),t.draggable.dragging=!0,e(document).bind("mouseup.drag",function(){t.draggable.dragging=!1,r._stop.apply(r,arguments)})}},_drag:function(t){var i=this;this.options;if(i.current){var r=t.pageX||t.screenX,n=t.pageY||t.screenY;i.current.diffX=r-i.current.startX,i.current.diffY=n-i.current.startY,(i.proxy||i.handler).css("cursor",i.cursor),i.receive&&i.receive.each(function(o,a){var s=e(a),l=s.offset();r>l.left&&r<l.left+s.width()&&n>l.top&&n<l.top+s.height()?i.receiveEntered[o]?i.trigger("dragOver",[a,i.proxy||i.target,t]):(i.receiveEntered[o]=!0,i.trigger("dragEnter",[a,i.proxy||i.target,t])):i.receiveEntered[o]&&(i.receiveEntered[o]=!1,i.trigger("dragLeave",[a,i.proxy||i.target,t]))}),i.hasBind("drag")?0!=i.trigger("drag",[i.current,t])?i._applyDrag():i.proxy?i._removeProxy():i._stop():i._applyDrag()}},_stop:function(t){var i=this,r=this.options;e(document).unbind("mousemove.drag"),e(document).unbind("mouseup.drag"),e(document).unbind("selectstart.drag"),i.receive&&i.receive.each(function(e,r){i.receiveEntered[e]&&i.trigger("drop",[r,i.proxy||i.target,t])}),i.proxy&&(r.revert?i.hasBind("revert")?0!=i.trigger("revert",[i.current,t])?i._revert(t):i._removeProxy():i._revert(t):(i._applyDrag(i.target),i._removeProxy())),i.cursor="move",i.trigger("stopDrag",[i.current,t]),i.current=null,i.handler.css("cursor",i.cursor)},_revert:function(e){var t=this;t.reverting=!0,t.proxy.animate({left:t.current.left,top:t.current.top},function(){t.reverting=!1,t._removeProxy(),t.trigger("endRevert",[t.current,e]),t.current=null})},_applyDrag:function(e){var t=this,i=this.options;e=e||t.proxy||t.target;var r={},n=e==t.target;t.current.diffX&&(n||null==i.proxyX?r.left=t.current.left+t.current.diffX:r.left=t.current.startX+i.proxyX+t.current.diffX),t.current.diffY&&(n||null==i.proxyY?r.top=t.current.top+t.current.diffY:r.top=t.current.startY+i.proxyY+t.current.diffY),e==t.target&&t.proxy&&i.animate?(t.reverting=!0,e.animate(r,function(){t.reverting=!1})):e.css(r)},_setReceive:function(t){this.receiveEntered={},t&&(this.receive="string"==typeof t?e(t):t)},_setHandler:function(t){var i=this,r=this.options;i.handler=t?"string"==typeof t?e(t,r.target):t:e(r.target)},_setTarget:function(t){this.target=e(t)},_setCursor:function(e){this.cursor=e,(this.proxy||this.handler).css("cursor",e)},_createProxy:function(t,i){if(t){var r=this,n=this.options;"function"==typeof t?r.proxy=t.call(this.options.target,r,i):"clone"==t?(r.proxy=r.target.clone().css("position","absolute"),r.proxy.appendTo("body")):(r.proxy=e("<div class='l-draggable'></div>"),r.proxy.width(r.target.width()).height(r.target.height()),r.proxy.attr("dragid",r.id).appendTo("body")),r.proxy.css({left:null==n.proxyX?r.current.left:r.current.startX+n.proxyX,top:null==n.proxyY?r.current.top:r.current.startY+n.proxyY}).show()}},_removeProxy:function(){var e=this;e.proxy&&(e.proxy.remove(),e.proxy=null)}})}(jQuery),define("ligerui.ligerDrag",["jquery","ligerui.base","ligerui.inject"],function(){}),function(e){var t=e.ligerui;e(".l-dialog-btn").live("mouseover",function(){e(this).addClass("l-dialog-btn-over")}).live("mouseout",function(){e(this).removeClass("l-dialog-btn-over")}),e(".l-dialog-tc .l-dialog-close").live("mouseover",function(){e(this).addClass("l-dialog-close-over")}).live("mouseout",function(){e(this).removeClass("l-dialog-close-over")}),e.ligerDialog=function(){return t.run.call(null,"ligerDialog",arguments,{isStatic:!0})},e.ligerui.DialogImagePath="../../lib/ligerUI/skins/Aqua/images/win/",e.ligerDefaults.Dialog={cls:null,contentCls:null,id:null,buttons:null,isDrag:!0,width:280,height:null,content:"",target:null,url:null,urlParms:null,load:!1,type:"none",left:null,top:null,modal:!0,data:null,name:null,isResize:!1,allowClose:!0,opener:null,timeParmName:null,closeWhenEnter:null,isHidden:!0,show:!0,title:"æç¤º",showMax:!1,showToggle:!1,showMin:!1,slide:!e.browser.msie,fixedType:null,showType:null,layoutMode:1,onLoaded:null,onExtend:null,onExtended:null,onCollapse:null,onCollapseed:null,onContentHeightChange:null,onClose:null,onClosed:null,onStopResize:null,minIsHide:!1},e.ligerDefaults.DialogString={titleMessage:"æç¤º",ok:"ç¡®å®",yes:"æ¯",no:"å¦",cancel:"åæ¶",waittingMessage:"æ­£å¨ç­å¾ä¸­,è¯·ç¨å..."},e.ligerMethos.Dialog=e.ligerMethos.Dialog||{},t.controls.Dialog=function(e){t.controls.Dialog.base.constructor.call(this,null,e)},t.controls.Dialog.ligerExtend(t.core.Win,{__getType:function(){return"Dialog"},__idPrev:function(){return"Dialog"},_extendMethods:function(){return e.ligerMethos.Dialog},_render:function(){function i(){var t=0,i=0,o=n.width||r.dialog.width();1==n.slide&&(n.slide="fast"),null!=n.left?t=n.left:n.left=t=.5*(e(window).width()-o),null!=n.top?i=n.top:n.top=i=.5*(e(window).height()-r.dialog.height())+e(window).scrollTop()-10,t<0&&(n.left=t=0),i<0&&(n.top=i=0),r.dialog.css({left:t,top:i})}var r=this,n=this.options,o="";r.set(n,!0);var a=e('<div class="l-dialog"><table class="l-dialog-table" cellpadding="0" cellspacing="0" border="0"><tbody><tr><td class="l-dialog-tl"></td><td class="l-dialog-tc"><div class="l-dialog-tc-inner"><div class="l-dialog-icon"></div><div class="l-dialog-title"></div><div class="l-dialog-winbtns"><div class="l-dialog-winbtn l-dialog-close"></div></div></div></td><td class="l-dialog-tr"></td></tr><tr><td class="l-dialog-cl"></td><td class="l-dialog-cc"><div class="l-dialog-body"><div class="l-dialog-image"></div> <div class="l-dialog-content"></div><div class="l-dialog-buttons"><div class="l-dialog-buttons-inner"></div></td><td class="l-dialog-cr"></td></tr><tr><td class="l-dialog-bl"></td><td class="l-dialog-bc"></td><td class="l-dialog-br"></td></tr></tbody></table></div>');if(e("body").append(a),r.dialog=a,2==n.layoutMode&&a.find("td.l-dialog-tl,td.l-dialog-cl,td.l-dialog-bl,td.l-dialog-tr,td.l-dialog-cr,td.l-dialog-br").remove(),r.element=a[0],r.dialog.body=e(".l-dialog-body:first",r.dialog),r.dialog.header=e(".l-dialog-tc-inner:first",r.dialog),r.dialog.winbtns=e(".l-dialog-winbtns:first",r.dialog.header),r.dialog.buttons=e(".l-dialog-buttons:first",r.dialog),r.dialog.content=e(".l-dialog-content:first",r.dialog),r.set(n,!1),0==n.allowClose&&e(".l-dialog-close",r.dialog).remove(),(n.target||n.url||"none"==n.type)&&(n.type=null,r.dialog.addClass("l-dialog-win")),n.cls&&r.dialog.addClass(n.cls),n.id&&r.dialog.attr("id",n.id),r.mask(),n.isDrag&&r._applyDrag(),n.isResize&&r._applyResize(),n.type?r._setImage():(e(".l-dialog-image",r.dialog).remove(),r.dialog.content.addClass("l-dialog-content-noimage")),n.contentCls&&r.dialog.content.addClass(n.contentCls),n.show||(r.unmask(),r.dialog.hide()),n.target)r.dialog.content.prepend(n.target),e(n.target).show();else if(n.url){var s=e.isFunction(n.url)?n.url.call(r):n.url,l=e.isFunction(n.urlParms)?n.urlParms.call(r):n.urlParms;if(n.timeParmName&&(l=l||{},l[n.timeParmName]=(new Date).getTime()),l)for(var d in l)s+=-1==s.indexOf("?")?"?":"&",s+=d+"="+l[d];if(n.load)r.dialog.body.load(s,function(){r._saveStatus(),r.trigger("loaded")});else{r.jiframe=e("<iframe frameborder='0'></iframe>");var u=n.name?n.name:"ligerwindow"+(new Date).getTime();r.jiframe.attr("name",u),r.jiframe.attr("id",u),r.dialog.content.prepend(r.jiframe),r.dialog.content.addClass("l-dialog-content-nopadding l-dialog-content-frame"),
setTimeout(function(){0==r.dialog.body.find(".l-dialog-loading:first").length&&r.dialog.body.append("<div class='l-dialog-loading' style='display:block;'></div>");var t=e(".l-dialog-loading:first",r.dialog.body);r.jiframe[0].dialog=r,r.jiframe.attr("src",s).bind("load.dialog",function(){t.hide(),r.trigger("loaded")}),r.frame=window.frames[r.jiframe.attr("name")]},0),o="jquery_ligerui_"+(new Date).getTime(),r.tmpInput=e("<input></input>"),r.tmpInput.attr("id",o),r.dialog.content.prepend(r.tmpInput)}}n.opener&&(r.dialog.opener=n.opener),n.buttons?e(n.buttons).each(function(t,i){var n=e('<div class="l-dialog-btn"><div class="l-dialog-btn-l"></div><div class="l-dialog-btn-r"></div><div class="l-dialog-btn-inner"></div></div>');e(".l-dialog-btn-inner",n).html(i.text),e(".l-dialog-buttons-inner",r.dialog.buttons).prepend(n),i.width&&n.width(i.width),i.onclick&&n.click(function(){i.onclick(i,r,t)}),i.cls&&n.addClass(i.cls)}):r.dialog.buttons.remove(),e(".l-dialog-buttons-inner",r.dialog.buttons).append("<div class='l-clear'></div>"),e(".l-dialog-title",r.dialog).bind("selectstart",function(){return!1}),r.dialog.click(function(){t.win.setFront(r)}),e(".l-dialog-tc .l-dialog-close",r.dialog).click(function(){n.isHidden?r.hide():r.close()}),n.fixedType||("auto"==n.width?setTimeout(function(){i()},100):i()),r.show(),e("body").bind("keydown.dialog",function(e){var t=e.which;13==t?r.enter():27==t&&r.esc()}),r._updateBtnsWidth(),r._saveStatus(),r._onReisze(),""!=o&&(e("#"+o).focus(),e("#"+o).remove())},_borderX:12,_borderY:32,doMax:function(i){var r=this,n=this.options,o=e(window).width(),a=e(window).height(),s=0;t.win.taskbar&&(a-=t.win.taskbar.outerHeight(),t.win.top&&(s+=t.win.taskbar.outerHeight())),i?(r.dialog.body.animate({width:o-r._borderX},n.slide),r.dialog.animate({left:0,top:s},n.slide),r.dialog.content.animate({height:a-r._borderY-r.dialog.buttons.outerHeight()},n.slide,function(){r._onReisze()})):(r.set({width:o,height:a,left:0,top:s}),r._onReisze())},max:function(){var t=this,i=this.options;t.winmax&&(t.winmax.addClass("l-dialog-recover"),t.doMax(i.slide),t.wintoggle&&(t.wintoggle.hasClass("l-dialog-extend")?t.wintoggle.addClass("l-dialog-toggle-disabled l-dialog-extend-disabled"):t.wintoggle.addClass("l-dialog-toggle-disabled l-dialog-collapse-disabled")),t.resizable&&t.resizable.set({disabled:!0}),t.draggable&&t.draggable.set({disabled:!0}),t.maximum=!0,e(window).bind("resize.dialogmax",function(){t.doMax(!1)}))},recover:function(){var t=this,i=this.options;t.winmax&&(t.winmax.removeClass("l-dialog-recover"),i.slide?(t.dialog.body.animate({width:t._width-t._borderX},i.slide),t.dialog.animate({left:t._left,top:t._top},i.slide),t.dialog.content.animate({height:t._height-t._borderY-t.dialog.buttons.outerHeight()},i.slide,function(){t._onReisze()})):(t.set({width:t._width,height:t._height,left:t._left,top:t._top}),t._onReisze()),t.wintoggle&&t.wintoggle.removeClass("l-dialog-toggle-disabled l-dialog-extend-disabled l-dialog-collapse-disabled"),e(window).unbind("resize.dialogmax")),this.resizable&&this.resizable.set({disabled:!1}),t.draggable&&t.draggable.set({disabled:!1}),t.maximum=!1},min:function(){var e=this,i=this.options;if(i.minIsHide)e.dialog.hide();else{var r=t.win.getTask(this);i.slide?(e.dialog.body.animate({width:1},i.slide),r.y=r.offset().top+r.height(),r.x=r.offset().left+r.width()/2,e.dialog.animate({left:r.x,top:r.y},i.slide,function(){e.dialog.hide()})):e.dialog.hide()}e.unmask(),e.minimize=!0,e.actived=!1},active:function(){var i=this,r=this.options;if(i.minimize){var n=i._width,o=i._height,a=i._left,s=i._top;i.maximum&&(n=e(window).width(),o=e(window).height(),a=s=0,t.win.taskbar&&(o-=t.win.taskbar.outerHeight(),t.win.top&&(s+=t.win.taskbar.outerHeight()))),r.slide?(i.dialog.body.animate({width:n-i._borderX},r.slide),i.dialog.animate({left:a,top:s},r.slide)):i.set({width:n,height:o,left:a,top:s})}i.actived=!0,i.minimize=!1,t.win.setFront(i),i.show()},toggle:function(){var e=this;this.options;e.wintoggle&&(e.wintoggle.hasClass("l-dialog-extend")?e.extend():e.collapse())},collapse:function(e){var t=this,i=this.options;t.wintoggle&&(i.slide&&0!=e?t.dialog.content.animate({height:1},i.slide):t.dialog.content.height(1),this.resizable&&this.resizable.set({disabled:!0}),t.wintoggle.addClass("l-dialog-extend"))},extend:function(){var e=this,t=this.options;if(e.wintoggle){var i=e._height-e._borderY-e.dialog.buttons.outerHeight();t.slide?e.dialog.content.animate({height:i},t.slide):e.dialog.content.height(i),this.resizable&&this.resizable.set({disabled:!1}),e.wintoggle.removeClass("l-dialog-extend")}},_updateBtnsWidth:function(){var t=this,i=e(">div",t.dialog.winbtns).length;t.dialog.winbtns.width(22*i)},_setLeft:function(e){this.dialog&&null!=e&&this.dialog.css({left:e})},_setTop:function(e){this.dialog&&null!=e&&this.dialog.css({top:e})},_setWidth:function(e){this.dialog&&e>=this._borderX&&this.dialog.body.width(e-this._borderX)},_setHeight:function(e){var t=this,i=this.options;if(this.dialog)if("auto"==e)t.dialog.content.height("auto");else if(e>=this._borderY){var r=e-this._borderY-t.dialog.buttons.outerHeight();if(0==t.trigger("ContentHeightChange",[r]))return;i.load?t.dialog.body.height(r):t.dialog.content.height(r),t.trigger("ContentHeightChanged",[r])}},_setShowMax:function(t){var i=this;this.options;t?i.winmax||(i.winmax=e('<div class="l-dialog-winbtn l-dialog-max"></div>').appendTo(i.dialog.winbtns).hover(function(){e(this).hasClass("l-dialog-recover")?e(this).addClass("l-dialog-recover-over"):e(this).addClass("l-dialog-max-over")},function(){e(this).removeClass("l-dialog-max-over l-dialog-recover-over")}).click(function(){e(this).hasClass("l-dialog-recover")?i.recover():i.max()})):i.winmax&&(i.winmax.remove(),i.winmax=null),i._updateBtnsWidth()},_setShowMin:function(i){var r=this,n=this.options;i?r.winmin||(r.winmin=e('<div class="l-dialog-winbtn l-dialog-min"></div>').appendTo(r.dialog.winbtns).hover(function(){e(this).addClass("l-dialog-min-over")},function(){e(this).removeClass("l-dialog-min-over")}).click(function(){r.min()}),n.minIsHide||t.win.addTask(r)):r.winmin&&(r.winmin.remove(),r.winmin=null),r._updateBtnsWidth()},_setShowToggle:function(t){var i=this;this.options;t?i.wintoggle||(i.wintoggle=e('<div class="l-dialog-winbtn l-dialog-collapse"></div>').appendTo(i.dialog.winbtns).hover(function(){e(this).hasClass("l-dialog-toggle-disabled")||(e(this).hasClass("l-dialog-extend")?e(this).addClass("l-dialog-extend-over"):e(this).addClass("l-dialog-collapse-over"))},function(){e(this).removeClass("l-dialog-extend-over l-dialog-collapse-over")}).click(function(){if(!e(this).hasClass("l-dialog-toggle-disabled"))if(i.wintoggle.hasClass("l-dialog-extend")){if(0==i.trigger("extend"))return;i.wintoggle.removeClass("l-dialog-extend"),i.extend(),i.trigger("extended")}else{if(0==i.trigger("collapse"))return;i.wintoggle.addClass("l-dialog-extend"),i.collapse(),i.trigger("collapseed")}})):i.wintoggle&&(i.wintoggle.remove(),i.wintoggle=null)},enter:function(){var e,t=this,i=this.options;void 0!=i.closeWhenEnter?e=i.closeWhenEnter:"warn"!=i.type&&"error"!=i.type&&"success"!=i.type&&"question"!=i.type||(e=!0),e&&t.close()},esc:function(){},_removeDialog:function(){function t(){var t=e("iframe",i.dialog);if(t.length){var r=t[0];if(r.src="about:blank",r.contentWindow&&r.contentWindow.document)try{r.contentWindow.document.write("")}catch(e){}e.browser.msie&&CollectGarbage(),t.remove()}i.dialog.remove()}var i=this,r=this.options;r.showType&&r.fixedType?i.dialog.animate({bottom:-1*r.height},function(){t()}):t()},close:function(){var e=this;this.options;0!=e.trigger("Close")&&(e.doClose(),e.trigger("Closed"))},doClose:function(){var i=this;t.win.removeTask(this),e.ligerui.remove(this),i.unmask(),i._removeDialog(),e("body").unbind("keydown.dialog")},_getVisible:function(){return this.dialog.is(":visible")},_setUrl:function(e){var t=this,i=this.options;i.url=e,i.load?t.dialog.body.html("").load(i.url,function(){t.trigger("loaded")}):t.jiframe&&t.jiframe.attr("src",i.url)},_setContent:function(e){this.dialog.content.html(e)},_setTitle:function(t){var i=this;this.options;t&&e(".l-dialog-title",i.dialog).html(t)},_hideDialog:function(){var e=this,t=this.options;t.showType&&t.fixedType?e.dialog.animate({bottom:-1*t.height},function(){e.dialog.hide()}):e.dialog.hide()},hidden:function(){var e=this;t.win.removeTask(e),e.dialog.hide(),e.unmask()},show:function(){var t=this,i=this.options;t.mask(),i.fixedType?i.showType?(t.dialog.css({bottom:-1*i.height}).addClass("l-dialog-fixed"),t.dialog.show().animate({bottom:0})):t.dialog.show().css({bottom:0}).addClass("l-dialog-fixed"):t.dialog.show(),e.ligerui.win.setFront.ligerDefer(e.ligerui.win,100,[t])},setUrl:function(e){this._setUrl(e)},_saveStatus:function(){var e=this;e._width=e.dialog.body.width(),e._height=e.dialog.body.height();var t=0,i=0;isNaN(parseInt(e.dialog.css("top")))||(t=parseInt(e.dialog.css("top"))),isNaN(parseInt(e.dialog.css("left")))||(i=parseInt(e.dialog.css("left"))),e._top=t,e._left=i},_applyDrag:function(){var i=this,r=this.options;e.fn.ligerDrag&&(i.draggable=i.dialog.ligerDrag({handler:".l-dialog-title",animate:!1,onStartDrag:function(){t.win.setFront(i);var r=e("<div class='l-dragging-mask' style='display:block'></div>").height(i.dialog.height());i.dialog.append(r),i.dialog.content.addClass("l-dialog-content-dragging")},onDrag:function(e,t){if((t.pageY||t.screenY)<0)return!1},onStopDrag:function(){if(i.dialog.find("div.l-dragging-mask:first").remove(),i.dialog.content.removeClass("l-dialog-content-dragging"),r.target){var n=t.find(e.ligerui.controls.DateEditor),o=t.find(e.ligerui.controls.ComboBox);e(e.merge(n,o)).each(function(){this.updateSelectBoxPosition&&this.updateSelectBoxPosition()})}i._saveStatus()}}))},_onReisze:function(){var t=this,i=this.options;if(i.target||i.url){var r=e(i.target).liger();if(r||(r=e(i.target).find(":first").liger()),!r)return;var n=t.dialog.content.height(),o=t.dialog.content.width();r.trigger("resize",[{width:o,height:n}])}},_applyResize:function(){var t=this;this.options;e.fn.ligerResizable&&(t.resizable=t.dialog.ligerResizable({onStopResize:function(e,i){var r=0,n=0;return isNaN(parseInt(t.dialog.css("top")))||(r=parseInt(t.dialog.css("top"))),isNaN(parseInt(t.dialog.css("left")))||(n=parseInt(t.dialog.css("left"))),e.diffLeft&&t.set({left:n+e.diffLeft}),e.diffTop&&t.set({top:r+e.diffTop}),e.newWidth&&(t.set({width:e.newWidth}),t.dialog.body.css({width:e.newWidth-t._borderX})),e.newHeight&&t.set({height:e.newHeight}),t._onReisze(),t._saveStatus(),t.trigger("stopResize"),!1},animate:!1}))},_setImage:function(){var t=this,i=this.options;if(i.type){var r={paddingLeft:74,paddingRight:15,paddingBottom:30};"success"==i.type||"donne"==i.type||"ok"==i.type?(e(".l-dialog-image",t.dialog).addClass("l-dialog-image-donne").show(),t.dialog.content.css(r)):"error"==i.type?(e(".l-dialog-image",t.dialog).addClass("l-dialog-image-error").show(),t.dialog.content.css(r)):"warn"==i.type?(e(".l-dialog-image",t.dialog).addClass("l-dialog-image-warn").show(),t.dialog.content.css(r)):"question"==i.type&&(e(".l-dialog-image",t.dialog).addClass("l-dialog-image-question").show(),t.dialog.content.css(r))}}}),t.controls.Dialog.prototype.hide=t.controls.Dialog.prototype.hidden,e.ligerDialog.open=function(t){return e.ligerDialog(t)},e.ligerDialog.close=function(){var e=t.find(t.controls.Dialog.prototype.__getType());for(var i in e){var r=e[i];r.destroy.ligerDefer(r,5)}t.win.unmask()},e.ligerDialog.show=function(i){var r=t.find(t.controls.Dialog.prototype.__getType());if(r.length)for(var n in r)return void r[n].show();return e.ligerDialog(i)},e.ligerDialog.hide=function(){var e=t.find(t.controls.Dialog.prototype.__getType());for(var i in e){e[i].hide()}},e.ligerDialog.tip=function(t){return t=e.extend({showType:"slide",width:240,modal:!1,height:100},t||{}),e.extend(t,{fixedType:"se",type:"none",isDrag:!1,isResize:!1,showMax:!1,showToggle:!1,showMin:!1}),e.ligerDialog.open(t)},e.ligerDialog.alert=function(t,i,r,n,o){t=t||"","function"==typeof i?(n=i,r=null):"function"==typeof r&&(n=r);var a=function(e,t,i){t.close(),n&&n(e,t,i)};return p={content:t,buttons:[{text:e.ligerDefaults.DialogString.ok,onclick:a}]},"string"==typeof i&&""!=i&&(p.title=i),"string"==typeof r&&""!=r&&(p.type=r),e.extend(p,{showMax:!1,showToggle:!1,showMin:!1},o||{}),e.ligerDialog(p)},e.ligerDialog.confirm=function(t,i,r){"function"==typeof i&&(r=i,type=null);var n=function(e,t){t.close(),r&&r("ok"==e.type)};return p={type:"question",content:t,buttons:[{text:e.ligerDefaults.DialogString.yes,onclick:n,type:"ok",cls:"l-dialog-btn-ok"},{text:e.ligerDefaults.DialogString.no,onclick:n,type:"no",cls:"l-dialog-btn-no"}]},"string"==typeof i&&""!=i&&(p.title=i),e.extend(p,{showMax:!1,showToggle:!1,showMin:!1}),e.ligerDialog(p)},e.ligerDialog.warning=function(t,i,r,n){"function"==typeof i&&(r=i,type=null);var o=function(e,t){t.close(),r&&r(e.type)};return p={type:"question",content:t,buttons:[{text:e.ligerDefaults.DialogString.yes,onclick:o,type:"yes"},{text:e.ligerDefaults.DialogString.no,onclick:o,type:"no"},{text:e.ligerDefaults.DialogString.cancel,onclick:o,type:"cancel"}]},"string"==typeof i&&""!=i&&(p.title=i),e.extend(p,{showMax:!1,showToggle:!1,showMin:!1},n||{}),e.ligerDialog(p)},e.ligerDialog.waitting=function(t){return t=t||e.ligerDefaults.Dialog.waittingMessage,e.ligerDialog.open({cls:"l-dialog-waittingdialog",type:"none",content:'<div style="padding:4px">'+t+"</div>",allowClose:!1})},e.ligerDialog.closeWaitting=function(){var e=t.find(t.controls.Dialog);for(var i in e){var r=e[i];r.dialog.hasClass("l-dialog-waittingdialog")&&r.close()}},e.ligerDialog.success=function(t,i,r,n){return e.ligerDialog.alert(t,i,"success",r,n)},e.ligerDialog.error=function(t,i,r,n){return e.ligerDialog.alert(t,i,"error",r,n)},e.ligerDialog.warn=function(t,i,r,n){return e.ligerDialog.alert(t,i,"warn",r,n)},e.ligerDialog.question=function(t,i,r){return e.ligerDialog.alert(t,i,"question",null,r)},e.ligerDialog.prompt=function(t,i,r,n){var o=e('<input type="text" class="l-dialog-inputtext"/>');"function"==typeof r&&(n=r),"function"==typeof i?n=i:"boolean"==typeof i&&(r=i),"boolean"==typeof r&&r&&(o=e('<textarea class="l-dialog-textarea"></textarea>')),"string"!=typeof i&&"int"!=typeof i||o.val(i);var a=function(e,t,i){t.close(),n&&n("yes"==e.type,o.val())};return p={title:t,target:o,width:320,buttons:[{text:e.ligerDefaults.DialogString.ok,onclick:a,type:"yes"},{text:e.ligerDefaults.DialogString.cancel,onclick:a,type:"cancel"}]},e.ligerDialog(p)}}(jQuery),define("ligerui.ligerDialog",["jquery","ligerui.base","ligerui.inject","ligerui.ligerResizable","ligerui.ligerDrag"],function(){}),define("Common",["jquery","ligerui.ligerDialog"],function(e){var t=function(t,i,r){switch(t){case"success":e.ligerDialog.success(i);break;case"warn":e.ligerDialog.warn(i);break;case"question":e.ligerDialog.question(i);break;case"error":e.ligerDialog.error(i);break;case"confirm":e.ligerDialog.confirm(i,r);break;case"warning":e.ligerDialog.warning(i,r);break;case"prompt":e.ligerDialog.prompt(i,r);break;case"waitting":e.ligerDialog.waitting(i),setTimeout(function(){e.ligerDialog.closeWaitting()},2e3)}},i=function(e){t("error",e)},r=function(e){t("warn",e)},n=function(i){t("waitting",i),setTimeout(function(){e.ligerDialog.closeWaitting()},2e3)},o=function(t,r,n){e.ajax({type:"get",url:t,dataType:"json",data:r,cache:!1,success:function(e){200!=e.code?i(e.msg):n&&n(e)},error:function(e){i("è·åæå¡å¨æ°æ®å¼å¸¸!"+e)}}),e("#pageloading").hide()},a=function(t,r,n){e.ajax({type:"post",url:t,contentType:"application/json",dataType:"json",data:JSON.stringify(r),cache:!1,success:function(e){200!=e.code?i(e.msg):n&&n(e)},error:function(e){i("è·åæå¡å¨æ°æ®å¼å¸¸!"+e)}})},s=function(t,r,n){e.ajax({type:"get",url:t,dataType:"json",data:r,cache:!1,success:function(e){200!=e.code?i(e.msg):n&&n(e)},error:function(e){i("è·åæå¡å¨æ°æ®å¼å¸¸!"+e)}})},l={checkedCustomer:[],f_onCheckAllRow:function(e){for(var t in this.records)e?l.addCheckedCustomer(this.records[t].id):l.removeCheckedCustomer(this.records[t].id)},f_onCheckRow:function(e,t){e?l.addCheckedCustomer(t.id):l.removeCheckedCustomer(t.id)},findCheckedCustomer:function(e){for(var t=0;t<l.checkedCustomer.length;t++)if(l.checkedCustomer[t]==e)return t;return-1},addCheckedCustomer:function(e){-1==l.findCheckedCustomer(e)&&l.checkedCustomer.push(e)},removeCheckedCustomer:function(e){var t=l.findCheckedCustomer(e);-1!=t&&l.checkedCustomer.splice(t,1)}};return{showMsg:t,errorMsg:i,warnMsg:r,successMsg:n,queryList:o,saveData:a,queryById:s,gridCheck:l}}),define("Constant",[],function(){return{constants:{},user:{list:"/user/list",detail:"/user/detail",grant:"/user/grant",queryAll:"/user/query",save:"/user/save",del:"/user/delete",queryById:"/user/query/",grantRoles:"/user/grant/role"},role:{list:"/role/list",detail:"/role/detail",grant:"/role/grant",queryAll:"/role/query",save:"/role/save",del:"/role/delete",queryById:"/role/query/",grantMenus:"/role/grant/menus",queryByUserId:"/role/query/by/user/"},menu:{list:"/menu/list",detail:"/menu/detail",queryAll:"/menu/query",save:"/menu/save",del:"/menu/delete",queryById:"/menu/query/",queryByRoleId:"/menu/query/by/role/"}}}),function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing"));var i=e.data(this[0],"validator");if(i)return i;if(this.attr("novalidate","novalidate"),i=new e.validator(t,this[0]),e.data(this[0],"validator",i),i.settings.onsubmit){var r=this.find("input, button");r.filter(".cancel").click(function(){i.cancelSubmit=!0}),i.settings.submitHandler&&r.filter(":submit").click(function(){i.submitButton=this}),this.submit(function(t){function r(){if(i.settings.submitHandler){if(i.submitButton)var t=e("<input type='hidden'/>").attr("name",i.submitButton.name).val(i.submitButton.value).appendTo(i.currentForm);return i.settings.submitHandler.call(i,i.currentForm),i.submitButton&&t.remove(),!1}return!0}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})}return i},valid:function(){if(e(this[0]).is("form"))return this.validate().form();var t=!0,i=e(this[0].form).validate();return this.each(function(){t&=i.element(this)}),t},removeAttrs:function(t){var i={},r=this;return e.each(t.split(/\s/),function(e,t){i[t]=r.attr(t),r.removeAttr(t)}),i},rules:function(t,i){var r=this[0];if(t){var n=e.data(r.form,"validator").settings,o=n.rules,a=e.validator.staticRules(r);switch(t){case"add":e.extend(a,e.validator.normalizeRule(i)),o[r.name]=a,i.messages&&(n.messages[r.name]=e.extend(n.messages[r.name],i.messages));break;case"remove":if(!i)return delete o[r.name],a;var s={};return e.each(i.split(/\s/),function(e,t){s[t]=a[t],delete a[t]}),s}}var l=e.validator.normalizeRules(e.extend({},e.validator.metadataRules(r),e.validator.classRules(r),e.validator.attributeRules(r),e.validator.staticRules(r)),r);if(l.required){var d=l.required;delete l.required,l=e.extend({required:d},l)}return l}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+t.value)},filled:function(t){return!!e.trim(""+t.value)},unchecked:function(e){return!e.checked}}),e.validator=function(t,i){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=i,this.init()},e.validator.format=function(t,i){return 1==arguments.length?function(){var i=e.makeArray(arguments);return i.unshift(t),e.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!=Array&&(i=e.makeArray(arguments).slice(1)),i.constructor!=Array&&(i=[i]),e.each(i,function(e,i){t=t.replace(new RegExp("\\{"+e+"\\}","g"),i)}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e,t){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(e)).hide())},onfocusout:function(e,t){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){(e.name in this.submitted||e==this.lastElement)&&this.element(e)},onclick:function(e,t){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(r):e(t).addClass(i).removeClass(r)},unhighlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(r):e(t).removeClass(i).addClass(r)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var i=e.data(this[0].form,"validator"),r="on"+t.type.replace(/^validate/,"");i.settings[r]&&i.settings[r].call(i,this[0],t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i=this.groups={};e.each(this.settings.groups,function(t,r){e.each(r.split(/\s/),function(e,r){i[r]=t})});var r=this.settings.rules;e.each(r,function(t,i){r[t]=e.validator.normalizeRule(i)}),e(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",t).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",t),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){t=this.validationTargetFor(this.clean(t)),this.lastElement=t,this.prepareElement(t),this.currentElements=e(t);var i=this.check(t);return i?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0;for(var i in e)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0==this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1==e.grep(this.errorList,function(e){return e.element.name==t.name}).length&&t},elements:function(){var t=this,i={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in i||!t.objectLength(e(this).rules()))&&(i[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){return e(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},check:function(t){t=this.validationTargetFor(this.clean(t));var i=e(t).rules(),r=!1;for(var n in i){var o={method:n,parameters:i[n]};try{var a=e.validator.methods[n].call(this,t.value.replace(/\r/g,""),t,o.parameters);if("dependency-mismatch"==a){r=!0;continue}if(r=!1,"pending"==a)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!a)return this.formatAndAdd(t,o),!1}catch(e){throw this.settings.debug&&window.console&&console.log("exception occured when checking element "+t.id+", check the '"+o.method+"' method",e),e}}if(!r)return this.objectLength(i)&&this.successList.push(t),!0},customMetaMessage:function(t,i){if(e.metadata){var r=this.settings.meta?e(t).metadata()[this.settings.meta]:e(t).metadata();return r&&r.messages&&r.messages[i]}},customMessage:function(e,t){var i=this.settings.messages[e];return i&&(i.constructor==String?i:i[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customMetaMessage(t,i),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(e,t){var i=this.defaultMessage(e,t.method),r=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,t.parameters,e):r.test(i)&&(i=jQuery.format(i.replace(r,"{$1}"),t.parameters)),this.errorList.push({message:i,element:e}),this.errorMap[e.name]=i,this.submitted[e.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){for(var e=0;this.errorList[e];e++){var t=this.errorList[e];this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(var e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(var e=0,i=this.validElements();i[e];e++)this.settings.unhighlight.call(this,i[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var r=this.errorsFor(t);r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.attr("generated")&&r.html(i)):(r=e("<"+this.settings.errorElement+"/>").attr({for:this.idOrName(t),generated:!0}).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(r=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(r).length||(this.settings.errorPlacement?this.settings.errorPlacement(r,e(t)):r.insertAfter(t))),!i&&this.settings.success&&(r.text(""),"string"==typeof this.settings.success?r.addClass(this.settings.success):this.settings.success(r)),this.toShow=this.toShow.add(r)},errorsFor:function(t){var i=this.idOrName(t);return this.errors().filter(function(){return e(this).attr("for")==i})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]),e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){var i=this.currentForm;return e(document.getElementsByName(t)).map(function(e,r){return r.form==i&&r.name==t&&r||null})},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return e("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e,t){return e},string:function(t,i){return!!e(t,i.form).length},function:function(e,t){return e(t)}},optional:function(t){return!e.validator.methods.required.call(this,e.trim(t.value),t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],i&&0==this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!i&&0==this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},dateDE:{dateDE:!0},number:{number:!0},numberDE:{numberDE:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor==String?this.classRuleSettings[t]=i:e.extend(this.classRuleSettings,t)},classRules:function(t){var i={},r=e(t).attr("class");return r&&e.each(r.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(i,e.validator.classRuleSettings[this])}),i},attributeRules:function(t){var i={},r=e(t);for(var n in e.validator.methods){var o;o="required"===n&&"function"==typeof e.fn.prop?r.prop(n):r.attr(n),o?i[n]=o:r[0].getAttribute("type")===n&&(i[n]=!0)}return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},metadataRules:function(t){if(!e.metadata)return{};var i=e.data(t.form,"validator").settings.meta;return i?e(t).metadata()[i]:e(t).metadata()},staticRules:function(t){var i={},r=e.data(t.form,"validator");return r.settings.rules&&(i=e.validator.normalizeRule(r.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return e.each(t,function(r,n){if(!1===n)return void delete t[r];if(n.param||n.depends){var o=!0;switch(typeof n.depends){case"string":o=!!e(n.depends,i.form).length;break;case"function":o=n.depends.call(i,i)}o?t[r]=void 0===n.param||n.param:delete t[r]}}),e.each(t,function(r,n){t[r]=e.isFunction(n)?n(i):n}),e.each(["minlength","maxlength","min","max"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){
t[this]&&(t[this]=[Number(t[this][0]),Number(t[this][1])])}),e.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t.messages&&delete t.messages,t},normalizeRule:function(t){if("string"==typeof t){var i={};e.each(t.split(/\s/),function(){i[this]=!0}),t=i}return t},addMethod:function(t,i,r){e.validator.methods[t]=i,e.validator.messages[t]=void 0!=r?r:e.validator.messages[t],i.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";switch(i.nodeName.toLowerCase()){case"select":var n=e(i).val();return n&&n.length>0;case"input":if(this.checkable(i))return this.getLength(t,i)>0;default:return e.trim(t).length>0}},remote:function(t,i,r){if(this.optional(i))return"dependency-mismatch";var n=this.previousValue(i);if(this.settings.messages[i.name]||(this.settings.messages[i.name]={}),n.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=n.message,r="string"==typeof r&&{url:r}||r,this.pending[i.name])return"pending";if(n.old===t)return n.valid;n.old=t;var o=this;this.startRequest(i);var a={};return a[i.name]=t,e.ajax(e.extend(!0,{url:r,mode:"abort",port:"validate"+i.name,dataType:"json",data:a,success:function(r){o.settings.messages[i.name].remote=n.originalMessage;var a=!0===r;if(a){var s=o.formSubmitted;o.prepareElement(i),o.formSubmitted=s,o.successList.push(i),o.showErrors()}else{var l={},d=r||o.defaultMessage(i,"remote");l[i.name]=n.message=e.isFunction(d)?d(t):d,o.showErrors(l)}n.valid=a,o.stopRequest(i,a)}},r)),"pending"},minlength:function(t,i,r){return this.optional(i)||this.getLength(e.trim(t),i)>=r},maxlength:function(t,i,r){return this.optional(i)||this.getLength(e.trim(t),i)<=r},rangelength:function(t,i,r){var n=this.getLength(e.trim(t),i);return this.optional(i)||n>=r[0]&&n<=r[1]},min:function(e,t,i){return this.optional(t)||e>=i},max:function(e,t,i){return this.optional(t)||e<=i},range:function(e,t,i){return this.optional(t)||e>=i[0]&&e<=i[1]},email:function(e,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},url:function(e,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e))},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 -]+/.test(e))return!1;var i=0,r=0,n=!1;e=e.replace(/\D/g,"");for(var o=e.length-1;o>=0;o--){var a=e.charAt(o),r=parseInt(a,10);n&&(r*=2)>9&&(r-=9),i+=r,n=!n}return i%10==0},accept:function(e,t,i){return i="string"==typeof i?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||e.match(new RegExp(".("+i+")$","i"))},equalTo:function(t,i,r){return t==e(r).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(i).valid()}).val()}}}),e.format=e.validator.format}(jQuery),function(e){var t={};if(e.ajaxPrefilter)e.ajaxPrefilter(function(e,i,r){var n=e.port;"abort"==e.mode&&(t[n]&&t[n].abort(),t[n]=r)});else{var i=e.ajax;e.ajax=function(r){var n=("mode"in r?r:e.ajaxSettings).mode,o=("port"in r?r:e.ajaxSettings).port;return"abort"==n?(t[o]&&t[o].abort(),t[o]=i.apply(this,arguments)):i.apply(this,arguments)}}}(jQuery),function(e){jQuery.event.special.focusin||jQuery.event.special.focusout||!document.addEventListener||e.each({focus:"focusin",blur:"focusout"},function(t,i){function r(t){return t=e.event.fix(t),t.type=i,e.event.handle.call(this,t)}e.event.special[i]={setup:function(){this.addEventListener(t,r,!0)},teardown:function(){this.removeEventListener(t,r,!0)},handler:function(t){return arguments[0]=e.event.fix(t),arguments[0].type=i,e.event.handle.apply(this,arguments)}}}),e.extend(e.fn,{validateDelegate:function(t,i,r){return this.bind(i,function(i){var n=e(i.target);if(n.is(t))return r.apply(n,arguments)})}})}(jQuery),define("jquery.validate",function(){}),jQuery.extend(jQuery.validator.messages,{required:"è¯¥å­æ®µä¸è½ä¸ºç©º",remote:"è¯·ä¿®æ­£è¯¥å­æ®µ",email:"è¯·è¾å¥æ­£ç¡®æ ¼å¼ççµå­é®ä»¶",url:"è¯·è¾å¥åæ³çç½å",date:"è¯·è¾å¥åæ³çæ¥æ",dateISO:"è¯·è¾å¥åæ³çæ¥æ (ISO).",number:"è¯·è¾å¥åæ³çæ°å­",digits:"åªè½è¾å¥æ´æ°",creditcard:"è¯·è¾å¥åæ³çä¿¡ç¨å¡å·",equalTo:"è¯·åæ¬¡è¾å¥ç¸åçå¼",accept:"è¯·è¾å¥æ¥æåæ³åç¼åçå­ç¬¦ä¸²",maxlength:jQuery.validator.format("è¯·è¾å¥ä¸ä¸ªé¿åº¦æå¤æ¯ {0} çå­ç¬¦ä¸²"),minlength:jQuery.validator.format("è¯·è¾å¥ä¸ä¸ªé¿åº¦æå°æ¯ {0} çå­ç¬¦ä¸²"),rangelength:jQuery.validator.format("è¯·è¾å¥ä¸ä¸ªé¿åº¦ä»äº {0} å {1} ä¹é´çå­ç¬¦ä¸²"),range:jQuery.validator.format("è¯·è¾å¥ä¸ä¸ªä»äº {0} å {1} ä¹é´çå¼"),max:jQuery.validator.format("è¯·è¾å¥ä¸ä¸ªæå¤§ä¸º {0} çå¼"),min:jQuery.validator.format("è¯·è¾å¥ä¸ä¸ªæå°ä¸º {0} çå¼"),notnull:"ä¸è½ä¸ºç©º"}),jQuery.validator.addMethod("isMobile",function(e,t){var i=e.length,r=/^(13[0-9]{9})|(18[0-9]{9})|(14[0-9]{9})|(17[0-9]{9})|(15[0-9]{9})$/;return this.optional(t)||11==i&&r.test(e)},"è¯·è¾å¥æ­£ç¡®çææºå·ç "),jQuery.validator.addMethod("isIdCardNo",function(e,t){return this.optional(t)||isIdCardNo(e)},"è¯·è¾å¥æ­£ç¡®çèº«ä»½è¯å·ç "),define("messages_cn",["jquery","jquery.validate"],function(){}),function(e){e.fn.ligerCheckBox=function(t){return e.ligerui.run.call(this,"ligerCheckBox",arguments)},e.fn.ligerGetCheckBoxManager=function(){return e.ligerui.run.call(this,"ligerGetCheckBoxManager",arguments)},e.ligerDefaults.CheckBox={disabled:!1,readonly:!1},e.ligerMethos.CheckBox={},e.ligerui.controls.CheckBox=function(t,i){e.ligerui.controls.CheckBox.base.constructor.call(this,t,i)},e.ligerui.controls.CheckBox.ligerExtend(e.ligerui.controls.Input,{__getType:function(){return"CheckBox"},__idPrev:function(){return"CheckBox"},_extendMethods:function(){return e.ligerMethos.CheckBox},_render:function(){var t=this,i=this.options;t.input=e(t.element),t.link=e('<a class="l-checkbox"></a>'),t.wrapper=t.input.addClass("l-hidden").wrap('<div class="l-checkbox-wrapper"></div>').parent(),t.wrapper.prepend(t.link),t.link.click(function(){return!t.input.attr("disabled")&&!t.input.attr("readonly")&&(!i.disabled&&!i.readonly&&(0!=t.trigger("beforeClick",[t.element])&&(e(this).hasClass("l-checkbox-checked")?t._setValue(!1):t._setValue(!0),void t.input.trigger("change"))))}),t.wrapper.hover(function(){i.disabled||e(this).addClass("l-over")},function(){e(this).removeClass("l-over")}),this.set(i),this.updateStyle()},_setCss:function(e){this.wrapper.css(e)},_setValue:function(e){var t=this;this.options;e?(t.input[0].checked=!0,t.link.addClass("l-checkbox-checked")):(t.input[0].checked=!1,t.link.removeClass("l-checkbox-checked"))},_setDisabled:function(e){e?(this.input.attr("disabled",!0),this.wrapper.addClass("l-disabled")):(this.input.attr("disabled",!1),this.wrapper.removeClass("l-disabled"))},_getValue:function(){return this.element.checked},updateStyle:function(){this.input.attr("disabled")&&(this.wrapper.addClass("l-disabled"),this.options.disabled=!0),this.input[0].checked?this.link.addClass("l-checkbox-checked"):this.link.removeClass("l-checkbox-checked")}})}(jQuery),define("ligerui.ligerCheckBox",["jquery","ligerui.base","ligerui.inject"],function(){}),function($){function removeArrItem(e,t){for(var i=e.length-1;i>=0;i--)t(e[i])&&e.splice(i,1)}var l=$.ligerui;$.fn.ligerGrid=function(e){return $.ligerui.run.call(this,"ligerGrid",arguments)},$.fn.ligerGetGridManager=function(){return $.ligerui.run.call(this,"ligerGetGridManager",arguments)},$.ligerDefaults.Grid={title:null,width:"auto",height:"auto",columnWidth:null,resizable:!0,url:!1,urlParms:null,data:null,usePager:!0,hideLoadButton:!1,pagerRender:null,page:1,pageSize:10,pageSizeOptions:[10,20,30,40,50],parms:[],columns:[],minColToggle:1,dataType:"server",dataAction:"server",showTableToggleBtn:!1,switchPageSizeApplyComboBox:!1,allowAdjustColWidth:!0,checkbox:!1,isSingleCheck:!1,allowHideColumn:!0,enabledEdit:!1,isScroll:!0,dateFormat:"yyyy-MM-dd",inWindow:!0,statusName:"__status",method:"post",async:!0,fixedCellHeight:!0,heightDiff:0,cssClass:null,root:"Rows",record:"Total",pageParmName:"page",pagesizeParmName:"pagesize",sortnameParmName:"sortname",sortorderParmName:"sortorder",allowUnSelectRow:!1,alternatingRow:!0,mouseoverRowCssClass:"l-grid-row-over",enabledSort:!0,rowClsRender:null,rowAttrRender:null,groupColumnName:null,groupColumnDisplay:"åç»",groupRender:null,totalRender:null,delayLoad:!1,where:null,selectRowButtonOnly:!1,selectable:!0,whenRClickToSelect:!1,contentType:null,checkboxColWidth:27,detailColWidth:29,clickToEdit:!0,detailToEdit:!1,onEndEdit:null,minColumnWidth:80,tree:null,isChecked:null,isSelected:null,frozen:!0,frozenDetail:!1,frozenCheckbox:!0,detail:null,detailHeight:260,isShowDetailToggle:null,rownumbers:!1,frozenRownumbers:!0,rownumbersColWidth:26,colDraggable:!1,rowDraggable:!1,rowDraggingRender:null,autoCheckChildren:!0,onRowDragDrop:null,rowHeight:28,headerRowHeight:28,toolbar:null,toolbarShowInLeft:!0,headerImg:null,editorTopDiff:3,editorLeftDiff:1,editorHeightDiff:-1,unSetValidateAttr:!0,autoFilter:!1,rowSelectable:!0,scrollToPage:!1,scrollToAppend:!0,onDragCol:null,onToggleCol:null,onChangeSort:null,onSuccess:null,onDblClickRow:null,onSelectRow:null,onBeforeSelectRow:null,onUnSelectRow:null,onBeforeCheckRow:null,onCheckRow:null,onBeforeCheckAllRow:null,onCheckAllRow:null,onBeforeShowData:null,onAfterShowData:null,onError:null,onSubmit:null,onReload:null,onToFirst:null,onToPrev:null,onToNext:null,onToLast:null,onAfterAddRow:null,onBeforeEdit:null,onBeforeSubmitEdit:null,onAfterEdit:null,onLoading:null,onLoaded:null,onContextmenu:null,onBeforeCancelEdit:null,onAfterSubmitEdit:null,onRowDragDrop:null,onGroupExtend:null,onGroupCollapse:null,onTreeExpand:null,onTreeCollapse:null,onTreeExpanded:null,onTreeCollapsed:null,onLoadData:null,onHeaderCellBulid:null},$.ligerDefaults.GridString={errorMessage:"åçéè¯¯",pageStatMessage:"æ¾ç¤ºä»{from}å°{to}ï¼æ» {total} æ¡ ãæ¯é¡µæ¾ç¤ºï¼{pagesize}",pageTextMessage:"Page",loadingMessage:"å è½½ä¸­...",findTextMessage:"æ¥æ¾",noRecordMessage:"æ²¡æç¬¦åæ¡ä»¶çè®°å½å­å¨",isContinueByDataChanged:"æ°æ®å·²ç»æ¹å,å¦æç»§ç»­å°ä¸¢å¤±æ°æ®,æ¯å¦ç»§ç»­?",cancelMessage:"åæ¶",saveMessage:"ä¿å­",applyMessage:"åºç¨",draggingMessage:"{count}è¡"},$.ligerDefaults.Grid_columns={id:null,name:null,totalSummary:null,display:null,headerRender:null,isAllowHide:!0,isSort:!1,type:null,columns:null,width:120,minWidth:80,format:null,align:"left",hide:!1,editor:null,render:null,textField:null},$.ligerDefaults.Grid_editor={type:null,ext:null,onChange:null,onChanged:null},$.ligerMethos.Grid=$.ligerMethos.Grid||{},$.ligerDefaults.Grid.sorters=$.ligerDefaults.Grid.sorters||{},$.ligerDefaults.Grid.formatters=$.ligerDefaults.Grid.formatters||{},$.ligerDefaults.Grid.editors=$.ligerDefaults.Grid.editors||{},$.ligerDefaults.Grid.sorters.date=function(e,t){return e<t?-1:e>t?1:0},$.ligerDefaults.Grid.sorters.int=function(e,t){return parseInt(e)<parseInt(t)?-1:parseInt(e)>parseInt(t)?1:0},$.ligerDefaults.Grid.sorters.float=function(e,t){return parseFloat(e)<parseFloat(t)?-1:parseFloat(e)>parseFloat(t)?1:0},$.ligerDefaults.Grid.sorters.string=function(e,t){return!!e&&e.localeCompare(t)},$.ligerDefaults.Grid.formatters.date=function(value,column){function getFormatDate(e,t){this.options;if(isNaN(e))return null;var i=t,r={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(i)&&(i=i.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in r)new RegExp("("+n+")").test(i)&&(i=i.replace(RegExp.$1,1==RegExp.$1.length?r[n]:("00"+r[n]).substr((""+r[n]).length)));return i}if(!value)return"";if("string"==typeof value&&/^\/Date/.test(value)&&(value=value.replace(/^\//,"new ").replace(/\/$/,""),eval("value = "+value)),value instanceof Date){var format=column.format||this.options.dateFormat||"yyyy-MM-dd";return getFormatDate(value,format)}return value.toString()},$.ligerDefaults.Grid.formatters.ref=function(e){return $.isArray(e)?e.length>1?e[1]:e[0]:e},$.ligerui.controls.Grid=function(e,t){$.ligerui.controls.Grid.base.constructor.call(this,e,t)},$.ligerui.controls.Grid.ligerExtend($.ligerui.core.UIComponent,{__getType:function(){return"$.ligerui.controls.Grid"},__idPrev:function(){return"grid"},_extendMethods:function(){return $.ligerMethos.Grid},_init:function(){$.ligerui.controls.Grid.base._init.call(this);var e=this,t=this.options;t.dataType=t.url?"server":"local","local"==t.dataType&&(t.data=t.data||[],t.dataAction="local"),0==t.isScroll&&(t.height="auto"),t.frozen||(t.frozenCheckbox=!1,t.frozenDetail=!1,t.frozenRownumbers=!1),t.detailToEdit&&(t.enabledEdit=!0,t.clickToEdit=!1,t.detail={height:"auto",onShowDetail:function(i,r,n){function o(){$(r).parent().parent().remove(),e.collapseDetail(i)}$(r).addClass("l-grid-detailpanel-edit"),e.beginEdit(i,function(e,i){var n=$("<div class='l-editbox'></div>");return n.width(120).height(t.rowHeight+1),n.appendTo(r),n}),$("<div class='l-clear'></div>").appendTo(r),$("<div class='l-button'>"+t.saveMessage+"</div>").appendTo(r).click(function(){e.endEdit(i),o()}),$("<div class='l-button'>"+t.applyMessage+"</div>").appendTo(r).click(function(){e.submitEdit(i)}),$("<div class='l-button'>"+t.cancelMessage+"</div>").appendTo(r).click(function(){e.cancelEdit(i),o()})}}),t.tree&&(t.tree.childrenName=t.tree.childrenName||"children",t.tree.isParent=t.tree.isParent||function(e){return t.tree.childrenName in e},t.tree.isExtend=t.tree.isExtend||function(e){return!("isextend"in e&&0==e.isextend)});for(var i in liger.editors){var r=liger.editors[i];!r||i in t.editors||(t.editors[i]=liger.getEditor($.extend({type:i,master:e},r)))}},_render:function(){var e=this,t=this.options;e.grid=$(e.element),e.grid.addClass("l-panel");var i=[];if(i.push("        <div class='l-panel-header'><span class='l-panel-header-text'></span></div>"),i.push("                    <div class='l-grid-loading'></div>"),i.push("        <div class='l-panel-topbar' style='display:none'><div class='l-panel-topbarinner'></div></div><div class='l-clear'></div>"),i.push("        <div class='l-panel-bwarp'>"),i.push("            <div class='l-panel-body'>"),i.push("                <div class='l-grid'>"),i.push("                    <div class='l-grid-dragging-line'></div>"),i.push("                    <div class='l-grid-popup'><table cellpadding='0' cellspacing='0'><tbody></tbody></table></div>"),i.push("                  <div class='l-grid1'>"),i.push("                      <div class='l-grid-header l-grid-header1'>"),i.push("                          <div class='l-grid-header-inner'><table class='l-grid-header-table' cellpadding='0' cellspacing='0'><tbody></tbody></table></div>"),i.push("                      </div>"),i.push("                      <div class='l-grid-body l-grid-body1'>"),i.push("                      </div>"),i.push("                  </div>"),i.push("                  <div class='l-grid2'>"),i.push("                      <div class='l-grid-header l-grid-header2'>"),i.push("                          <div class='l-grid-header-inner'><table class='l-grid-header-table' cellpadding='0' cellspacing='0'><tbody></tbody></table></div>"),i.push("                      </div>"),i.push("                      <div class='l-grid-body l-grid-body2 l-scroll'>"),i.push("                      </div>"),i.push("                  </div>"),i.push("                 </div>"),i.push("              </div>"),i.push("         </div>"),i.push("         <div class='l-panel-bar'>"),i.push("            <div class='l-panel-bbar-inner'>"),i.push("                <div class='l-bar-group  l-bar-message'><span class='l-bar-text'></span></div>"),i.push("            <div class='l-bar-group l-bar-selectpagesize'></div>"),i.push("                <div class='l-bar-separator'></div>"),i.push("                <div class='l-bar-group'>"),i.push("                    <div class='l-bar-button l-bar-btnfirst'><span></span></div>"),i.push("                    <div class='l-bar-button l-bar-btnprev'><span></span></div>"),i.push("                </div>"),i.push("                <div class='l-bar-separator'></div>"),i.push("                <div class='l-bar-group'><span class='pcontrol'> <input type='text' size='4' value='1' style='width:20px' maxlength='3' /> / <span></span></span></div>"),i.push("                <div class='l-bar-separator'></div>"),i.push("                <div class='l-bar-group'>"),i.push("                     <div class='l-bar-button l-bar-btnnext'><span></span></div>"),i.push("                    <div class='l-bar-button l-bar-btnlast'><span></span></div>"),i.push("                </div>"),i.push("                <div class='l-bar-separator'></div>"),i.push("                <div class='l-bar-group'>"),i.push("                     <div class='l-bar-button l-bar-btnload'><span></span></div>"),i.push("                </div>"),i.push("                <div class='l-bar-separator'></div>"),i.push("                <div class='l-clear'></div>"),i.push("            </div>"),i.push("         </div>"),e.grid.html(i.join("")),e.header=$(".l-panel-header:first",e.grid),e.body=$(".l-panel-body:first",e.grid),e.toolbar=$(".l-panel-bar:first",e.grid),e.popup=$(".l-grid-popup:first",e.grid),e.gridloading=$(".l-grid-loading:first",e.grid),e.draggingline=$(".l-grid-dragging-line",e.grid),e.topbar=$(".l-panel-topbarinner:first",e.grid),e.gridview=$(".l-grid:first",e.grid),e.gridview.attr("id",e.id+"grid"),e.gridview1=$(".l-grid1:first",e.gridview),e.gridview2=$(".l-grid2:first",e.gridview),e.gridheader=$(".l-grid-header:first",e.gridview2),e.gridbody=$(".l-grid-body:first",e.gridview2),t.autoFilter){var r={text:"é«çº§æ¥è¯¢",gridid:e.id,click:function(){e.showFilter()},icon:"search2"};t.toolbar&&t.toolbar.items?t.toolbar.items.push(r):t.toolbar={items:[r]}}e.f={},e.f.gridheader=$(".l-grid-header:first",e.gridview1),e.f.gridbody=$(".l-grid-body:first",e.gridview1),e.currentData=null,e.changedCells={},e.editors={},e.editor={editing:!1},e.cacheData={},"auto"==t.height&&e.bind("SysGridHeightChanged",function(){e.enabledFrozen()&&e.gridview.height(Math.max(e.gridview1.height(),e.gridview2.height()))});var n=$.extend({},t);this._bulid(),this._setColumns(t.columns),delete n.columns,delete n.data,delete n.url,e.set(n),t.delayLoad||(t.url?e.set({url:t.url}):t.data&&e.set({data:t.data}))},_setFrozen:function(e){e?this.grid.addClass("l-frozen"):this.grid.removeClass("l-frozen")},_setCssClass:function(e){this.grid.addClass(e)},_setLoadingMessage:function(e){this.gridloading.html(e)},_setToolbar:function(e){var t=this,i=this.options;if(e&&$.fn.ligerToolBar){if(t.topbar.parent().show(),t.toolbarManager=t.topbar.ligerToolBar(e),e.title){var r=$("<div class='l-panel-topbartitle'><span>"+e.title+"</span></div>");e.icon&&(r.append("<img class='l-panel-topbaricon' src='"+e.icon+"'></img>"),r.addClass("l-panel-topbartitle-hasicon")),t.topbar.parent().append(r)}i.toolbarShowInLeft&&t.topbar.addClass("l-panel-topbarinner-left")}else t.topbar.parent().remove()},isHorizontalScrollShowed:function(){var e=this,t=e.gridbody.find(".l-grid-body-inner:first");return!!t.length&&e.gridbody.width()-20<t.width()},_setHeight:function(e){var t=this,i=this.options;if(t.unbind("SysGridHeightChanged"),"auto"==e)return void t.bind("SysGridHeightChanged",function(){t.enabledFrozen()&&t.gridview.height(Math.max(t.gridview1.height(),t.gridview2.height()))});if((e=t._calculateGridBodyHeight(e))>0){if(t.gridbody.height(e),i.frozen){var r=t.gridbody.width(),n=$(":first-child",t.gridbody).width();n&&n+18>r?e>18&&t.f.gridbody.height(e-18):t.f.gridbody.height(e)}var o=i.headerRowHeight*(t._columnMaxLevel-1)+i.headerRowHeight-1;t.gridview.height(e+o)}t._updateHorizontalScrollStatus.ligerDefer(t,10)},_calculateGridBodyHeight:function(e){var t=this,i=this.options;return"string"==typeof e&&e.indexOf("%")>0&&(e=i.inWindow?$(window).height()*parseInt(e)*.01:t.grid.parent().height()*parseInt(e)*.01),i.title&&(e-=24),(i.usePager&&i.pagerRender||!i.scrollToPage)&&(e-=t.toolbar.outerHeight()),i.totalRender&&(e-=25),i.toolbar&&(e-=t.topbar.outerHeight()),e-=i.headerRowHeight*(t._columnMaxLevel-1)+i.headerRowHeight-1||0},_updateHorizontalScrollStatus:function(){var e=this;this.options;e.isHorizontalScrollShowed()?e.gridview.addClass("l-grid-hashorizontal"):e.gridview.removeClass("l-grid-hashorizontal")},_updateFrozenWidth:function(){var e=this;this.options;if(e.enabledFrozen()){e.gridview1.width(e.f.gridtablewidth);var t=e.gridview.width()-e.f.gridtablewidth;e.gridview2.css({left:e.f.gridtablewidth}),t>0&&e.gridview2.css({width:t})}},_setWidth:function(e){var t=this;this.options;t.enabledFrozen()&&t._onResize()},_setUrl:function(e){this.options.url=e,e?(this.options.dataType="server",this.loadData(!0)):this.options.dataType="local"},removeParm:function(e){var t=this,i=t.get("parms");i||(i={}),i instanceof Array?removeArrItem(i,function(t){return t.name==e}):delete i[e],t.set("parms",i)},setParm:function(e,t){var i=this,r=i.get("parms");r||(r={}),r instanceof Array?(removeArrItem(r,function(t){return t.name==e}),r.push({name:e,value:t})):r[e]=t,i.set("parms",r)},_setData:function(e){this.loadData(this.options.data),this.trigger("afterSetData")},loadData:function(e,t){var i=this,r=this.options;i.loading=!0,i.trigger("loadData");var n=null,o=!0;"function"==typeof e?(n=e,i.lastData?i.data=i.lastData:(i.data=i.currentData,i.data||(i.data={}),i.data[r.root]||(i.data[r.root]=[]),i.lastData=i.data),o=!1):"boolean"==typeof e?o=e:"object"==typeof e&&e?(o=!1,r.dataType="local",r.data=e):"number"==typeof e&&(r.newPage=e),r.newPage||(r.newPage=1),"server"==r.dataAction&&(r.sortOrder||(r.sortOrder="asc"));var a=[];if(r.parms){var s=$.isFunction(r.parms)?r.parms():r.parms;if(s.length){$(s).each(function(){a.push({name:this.name,value:this.value})});for(var l=s.length-1;l>=0;l--)s[l].temp&&s.splice(l,1)}else if("object"==typeof s)for(var d in s)a.push({name:d,value:s[d]})}"server"==r.dataAction&&(r.usePager&&(a.push({name:r.pageParmName,value:r.newPage}),a.push({name:r.pagesizeParmName,value:r.pageSize})),r.sortName&&(a.push({name:r.sortnameParmName,value:r.sortName}),a.push({name:r.sortorderParmName,value:r.sortOrder}))),$(".l-bar-btnload span",i.toolbar).addClass("l-disabled"),"local"==r.dataType?(i.filteredData=$.extend(!0,{},r.data||i.currentData),n&&(i.filteredData[r.root]=i._searchData(i.filteredData[r.root],n)),r.usePager?i.currentData=i._getCurrentPageData(i.filteredData):i.currentData=i.filteredData,i._convertTreeData(),i._showData()):"local"!=r.dataAction||o?i.loadServerData(a,n,t):i.data&&i.data[r.root]&&(i.filteredData=i.data,n&&(i.filteredData[r.root]=i._searchData(i.filteredData[r.root],n)),i.currentData=i._getCurrentPageData(i.filteredData),i._convertTreeData(),i._showData()),i.loading=!1},_convertTreeData:function(){var e=this,t=this.options;t.tree&&t.tree.idField&&t.tree.parentIDField&&(e.currentData[t.root]=e.arrayToTree(e.currentData[t.root],t.tree.idField,t.tree.parentIDField),e.currentData[t.record]=e.currentData[t.root].length)},loadServerData:function(e,t,i){var r=this,n=this.options,o=n.url;$.isFunction(o)&&(o=o.call(r));var a=$.isFunction(n.urlParms)?n.urlParms.call(r):n.urlParms;if(a)for(name in a)o+=-1==o.indexOf("?")?"?":"&",o+=name+"="+a[name];var s={type:n.method,url:o,data:e,async:n.async,dataType:"json",beforeSend:function(){r.hasBind("loading")?r.trigger("loading"):r.toggleLoading(!0)},success:function(e){if(e=e.data,r.trigger("success",[e,r]),!e||!e[n.root]||!e[n.root].length)return r.currentData=r.data={},r.currentData[n.root]=r.data[n.root]=[],e&&e[n.record]?r.currentData[n.record]=r.data[n.record]=e[n.record]:r.currentData[n.record]=r.data[n.record]=0,r._convertTreeData(),void r._showData(i);r.data=e,null!=r.data[n.record]&&(r.cacheData.records=r.data[n.record]),"server"==n.dataAction?(r.currentData=r.data,null==r.currentData[n.record]&&r.cacheData.records&&(r.currentData[n.record]=r.cacheData.records)):(r.filteredData=r.data,t&&(r.filteredData[n.root]=r._searchData(r.filteredData[n.root],t)),n.usePager?r.currentData=r._getCurrentPageData(r.filteredData):r.currentData=r.filteredData),r._convertTreeData(),r._showData.ligerDefer(r,10,[i])},complete:function(){r.trigger("complete",[r]),r.hasBind("loaded")?r.trigger("loaded",[r]):r.toggleLoading.ligerDefer(r,10,[!1])},error:function(e,t,i){r.currentData=r.data={},r.currentData[n.root]=r.data[n.root]=[],r.currentData[n.record]=r.data[n.record]=0,r.toggleLoading.ligerDefer(r,10,[!1]),$(".l-bar-btnload span",r.toolbar).removeClass("l-disabled"),r.trigger("error",[e,t,i])}};n.contentType&&(s.contentType=n.contentType),"application/json"==n.contentType&&"string"!=typeof parms&&(s.data=function(e){if(!e)return"null";var t=e,i={};if($.isArray(t))for(var r=0;r<t.length;r++)i[t[r].name]=t[r].value;else i=t;return liger.toJSON(i)}(e)),$.ajax(s)},toggleLoading:function(e){this.gridloading[e?"show":"hide"]()},_createEditor:function(e,t,i,r,n){var o=e.create.call(this,t,i);return e.setValue&&e.setValue.call(this,o,i.value,i),i.column.editor&&i.column.editor.initSelect&&(o.element&&$(o.element).is(":text")&&$(o.element).select(),o instanceof jQuery&&(o.is(":text")?o.select():o.find(":text").select())),e.setText&&i.column.textField&&e.setText.call(this,o,i.text,i),e.resize&&e.resize.call(this,o,r,n,i),o},beginEdit:function(e,t){var i=this,r=this.options;if(r.enabledEdit){var n=i.getRow(e);if(!n._editing&&0!=i.trigger("beginEdit",{record:n,rowindex:n.__index})){i.editors[n.__id]={},n._editing=!0,i.reRender({rowdata:n}),t=t||function(e,t){var r=i.getCellObj(e,t),n=$(r).html("");return i.setCellEditing(e,t,!0),n};for(var o=0,a=i.columns.length;o<a;o++){var s=i.columns[o];if(s.name&&s.editor&&s.editor.type&&r.editors[s.editor.type]){var l=r.editors[s.editor.type],d={record:n,value:i._getValueByName(n,s.name),column:s,rowindex:n.__index,grid:i},u=t(n,s),c=u.width(),h=u.height(),g=i._createEditor(l,u,d,c,h);i.editors[n.__id][s.__id]={editor:l,input:g,editParm:d,container:u}}}i.trigger("afterBeginEdit",{record:n,rowindex:n.__index})}}},cancelEdit:function(e){var t=this;if(void 0==e)for(var i in t.editors)t.cancelEdit(i);else{var r=t.getRow(e);if(!t.editors[r.__id])return;if(0==t.trigger("beforeCancelEdit",{record:r,rowindex:r.__index}))return;for(var n in t.editors[r.__id]){var o=t.editors[r.__id][n];o.editor.destroy&&o.editor.destroy(o.input,o.editParm)}delete t.editors[r.__id],delete r._editing,t.reRender({rowdata:r})}},addEditRow:function(e,t){this.submitEdit(),e=this.add(e),this.beginEdit(e,t)},submitEdit:function(e){var t=this;this.options;if(void 0==e)for(var i in t.editors)t.submitEdit(i);else{var r=t.getRow(e),n={};if(!r||!t.editors[r.__id])return;for(var o in t.editors[r.__id]){var a=t.editors[r.__id][o],s=a.editParm.column;s.name&&(n[s.name]=a.editor.getValue(a.input,a.editParm)),s.textField&&a.editor.getText&&(n[s.textField]=a.editor.getText(a.input,a.editParm))}if(0==t.trigger("beforeSubmitEdit",{record:r,rowindex:r.__index,newdata:n}))return!1;t.updateRow(r,n),t.trigger("afterSubmitEdit",{record:r,rowindex:r.__index,newdata:n})}},_enabledEditByCell:function(e){var t=this,i=(this.options,t.getColumn(e));return!!i&&(i.editor&&i.editor.type)},endEditToNext:function(){function e(){return n.parent("tr").next(".l-grid-row").find("td:first")}var t=this,i=(this.options,t.editor),r=null,n=null;if(i){var o=i.editParm,a=o.column,s=($.inArray(a,t.columns),t.getCellObj(o.record,o.column));if(n=$(s),r=n.next(),r.length||(r=e()),r.length)for(;!t._enabledEditByCell(r.get(0));)n=r,r=r.next(),r.length||(r=e())}t.endEdit(),r&&r.length&&t._applyEditor(r.get(0))},endEdit:function(e){var t=this;this.options;if(t.editor.editing){var i=t.editor;t.trigger("sysEndEdit",[t.editor.editParm]),t.trigger("endEdit",[t.editor.editParm]),i.editor.destroy&&i.editor.destroy(i.input,i.editParm),t.editor.container.remove(),t.reRender({rowdata:t.editor.editParm.record,column:t.editor.editParm.column}),t.trigger("afterEdit",[t.editor.editParm]),t.editor={editing:!1}}else if(void 0!=e){var r=t.getRow(e);if(!t.editors[r.__id])return;if(0==t.submitEdit(e))return!1;for(var n in t.editors[r.__id]){var i=t.editors[r.__id][n];i.editor.destroy&&i.editor.destroy(i.input,i.editParm)}delete t.editors[r.__id],delete r._editing,t.trigger("afterEdit",{record:r,rowindex:r.__index})}else for(var o in t.editors)t.endEdit(o);t._fixHeight.ligerDefer(t,10)},setWidth:function(e){return this._setWidth(e)},setHeight:function(e){return this._setHeight(e)},enabledCheckbox:function(){return!!this.options.checkbox},enabledFrozen:function(){var e=this,t=this.options;if(!t.frozen)return!1;var i=e.columns||[];if(e.enabledDetail()&&t.frozenDetail||e.enabledCheckbox()&&t.frozenCheckbox||t.frozenRownumbers&&t.rownumbers)return!0;for(var r=0,n=i.length;r<n;r++)if(i[r].frozen)return!0;return this._setFrozen(!1),!1},enabledDetailEdit:function(){return!!this.enabledDetail()&&!!this.options.detailToEdit},enabledDetail:function(){return!(!this.options.detail||!this.options.detail.onShowDetail)},enabledGroup:function(){return!!this.options.groupColumnName},deleteSelectedRow:function(){if(this.selected){for(var e in this.selected){var t=this.selected[e];t.__id in this.records&&this._deleteData.ligerDefer(this,10,[t])}this.reRender.ligerDefer(this,20)}},removeRange:function(e){var t=this;this.options;$.each(e,function(){t._removeData(this)}),t.reRender()},remove:function(e){var t=this;this.options,t.getRow(e);t._removeData(e),t.reRender()},deleteRange:function(e){var t=this;this.options;$.each(e,function(){t._deleteData(this)}),t.reRender()},deleteRow:function(e){var t=this,i=(this.options,t.getRow(e));i&&(t._deleteData(i),t.reRender(),t.isDataChanged=!0)},_deleteData:function(e){var t=this,i=this.options,r=t.getRow(e);if(r[i.statusName]="delete",i.tree){var n=t.getChildren(r,!0);if(n)for(var o=0,a=n.length;o<a;o++)n[o][i.statusName]="delete"}t.deletedRows=t.deletedRows||[],t.deletedRows.push(r),t._removeSelected(r)},updateCell:function(e,t,i){var r,n,o,a=this,s=this.options;if("string"!=typeof e){
if("number"==typeof e)r=a.columns[e],o=a.getRow(i),n=a.getCellObj(o,r);else if("object"==typeof e&&e.__id)r=e,o=a.getRow(i),n=a.getCellObj(o,r);else{n=e;var l=n.id.split("|"),d=l[l.length-1];r=a._columns[d];var u=$(n).parent();o=o||a.getRow(u[0])}null!=t&&r.name&&(a._setValueByName(o,r.name,t),"add"!=o[s.statusName]&&(o[s.statusName]="update"),a.isDataChanged=!0),a.reRender({rowdata:o,column:r})}else for(var c=0,h=a.columns.length;c<h;c++)a.columns[c].name==e&&a.updateCell(c,t,i)},addRows:function(e,t,i,r){var n=this;this.options;$(e).each(function(){n.addRow(this,t,i,r)})},_createRowid:function(){return"r"+(1e3+this.recordNumber)},_isRowId:function(e){return e in this.records},_addNewRecord:function(e,t,i){var r=this,n=this.options;if(r.recordNumber++,e.__id=r._createRowid(),e.__previd=t,t&&-1!=t){var o=r.records[t];if(o.__nextid&&-1!=o.__nextid){var a=r.records[o.__nextid];a&&(a.__previd=e.__id)}o.__nextid=e.__id,e.__index=o.__index+1}else e.__index=0;if(n.tree){if(i&&-1!=i){var s=r.records[i];e.__pid=i,e.__level=s.__level+1}else e.__pid=-1,e.__level=1;e.__hasChildren=!!e[n.tree.childrenName]}return e[n.statusName]=e[n.statusName]||"nochanged",r.rows[e.__index]=e,r.records[e.__id]=e,e},_getRows:function(e){function t(e){if(e&&e.length)for(var n=0,o=e.length;n<o;n++){var a=e[n];r.push(a),a[i.tree.childrenName]&&t(a[i.tree.childrenName])}}var i=this.options,r=[];return t(e),r},_updateGridData:function(){function e(n,o){if(n&&n.length)for(var a=0,s=n.length;a<s;a++){var l=n[a];t.formatRecord(l),"delete"!=l[i.statusName]&&(t._addNewRecord(l,r,o),r=l.__id,l.__hasChildren&&e(l[i.tree.childrenName],l.__id))}}var t=this,i=this.options;t.recordNumber=0,t.rows=[],t.records={};var r=-1;return e(t.currentData[i.root],-1),t.rows},_moveData:function(e,t,i){var r,n,o=this,a=(this.options,o.getRow(e)),s=o.getRow(t),l=o._getParentChildren(a);r=$.inArray(a,l),l.splice(r,1),l=o._getParentChildren(s),n=$.inArray(s,l),l.splice(n+(i?1:0),0,a)},move:function(e,t,i){this._moveData(e,t,i),this.reRender()},moveRange:function(e,t,i){for(var r in e)this._moveData(e[r],t,i);this.reRender()},up:function(e){var t=this,i=(this.options,t.getRow(e)),r=t._getParentChildren(i),n=$.inArray(i,r);if(-1!=n&&0!=n){var o=t.getSelected();t.move(i,r[n-1],!1),t.select(o)}},down:function(e){var t=this,i=(this.options,t.getRow(e)),r=t._getParentChildren(i),n=$.inArray(i,r);if(-1!=n&&n!=r.length-1){var o=t.getSelected();t.move(i,r[n+1],!0),t.select(o)}},addRow:function(e,t,i,r){var n=this,o=this.options;if(e=e||{},n._addData(e,r,t,i),n.reRender(),e[o.statusName]="add",o.tree){var a=n.getChildren(e,!0);if(a)for(var s=0,l=a.length;s<l;s++)a[s][o.statusName]="add"}return n.isDataChanged=!0,o.total=o.total?o.total+1:1,o.pageCount=Math.ceil(o.total/o.pageSize),n._buildPager(),n.trigger("SysGridHeightChanged"),n.trigger("afterAddRow",[e]),e},updateRow:function(e,t){var i=this,r=this.options,n=i.getRow(e);return i.isDataChanged=!0,$.extend(n,t||{}),"add"!=n[r.statusName]&&(n[r.statusName]="update"),i.reRender.ligerDefer(i,10,[{rowdata:n}]),n},setCellEditing:function(e,t,i){var r=this,n=(this.options,r.getCellObj(e,t)),o=i?"addClass":"removeClass";if($(n)[o]("l-grid-row-cell-editing"),0!=e.__id){var a=$(r.getRowObj(e.__id)).prev();if(!a.length||a.length<=0||null==a[0].id||""==a[0].id)return;var s=r.getRow(a[0]),l=r.getCellObj(s,t);if(!l)return;$(l)[o]("l-grid-row-cell-editing-topcell")}if(-1!=t.__previd&&null!=t.__previd){var l=$(r.getCellObj(e,t)).prev();$(l)[o]("l-grid-row-cell-editing-leftcell")}},reRender:function(e){function t(e){if(e.totalSummary)for(var t=0;t<i.totalNumber;t++){var n=document.getElementById(i.id+"|total"+t+"|"+e.__id);$("div:first",n).html(i._getTotalCellContent(e,i.groups&&i.groups[t]?i.groups[t]:i.currentData[r.root]))}}var i=this,r=this.options;e=e||{};var n=e.rowdata,o=e.column,a=e.totalOnly;if(!(o&&(o.isdetail||o.ischeckbox)||n&&"delete"==n[r.statusName]))if(a)$(i.columns).each(function(){t(this)});else if(n&&o){var s=i.getCellObj(n,o);$(s).html(i._getCellHtml(n,o)),o.issystem||i.setCellEditing(n,o,!1)}else if(n)$(i.columns).each(function(){i.reRender({rowdata:n,column:this})});else if(o){for(var l in i.records)i.reRender({rowdata:i.records[l],column:o});t(o)}else i._showData()},getData:function(e,t){var i=this,r=this.options,n=[];void 0==t&&(t=!0);for(var o in i.records){var a=$.extend(!0,{},i.records[o]);a[r.statusName]!=e&&void 0!=e||n.push(i.formatRecord(a,t))}return n},formatRecord:function(e,t){return delete e.__id,delete e.__previd,delete e.__nextid,delete e.__index,this.options.tree&&(delete e.__pid,delete e.__level,delete e.__hasChildren),t&&delete e[this.options.statusName],e},getUpdated:function(){return this.getData("update",!0)},getDeleted:function(){return this.deletedRows},getAdded:function(){return this.getData("add",!0)},getChanges:function(){var e=this,t=(this.options,[]);return this.deletedRows&&$(this.deletedRows).each(function(){var i=$.extend(!0,{},this);t.push(e.formatRecord(i,!1))}),$.merge(t,e.getData("update",!1)),$.merge(t,e.getData("add",!1)),t},getColumn:function(e){var t=this;this.options;if("string"==typeof e)return t._isColumnId(e)?t._columns[e]:t.columns[parseInt(e)];if("number"==typeof e)return t.columns[e];if("object"==typeof e&&1==e.nodeType){var i=e.id.split("|"),r=i[i.length-1];return t._columns[r]}return e},getColumnByName:function(e){var t=this;this.options;for(i=0;i<t.columns.length;i++)if(t.columns[i].name==e)return t.columns[i];return null},getColumnType:function(e){var t=this;this.options;for(i=0;i<t.columns.length;i++)if(t.columns[i].name==e)return t.columns[i].type?t.columns[i].type:"string";return null},isTotalSummary:function(){for(var e=this,t=(this.options,0);t<e.columns.length;t++)if(e.columns[t].totalSummary)return!0;return!1},getColumns:function(e){var t=this,i=(this.options,[]);for(var r in t._columns){var n=t._columns[r];void 0!=e?n.__level==e&&i.push(n):n.__leaf&&i.push(n)}return i},changeSort:function(e,t){var i=this,r=this.options;if(i.loading)return!0;if("local"==r.dataAction){var n=i.getColumnType(e);if(i.sortedData||(i.sortedData=i.filteredData),!i.sortedData||!i.sortedData[r.root])return;r.sortName==e?i.sortedData[r.root].reverse():i.sortedData[r.root].sort(function(t,r){return i._compareData(t,r,e,n)}),r.usePager?i.currentData=i._getCurrentPageData(i.sortedData):i.currentData=i.sortedData,i._showData()}r.sortName=e,r.sortOrder=t,"server"==r.dataAction&&i.loadData(r.where)},changePage:function(e){var t=this,i=this.options;if(t.loading)return!0;if("local"!=i.dataAction&&t.isDataChanged&&!confirm(i.isContinueByDataChanged))return!1;switch(i.pageCount=parseInt($(".pcontrol span",t.toolbar).html()),e){case"first":if(1==i.page)return;i.newPage=1;break;case"prev":if(1==i.page)return;i.page>1&&(i.newPage=parseInt(i.page)-1);break;case"next":if(i.page>=i.pageCount)return;i.newPage=parseInt(i.page)+1;break;case"last":if(i.page>=i.pageCount)return;i.newPage=i.pageCount;break;case"input":var r=parseInt($(".pcontrol input",t.toolbar).val());isNaN(r)&&(r=1),r<1?r=1:r>i.pageCount&&(r=i.pageCount),$(".pcontrol input",t.toolbar).val(r),i.newPage=r}if(i.newPage==i.page)return!1;if(1==i.newPage?($(".l-bar-btnfirst span",t.toolbar).addClass("l-disabled"),$(".l-bar-btnprev span",t.toolbar).addClass("l-disabled")):($(".l-bar-btnfirst span",t.toolbar).removeClass("l-disabled"),$(".l-bar-btnprev span",t.toolbar).removeClass("l-disabled")),i.newPage==i.pageCount?($(".l-bar-btnlast span",t.toolbar).addClass("l-disabled"),$(".l-bar-btnnext span",t.toolbar).addClass("l-disabled")):($(".l-bar-btnlast span",t.toolbar).removeClass("l-disabled"),$(".l-bar-btnnext span",t.toolbar).removeClass("l-disabled")),t.trigger("changePage",[i.newPage]),"server"==i.dataAction)i.parms||(i.parms=[]),$.isArray(i.parms)?i.parms.push({name:"changepage",value:"1",temp:!0}):i.parms.changepage="1",t.loadData(i.where);else{if(t.currentData=t._getCurrentPageData(t.filteredData),i.tree){var n=i.tree.childrenName;$(t.filteredData[i.root]).each(function(e,t){t[n]&&(t[n]=[])}),t._convertTreeData()}t._showData()}},getSelectedRow:function(){for(var e in this.selected){var t=this.selected[e];if(t.__id in this.records)return t}return null},getSelectedRows:function(){var e=[];for(var t in this.selected){var i=this.selected[t];i.__id in this.records&&e.push(i)}return e},getSelectedRowObj:function(){for(var e in this.selected){var t=this.selected[e];if(t.__id in this.records)return this.getRowObj(t)}return null},getSelectedRowObjs:function(){var e=[];for(var t in this.selected){var i=this.selected[t];i.__id in this.records&&e.push(this.getRowObj(i))}return e},getCellObj:function(e,t){var i=this.getRow(e);return t=this.getColumn(t),document.getElementById(this._getCellDomId(i,t))},getRowObj:function(e,t){var i=this;this.options;return null==e?null:"string"==typeof e?i._isRowId(e)?document.getElementById(i.id+(t?"|1|":"|2|")+e):document.getElementById(i.id+(t?"|1|":"|2|")+i.rows[parseInt(e)].__id):"number"==typeof e?document.getElementById(i.id+(t?"|1|":"|2|")+i.rows[e].__id):"object"==typeof e&&e.__id?i.getRowObj(e.__id,t):e},getRow:function(e){var t=this;this.options;return null==e?null:"string"==typeof e?t._isRowId(e)?t.records[e]:t.rows[parseInt(e)]:"number"==typeof e?t.rows[parseInt(e)]:"object"!=typeof e||1!=e.nodeType||e.__id?e:t._getRowByDomId(e.id)},_setColumnVisible:function(e,t){var i=this;this.options;if(t){if(e._hide=!0,document.getElementById(e.__domid).style.display="none",-1!=e.__pid){for(var r=!0,n=this._columns[e.__pid],o=0;n&&o<n.columns.length;o++)if(!n.columns[o]._hide){r=!1;break}r&&(n._hide=!0,document.getElementById(n.__domid).style.display="none",this._setColumnVisible(n,t))}}else if(e._hide=!1,document.getElementById(e.__domid).style.display="",-1!=e.__pid){var n=i._columns[e.__pid];n._hide&&(document.getElementById(n.__domid).style.display="",this._setColumnVisible(n,t))}},toggleCol:function(e,t,i){var r,n=this;this.options;if("number"==typeof e)r=n.columns[e];else if("object"==typeof e&&e.__id)r=e;else if("string"==typeof e){if(!n._isColumnId(e))return void $(n.columns).each(function(){this.name==e&&n.toggleCol(this,t,i)});r=n._columns[e]}if(r){var o=r.__leafindex,a=document.getElementById(r.__domid);if(a){a=$(a);var s=[];for(var l in n.rows){var d=n.getCellObj(n.rows[l],r);d&&s.push(d)}for(var l=0;l<n.totalNumber;l++){var u=document.getElementById(n.id+"|total"+l+"|"+r.__id);u&&s.push(u)}var c=r._width;t&&r._hide?(r.frozen?n.f.gridtablewidth+=parseInt(c)+1:n.gridtablewidth+=parseInt(c)+1,n._setColumnVisible(r,!1),$(s).show()):t||r._hide||(r.frozen?n.f.gridtablewidth-=parseInt(c)+1:n.gridtablewidth-=parseInt(c)+1,n._setColumnVisible(r,!0),$(s).hide()),r.frozen?($("div:first",n.f.gridheader).width(n.f.gridtablewidth),$("div:first",n.f.gridbody).width(n.f.gridtablewidth)):($("div:first",n.gridheader).width(n.gridtablewidth+40),n.gridtablewidth?$("div:first",n.gridbody).width(n.gridtablewidth):$("div:first",n.gridbody).css("width","auto")),n._updateFrozenWidth(),i||$(":checkbox[columnindex="+o+"]",n.popup).each(function(){if(this.checked=t,$.fn.ligerCheckBox){var e=$(this).ligerGetCheckBoxManager();e&&e.updateStyle()}})}}},setColumnWidth:function(e,t){var i=this,r=this.options;if(t){t=parseInt(t,10);var n;if("number"==typeof e)n=i.columns[e];else if("object"==typeof e&&e.__id)n=e;else if("string"==typeof e){if(!i._isColumnId(e))return void $(i.columns).each(function(){this.name==e&&i.setColumnWidth(this,t)});n=i._columns[e]}if(n){var o=r.minColumnWidth;n.minWidth&&(o=n.minWidth),t=t<o?o:t;var a=t-n._width;if(0!=i.trigger("beforeChangeColumnWidth",[n,t])){n._width=t,n.frozen?(i.f.gridtablewidth+=a,$("div:first",i.f.gridheader).width(i.f.gridtablewidth),$("div:first",i.f.gridbody).width(i.f.gridtablewidth)):(i.gridtablewidth+=a,$("div:first",i.gridheader).width(i.gridtablewidth+40),$("div:first",i.gridbody).width(i.gridtablewidth)),$(document.getElementById(n.__domid)).css("width",t);var s=[];for(var l in i.records){var d=i.getCellObj(i.records[l],n);if(d&&s.push(d),!i.enabledDetailEdit()&&i.editors[l]&&i.editors[l][n.__id]){var u=i.editors[l][n.__id];u.editor.resize&&u.editor.resize(u.input,t,u.container.height(),u.editParm)}}for(var c=0;c<i.totalNumber;c++){var h=document.getElementById(i.id+"|total"+c+"|"+n.__id);h&&s.push(h)}$(s).css("width",t).find("> div.l-grid-row-cell-inner:first").css("width",t-8),i._updateFrozenWidth(),i._updateHorizontalScrollStatus.ligerDefer(i,10),i.trigger("afterChangeColumnWidth",[n,t])}}}},changeHeaderText:function(e,t){var i,r=this,n=this.options;if("number"==typeof e)i=r.columns[e];else if("object"==typeof e&&e.__id)i=e;else if("string"==typeof e){if(!r._isColumnId(e))return void $(r.columns).each(function(){this.name==e&&r.changeHeaderText(this,t)});i=r._columns[e]}if(i){var o=i.__leafindex,a=document.getElementById(i.__domid);$(".l-grid-hd-cell-text",a).html(t),n.allowHideColumn&&$(":checkbox[columnindex="+o+"]",r.popup).parent().next().html(t)}},changeCol:function(e,t,i){var r=this,n=this.options;if(e&&t){var o=r.getColumn(e),a=r.getColumn(t);o.frozen=a.frozen;var s,l,d=-1==o.__pid?n.columns:r._columns[o.__pid].columns,u=-1==a.__pid?n.columns:r._columns[a.__pid].columns;s=$.inArray(o,d),l=$.inArray(a,u);var c=d==u;o.__level,a.__level;u.splice(l+(i?1:0),0,o),c?i?d.splice(s,1):d.splice(s+1,1):d.splice(s,1),r._setColumns(n.columns),r.reRender()}},collapseDetail:function(e){var t=this,i=(this.options,t.getRow(e));if(i)for(var r=0,n=t.columns.length;r<n;r++)if(t.columns[r].isdetail){var o=t.getRowObj(i),a=t.getCellObj(i,t.columns[r]);return $(o).next("tr.l-grid-detailpanel").hide(),$(".l-grid-row-cell-detailbtn:first",a).removeClass("l-open"),void t.trigger("SysGridHeightChanged")}},extendDetail:function(e){var t=this,i=(this.options,t.getRow(e));if(i)for(var r=0,n=t.columns.length;r<n;r++)if(t.columns[r].isdetail){var o=t.getRowObj(i),a=t.getCellObj(i,t.columns[r]);return $(o).next("tr.l-grid-detailpanel").show(),$(".l-grid-row-cell-detailbtn:first",a).addClass("l-open"),void t.trigger("SysGridHeightChanged")}},getParent:function(e){var t=this;if(!this.options.tree)return null;var i=t.getRow(e);return i&&i.__pid in t.records?t.records[i.__pid]:null},getChildren:function(e,t){function i(e){if(e[n.tree.childrenName])for(var r=0,o=e[n.tree.childrenName].length;r<o;r++){var s=e[n.tree.childrenName][r];"delete"!=s[n.statusName]&&(a.push(s),t&&i(s))}}var r=this,n=this.options;if(!n.tree)return null;var o=r.getRow(e);if(!o)return null;var a=[];return i(o),a},isLeaf:function(e){var t=this,i=(this.options,t.getRow(e));if(i)return!i.__hasChildren},hasChildren:function(e){var t=this.options,i=this.getRow(e);if(i)return!(!i[t.tree.childrenName]||!i[t.tree.childrenName].length)},existRecord:function(e){for(var t in this.records)if(this.records[t]==e)return!0;return!1},_removeSelected:function(e){var t=this;if(this.options.tree){var i=t.getChildren(e,!0);if(i)for(var r=0,n=i.length;r<n;r++){var o=$.inArray(i[r],t.selected);-1!=o&&t.selected.splice(o,1)}}var a=$.inArray(e,t.selected);-1!=a&&t.selected.splice(a,1)},_getParentChildren:function(e){var t=this,i=this.options,r=t.getRow(e);return i.tree&&t.existRecord(r)&&r.__pid in t.records?t.records[r.__pid][i.tree.childrenName]:t.currentData[i.root]},_removeData:function(e){var t=this,i=(this.options,t._getParentChildren(e)),r=$.inArray(e,i);-1!=r&&i.splice(r,1),t._removeSelected(e)},_addData:function(e,t,i,r){var n=this,o=this.options;n.currentData||(n.currentData={}),n.currentData[o.root]||(n.currentData[o.root]=[]);var a=n.currentData[o.root];if(i){o.tree&&(t?a=t[o.tree.childrenName]:i.__pid in n.records&&(a=n.records[i.__pid][o.tree.childrenName]));var s=$.inArray(i,a);a.splice(-1==s?-1:s+(r?0:1),0,e)}else o.tree&&t&&(a=t[o.tree.childrenName]),a.push(e)},_appendData:function(e,t,i,r){var n=this;e[this.options.statusName]="update",n._removeData(e),n._addData(e,t,i,r)},appendRange:function(e,t,i,r){var n=this,o=(this.options,!1);$.each(e,function(e,a){a.__id&&n.existRecord(a)?(n.isLeaf(t)&&n.upgrade(t),n._appendData(a,t,i,r),o=!0):n.appendRow(a,t,i,r)}),o&&n.reRender()},appendRow:function(e,t,i,r){var n=this;this.options;return $.isArray(e)?void n.appendRange(e,t,i,r):e.__id&&n.existRecord(e)?(n._appendData(e,t,i,r),void n.reRender()):(t&&n.isLeaf(t)&&n.upgrade(t),void n.addRow(e,i,!!r,t))},upgrade:function(e){var t=this,i=this.options,r=t.getRow(e);if(r&&i.tree){r[i.tree.childrenName]=r[i.tree.childrenName]||[],r.__hasChildren=!0;var n=[t.getRowObj(r)];t.enabledFrozen()&&n.push(t.getRowObj(r,!0)),$("> td > div > .l-grid-tree-space:last",n).addClass("l-grid-tree-link l-grid-tree-link-open")}},demotion:function(e){var t=this,i=this.options,r=t.getRow(e);if(r&&i.tree){var n=[t.getRowObj(r)];if(t.enabledFrozen()&&n.push(t.getRowObj(r,!0)),$("> td > div > .l-grid-tree-space:last",n).removeClass("l-grid-tree-link l-grid-tree-link-open l-grid-tree-link-close"),t.hasChildren(r))for(var o=t.getChildren(r),a=0,s=o.length;a<s;a++)t.deleteRow(o[a]);r.__hasChildren=!1}},collapseAll:function(){var e=this;this.options;$(e.rows).each(function(t,i){var r=e.getRowObj(i);$(".l-grid-tree-link",r).hasClass("l-grid-tree-link-close")||e.toggle(i)})},expandAll:function(){var e=this;this.options;$(e.rows).each(function(t,i){var r=e.getRowObj(i);$(".l-grid-tree-link",r).hasClass("l-grid-tree-link-open")||e.toggle(i)})},collapse:function(e){var t=this,i=(this.options,t.getRowObj(e));$(".l-grid-tree-link",i).hasClass("l-grid-tree-link-close")||t.toggle(e)},expand:function(e){var t=this,i=(this.options,t.getRowObj(e));$(".l-grid-tree-link",i).hasClass("l-grid-tree-link-open")||t.toggle(e)},toggle:function(e){function t(e){for(var i=0,r=e.length;i<r;i++){var n=e[i],a=o.getChildren(n,!1),s=!(!a||!a.length),l=$([o.getRowObj(n.__id)]);o.enabledFrozen()&&(l=l.add(o.getRowObj(n.__id,!0))),s?$(".l-grid-tree-link",l).hasClass("l-grid-tree-link-close")?l.show():(l.show(),t(a)):($(".l-grid-tree-link",l).removeClass("l-grid-tree-link-close").addClass("l-grid-tree-link-open"),l.show())}}function i(){var e=[];if(!u)return e=o.getChildren(a,!0),$(e).each(function(){$(o.getRowObj(this)).hide(),o.enabledFrozen()&&$(o.getRowObj(this,!0)).hide()}),void o.trigger("treeCollapsed",[a]);e=o.getChildren(a,!1),t(e),o.trigger("treeExpanded",[a])}function r(){d.removeClass("l-grid-tree-link-close").addClass("l-grid-tree-link-open"),-1!=(l=$.inArray(a,o.collapsedRows))&&o.collapsedRows.splice(l,1)}function n(){d.addClass("l-grid-tree-link-close").removeClass("l-grid-tree-link-open"),-1==(l=$.inArray(a,o.collapsedRows))&&o.collapsedRows.push(a)}if(e){var o=this,a=(this.options,o.getRow(e)),s=[o.getRowObj(a)];o.enabledFrozen()&&s.push(o.getRowObj(a,!0));var l,d=(a.__level,$(".l-grid-tree-link:first",s)),u=!0;o.collapsedRows=o.collapsedRows||[];if(d.hasClass("l-grid-tree-link-close")){var c={update:function(){r(),i()}};if(o.hasBind("treeExpand")&&0==o.trigger("treeExpand",[a,c]))return!1;r()}else{var c={update:function(){n(),i()}};if(o.hasBind("treeCollapse")&&0==o.trigger("treeCollapse",[a,c]))return!1;u=!1,n()}i()}},_bulid:function(){var e=this;e._clearGrid(),e._initBuildHeader(),e._initHeight(),e._initFootbar(),e._buildPager(),e._setEvent()},_setColumns:function(e){var t=this;t._initColumns(),t._initBuildGridHeader(),t._initBuildPopup()},_initBuildHeader:function(){var e=this,t=this.options;t.title?($(".l-panel-header-text",e.header).html(t.title),t.headerImg&&e.header.append("<img src='"+t.headerImg+"' />").addClass("l-panel-header-hasicon")):e.header.hide(),t.toolbar?$.fn.ligerToolBar&&(e.toolbarManager=e.topbar.ligerToolBar(t.toolbar),0==e.topbar.height()?e.topbar.parent().height(25):e.topbar.parent().height(e.topbar.height())):e.topbar.parent().remove()},_createColumnId:function(e){return null!=e.id&&""!=e.id?e.id.toString():"c"+(100+this._columnCount)},_isColumnId:function(e){return e in this._columns},_initColumns:function(){function e(e,t){for(var i in t)t[i]in e&&delete e[t[i]]}function t(r,n,o,a){if(r.editorType&&(r.editor=r.editor||{},r.editor.type=r.editorType),e(r,["__id","__pid","__previd","__nextid","__domid","__leaf","__leafindex","__level","__colSpan","__rowSpan"]),n>i._columnMaxLevel&&(i._columnMaxLevel=n),i._columnCount++,r.__id=i._createColumnId(r),r.__domid=i.id+"|hcell|"+r.__id,i._columns[r.__id]=r,r.columns&&r.columns.length||(r.__leafindex=i._columnLeafCount++),r.__level=n,r.__pid=o,r.__previd=a,!r.columns||!r.columns.length)return r.__leaf=!0,1;for(var s=0,l=-1,d=0,u=r.columns.length;d<u;d++){var c=r.columns[d];s+=t(c,n+1,r.__id,l),l=c.__id}return r.__leafcount=s,s}var i=this,r=this.options;if(i._columns={},i._columnCount=0,i._columnLeafCount=0,i._columnMaxLevel=1,r.columns){var n=-1;if(r.rownumbers){var o=!i.enabledGroup()&&(r.frozen&&r.frozenRownumbers),a={isrownumber:!0,issystem:!0,width:r.rownumbersColWidth,frozen:o};t(a,1,-1,n),n=a.__id}if(i.enabledDetail()){var s=!i.enabledGroup()&&(r.frozen&&r.frozenDetail),a={isdetail:!0,issystem:!0,width:r.detailColWidth,frozen:s};t(a,1,-1,n),n=a.__id}if(i.enabledCheckbox()){var l=!i.enabledGroup()&&(r.frozen&&r.frozenCheckbox),a={ischeckbox:!0,issystem:!0,width:r.detailColWidth,frozen:l};t(a,1,-1,n),n=a.__id}for(var d=0,u=r.columns.length;d<u;d++){var a=r.columns[d];a&&(t(a,1,-1,n),n=a.__id)}for(var c in i._columns){var a=i._columns[c];a.__leafcount>1&&(a.__colSpan=a.__leafcount),a.__leaf&&a.__level!=i._columnMaxLevel&&(a.__rowSpan=i._columnMaxLevel-a.__level+1)}i.columns=i.getColumns(),$(i.columns).each(function(e,t){t.columnname=t.name,t.columnindex=e,t.type=t.type||"string",t.islast=e==i.columns.length-1,t.isSort=0!=t.isSort,t.frozen=!!t.frozen,t._width=i._getColumnWidth(t),t._hide=!!t.hide})}},_getColumnWidth:function(e){var t=this,i=this.options;if(e._width)return e._width;var r=e.width||i.columnWidth;if(!r||"auto"==r){var n=0,o=0;$(t.columns).each(function(e,r){var a=r.width||i.columnWidth;a&&"auto"!=a?o+=parseInt(t._getColumnWidth(r))+1:n++}),r=parseInt((t.grid.width()-o)/n)-1}if("string"==typeof r&&r.indexOf("%")>0){var a=0;t.enabledDetail()&&(a+=i.detailColWidth),t.enabledCheckbox()&&(a+=i.checkboxColWidth),t.options.rownumbers&&(a+=t.options.rownumbersColWidth),e._width=r=parseInt(.01*parseInt(r)*(t.grid.width()-a-t.columns.length/2-1))}return e.minWidth&&r<e.minWidth&&(r=e.minWidth),e.maxWidth&&r>e.maxWidth&&(r=e.maxWidth),r},_createHeaderCell:function(e){var t=this,i=this.options,r=$("<td class='l-grid-hd-cell'><div class='l-grid-hd-cell-inner'><span class='l-grid-hd-cell-text'></span></div></td>");if(r.attr("id",e.__domid),e.__leaf||r.addClass("l-grid-hd-cell-mul"),e.columnindex==t.columns.length-1&&r.addClass("l-grid-hd-cell-last"),e.isrownumber&&(r.addClass("l-grid-hd-cell-rownumbers"),r.html("<div class='l-grid-hd-cell-inner'></div>")),e.ischeckbox&&(r.addClass("l-grid-hd-cell-checkbox"),r.html("<div class='l-grid-hd-cell-inner'><div class='l-grid-hd-cell-text l-grid-hd-cell-btn-checkbox'></div></div>")),e.isdetail&&(r.addClass("l-grid-hd-cell-detail"),r.html("<div class='l-grid-hd-cell-inner'><div class='l-grid-hd-cell-text l-grid-hd-cell-btn-detail'></div></div>")),e.heightAlign&&$(".l-grid-hd-cell-inner:first",r).css("textAlign",e.heightAlign),e.__colSpan&&r.attr("colSpan",e.__colSpan),e.__rowSpan){r.attr("rowSpan",e.__rowSpan),r.height(i.headerRowHeight*e.__rowSpan);var n=(i.headerRowHeight*e.__rowSpan-i.headerRowHeight)/2-5;$(".l-grid-hd-cell-inner:first",r).css("paddingTop",n)}else r.height(i.headerRowHeight);e.__leaf&&(r.width(e._width),r.attr("columnindex",e.__leafindex));var o=r.height();!e.__rowSpan&&o>10&&$(">div:first",r).height(o),e._hide&&r.hide(),e.name&&r.attr({columnname:e.name});var a="";return a=e.display&&""!=e.display?e.display:e.headerRender?e.headerRender(e):"&nbsp;",$(".l-grid-hd-cell-text:first",r).html(a),!e.issystem&&e.__leaf&&!1!==e.resizable&&$.fn.ligerResizable&&i.allowAdjustColWidth&&(t.colResizable[e.__id]=r.ligerResizable({handles:"e",onStartResize:function(e,i){this.proxy.hide(),t.draggingline.css({height:t.body.height(),top:0,left:i.pageX-t.grid.offset().left+parseInt(t.body[0].scrollLeft)}).show()},onResize:function(e,i){t.colresizing=!0,t.draggingline.css({left:i.pageX-t.grid.offset().left+parseInt(t.body[0].scrollLeft)}),$("body").add(r).css("cursor","e-resize")},onStopResize:function(i){return t.colresizing=!1,$("body").add(r).css("cursor","default"),t.draggingline.hide(),t.setColumnWidth(e,parseInt(e._width)+i.diffX),!1}})),t.trigger("headerCellBulid",[r,e]),r},_initBuildGridHeader:function(){var e=this,t=this.options;if(e.gridtablewidth=0,e.f.gridtablewidth=0,e.colResizable){for(var i in e.colResizable)e.colResizable[i].destroy();e.colResizable=null}e.colResizable={},$("tbody:first",e.gridheader).html(""),$("tbody:first",e.f.gridheader).html("");for(var r=1;r<=e._columnMaxLevel;r++){var n=e.getColumns(r),o=r==e._columnMaxLevel,a=$("<tr class='l-grid-hd-row'></tr>"),s=$("<tr class='l-grid-hd-row'></tr>");o||a.add(s).addClass("l-grid-hd-mul"),$("tbody:first",e.gridheader).append(a),$("tbody:first",e.f.gridheader).append(s),$(n).each(function(t,i){if((i.frozen?s:a).append(e._createHeaderCell(i)),i.__leaf){var r=i._width;i.frozen?e.f.gridtablewidth+=(parseInt(r)?parseInt(r):0)+1:e.gridtablewidth+=(parseInt(r)?parseInt(r):0)+1}})}if(e._columnMaxLevel>0){var l=t.headerRowHeight*e._columnMaxLevel;e.gridheader.add(e.f.gridheader).height(l),t.rownumbers&&t.frozenRownumbers&&e.f.gridheader.find("td:first").height(l)}e._updateFrozenWidth(),$("div:first",e.gridheader).width(e.gridtablewidth+40)},_initBuildPopup:function(){var e=this,t=this.options;if($(":checkbox",e.popup).unbind(),$("tbody tr",e.popup).remove(),$(e.columns).each(function(t,i){if(!i.issystem&&0!=i.isAllowHide){var r='checked="checked"';i._hide&&(r="");var n=i.display;$("tbody",e.popup).append('<tr><td class="l-column-left"><input type="checkbox" '+r+' class="l-checkbox" columnindex="'+t+'"/></td><td class="l-column-right">'+n+"</td></tr>")}}),$.fn.ligerCheckBox&&$("input:checkbox",e.popup).ligerCheckBox({onBeforeClick:function(i){return!i.checked||!($("input:checked",e.popup).length<=t.minColToggle)}}),t.allowHideColumn){$("tr",e.popup).hover(function(){$(this).addClass("l-popup-row-over")},function(){$(this).removeClass("l-popup-row-over")});var i=function(){if($("input:checked",e.popup).length+1<=t.minColToggle)return!1;e.toggleCol(parseInt($(this).attr("columnindex")),this.checked,!0)};$.fn.ligerCheckBox?$(":checkbox",e.popup).bind("change",i):$(":checkbox",e.popup).bind("click",i)}},_initHeight:function(){var e=this,t=this.options;"auto"==t.height&&(e.gridbody.height("auto"),e.f.gridbody.height("auto")),t.width&&e.grid.width(t.width),e._onResize.call(e)},_initFootbar:function(){var e=this,t=this.options;if(t.usePager){if(t.pagerRender)return void e.toolbar.html(t.pagerRender.call(e));if(t.scrollToPage)return void e.toolbar.hide();var i="",r=-1;$(t.pageSizeOptions).each(function(e,n){t.pageSize==n&&(r=e),i+="<option value='"+n+"'  >"+n+"</option>"}),$(".l-bar-selectpagesize",e.toolbar).append("<select name='rp'>"+i+"</select>"),-1!=r&&($(".l-bar-selectpagesize select",e.toolbar)[0].selectedIndex=r),t.switchPageSizeApplyComboBox&&$.fn.ligerComboBox&&$(".l-bar-selectpagesize select",e.toolbar).ligerComboBox({onBeforeSelect:function(){return!(t.url&&e.isDataChanged&&!confirm(t.isContinueByDataChanged))},width:45})}else e.toolbar.hide()},_searchData:function(e,t){for(var i=(this.options,new Array),r=0;r<e.length;r++)t(e[r],r)&&(i[i.length]=e[r]);return i},_clearGrid:function(){var e=this;this.options;e._fixRows();for(var t in e.rows){var i=$(e.getRowObj(e.rows[t]));e.enabledFrozen()&&(i=i.add(e.getRowObj(e.rows[t],!0))),i.unbind()}e.gridbody.html(""),e.f.gridbody.html(""),e.recordNumber=0,e.records={},e.rows=[],e._fixRows(),e.selected=[],e.totalNumber=0,e.editorcounter=0},_fixRows:function(){var e=this;this.options;if(e.rows)for(var t in e.rows)$.isFunction(e.rows[t])&&delete e.rows[t]},_fillGridBody:function(e,t,i){var r=this,n=this.options,o="scrollappend"==i?[]:['<div class="l-grid-body-inner"><table class="l-grid-body-table" cellpadding=0 cellspacing=0><tbody>'];if(r.enabledGroup()){var a=[],s=[];r.groups=s;for(var l in e){var d=e[l],u=d[n.groupColumnName],c=$.inArray(u,a);-1==c&&(a.push(u),c=a.length-1,s.push([])),s[c].push(d)}$(s).each(function(e,i){1==s.length&&o.push('<tr class="l-grid-grouprow l-grid-grouprow-last l-grid-grouprow-first"'),e==s.length-1?o.push('<tr class="l-grid-grouprow l-grid-grouprow-last"'):0==e?o.push('<tr class="l-grid-grouprow l-grid-grouprow-first"'):o.push('<tr class="l-grid-grouprow"'),o.push(' groupindex"='+e+'" >'),o.push('<td colSpan="'+r.columns.length+'" class="l-grid-grouprow-cell">'),o.push('<span class="l-grid-group-togglebtn">&nbsp;&nbsp;&nbsp;&nbsp;</span>'),n.groupRender?o.push(n.groupRender(a[e],i,n.groupColumnDisplay)):o.push(n.groupColumnDisplay+":"+a[e]),o.push("</td>"),o.push("</tr>"),o.push(r._getHtmlFromData(i,t)),r.isTotalSummary()&&o.push(r._getTotalSummaryHtml(i,"l-grid-totalsummary-group",t))})}else o.push(r._getHtmlFromData(e,t));if("scrollappend"==!i&&o.push("</tbody></table></div>"),"scrollappend"==i?(t?r.f.gridbody:r.gridbody).find("tbody:first").append(o.join("")):(t?r.f.gridbody:r.gridbody).html(o.join("")),t&&(r.f.gridbody.find(">l-jplace").remove(),r.f.gridbody.append('<div class="l-jplace"></div>')),n.usePager&&n.scrollToPage&&!n.scrollToAppend){var h=t?r.f.gridbody.find("> .l-grid-body-inner"):r.gridbody.find("> .l-grid-body-inner"),g=h.find("> .l-scrollreplacetop");g=g.length?g:$('<div class="l-scrollreplacetop"></div>').prependTo(h),g.css("width","80%").height(r.lastScrollTop),g=h.find("> .l-scrollreplacebottom"),g=g.length?g:$('<div class="l-scrollreplacebottom"></div>').appendTo(h),g.css("width","80%").height((n.pageCount-n.newPage)*r._getOnePageHeight())}r.enabledGroup()||r._bulidTotalSummary(t),$("> div:first",r.gridbody).width(r.gridtablewidth),r._onResize()},_showData:function(e){var t=this,i=this.options;t.changedCells={};var r=t.currentData[i.root];if(i.usePager&&("server"==i.dataAction&&t.data&&t.data[i.record]?i.total=t.data[i.record]:t.filteredData&&t.filteredData[i.root]?i.total=t.filteredData[i.root].length:t.data&&t.data[i.root]?i.total=t.data[i.root].length:r&&(i.total=r.length),i.page=i.newPage,i.total||(i.total=0),i.page||(i.page=1),i.pageCount=Math.ceil(i.total/i.pageSize),i.pageCount||(i.pageCount=1),i.scrollToPage||t._buildPager()),$(".l-bar-btnloading:first",t.toolbar).removeClass("l-bar-btnloading"),0!=t.trigger("beforeShowData",[t.currentData])){if("scrollappend"!=e&&t._clearGrid(),t.isDataChanged=!1,!r||!r.length)return t.gridview.addClass("l-grid-empty"),$(t.element).addClass("l-empty"),$("<div></div>").addClass("l-grid-body-inner").appendTo(t.gridbody).css({width:t.gridheader.find(">div:first").width(),height:t.gridbody.height()}),i.pagerRender?void t.toolbar.html(i.pagerRender.call(t)):void t._onResize.ligerDefer(t,50);if(t.gridview.removeClass("l-grid-empty"),$(t.element).removeClass("l-empty"),$(".l-bar-btnload:first span",t.toolbar).removeClass("l-disabled"),t._updateGridData(),t.enabledFrozen()&&t._fillGridBody(t.rows,!0,e),t._fillGridBody(t.rows,!1,e),t.trigger("SysGridHeightChanged"),"scroll"==e&&t.trigger("sysScrollLoaded"),i.totalRender&&($(".l-panel-bar-total",t.element).remove(),$(".l-panel-bar",t.element).before('<div class="l-panel-bar-total">'+i.totalRender(t.data,t.filteredData)+"</div>")),i.mouseoverRowCssClass)for(var n in t.rows){var o=$(t.getRowObj(t.rows[n]));t.enabledFrozen()&&(o=o.add(t.getRowObj(t.rows[n],!0))),o.bind("mouseover.gridrow",function(){t._onRowOver(this,!0)}).bind("mouseout.gridrow",function(){t._onRowOver(this,!1)})}if(t._fixHeight(),i.pagerRender)return void t.toolbar.html(i.pagerRender.call(t));t.gridbody.trigger("scroll.grid"),t.trigger("afterShowData",[t.currentData])}},_fixHeight:function(){var e=this,t=this.options;if(!t.fixedCellHeight&&t.frozen){var i,r;for(var n in e.columns){var o=e.columns[n];if(i&&r)break;!o.frozen||i?o.frozen||r||(r=o):i=o}if(i&&r)for(var a in e.records){
var s=e.getCellObj(a,i),l=e.getCellObj(a,r),d=Math.max($(s).height(),$(l).height());$(s).add(l).height(d)}}},_getRowDomId:function(e,t){return this.id+"|"+(t?"1":"2")+"|"+e.__id},_getCellDomId:function(e,t){return this._getRowDomId(e,t.frozen)+"|"+t.__id},_getHtmlFromData:function(e,t){if(!e)return"";for(var i=this,r=this.options,n=[],o=0,a=e.length;o<a;o++){var s=e[o],l=s.__id;if(s){if(n.push("<tr"),n.push(' id="'+i._getRowDomId(s,t)+'"'),n.push(' class="l-grid-row'),!t&&i.enabledCheckbox()&&r.isChecked&&r.isChecked(s)?(i.select(s),n.push(" l-selected")):i.isSelected(s)?n.push(" l-selected"):r.isSelected&&r.isSelected(s)&&(i.select(s),n.push(" l-selected")),s.__index%2==1&&r.alternatingRow&&n.push(" l-grid-row-alt"),r.rowClsRender){var d=r.rowClsRender(s,l);d&&n.push(" "+d)}if(n.push('" '),r.rowAttrRender&&n.push(r.rowAttrRender(s,l)),r.tree&&i.collapsedRows&&i.collapsedRows.length){var u=function(){for(var e=i.getParent(s);e;){if(-1!=$.inArray(e,i.collapsedRows))return!0;e=i.getParent(e)}return!1};u()&&n.push(' style="display:none;" ')}else if(r.tree&&r.tree.isExtend){var u=function(){for(var e=i.getParent(s);e;){if(0==r.tree.isExtend(e))return!0;e=i.getParent(e)}return!1};u()&&n.push(' style="display:none;" ')}n.push(">"),$(i.columns).each(function(e,o){if(t==o.frozen){if(n.push("<td"),n.push(' id="'+i._getCellDomId(s,this)+'"'),this.isrownumber)return n.push(' class="l-grid-row-cell l-grid-row-cell-rownumbers" style="width:'+this.width+'px"><div class="l-grid-row-cell-inner"'),r.fixedCellHeight?n.push(' style = "height:'+r.rowHeight+'px;" '):n.push(' style = "min-height:'+r.rowHeight+'px;" '),void n.push(">"+(parseInt(s.__index)+1)+"</div></td>");if(this.ischeckbox)return n.push(' class="l-grid-row-cell l-grid-row-cell-checkbox" style="width:'+this.width+'px"><div class="l-grid-row-cell-inner"'),r.fixedCellHeight?n.push(' style = "height:'+r.rowHeight+'px;" '):n.push(' style = "min-height:'+r.rowHeight+'px;" '),n.push(">"),n.push('<span class="l-grid-row-cell-btn-checkbox"></span>'),void n.push("</div></td>");if(this.isdetail)return n.push(' class="l-grid-row-cell l-grid-row-cell-detail" style="width:'+this.width+'px"><div class="l-grid-row-cell-inner"'),r.fixedCellHeight?n.push(' style = "height:'+r.rowHeight+'px;" '):n.push(' style = "min-height:'+r.rowHeight+'px;" '),n.push(">"),r.isShowDetailToggle&&!r.isShowDetailToggle(s)||n.push('<span class="l-grid-row-cell-detailbtn"></span>'),void n.push("</div></td>");var a=this._width;n.push(' class="l-grid-row-cell '),i.changedCells[l+"_"+this.__id]&&n.push("l-grid-row-cell-edited "),this.islast&&n.push("l-grid-row-cell-last "),n.push('"'),n.push(' style = "'),n.push("width:"+a+"px; "),o._hide&&n.push("display:none;"),n.push(' ">'),n.push(i._getCellHtml(s,o)),n.push("</td>")}}),n.push("</tr>")}}return n.join("")},_getCellHtml:function(e,t){var i=this,r=this.options;if(t.isrownumber)return'<div class="l-grid-row-cell-inner">'+(parseInt(e.__index)+1)+"</div>";var n=[];n.push('<div class="l-grid-row-cell-inner"'),n.push(' style = "width:'+parseInt(t._width-8)+"px;"),r.fixedCellHeight&&n.push("height:"+r.rowHeight+"px;"),n.push("min-height:"+r.rowHeight+"px; "),t.align&&n.push("text-align:"+t.align+";");var o=i._getCellContent(e,t);return n.push('">'+o+"</div>"),n.join("")},_setValueByName:function(e,t,i){if(!e||!t)return null;if(-1==t.indexOf("."))e[t]=i;else try{new Function("data,value","data."+t+"=value;")(e,i)}catch(e){}},_getValueByName:function(e,t){if(!e||!t)return null;if(-1==t.indexOf("."))return e[t];try{return new Function("data","return data."+t+";")(e)}catch(e){return null}},_getCellContent:function(e,t){var i=this,r=this.options;if(!e||!t)return"";if(t.isrownumber)return parseInt(e.__index)+1;var n=(e.__id,e.__index),o=i._getValueByName(e,t.name),a=i._getValueByName(e,t.textField),s="";return t.render?s=t.render.call(i,e,n,o,t):r.formatters[t.type]?s=r.formatters[t.type].call(i,o,t):null!=a?s=a.toString():null!=o&&(s=o.toString()),r.tree&&(null!=r.tree.columnName&&r.tree.columnName==t.name||null!=r.tree.columnId&&r.tree.columnId==t.id)&&(s=i._getTreeCellHtml(s,e)),s||""},_getTreeCellHtml:function(e,t){var i=t.__level,r=this,n=this.options,o=null==r.collapsedRows?n.tree.isExtend(t):-1==$.inArray(t,r.collapsedRows||[]),a=n.tree.isParent(t),s="";i=parseInt(i)||1;for(var l=1;l<i;l++)s+="<div class='l-grid-tree-space'></div>";return s+=o&&a?"<div class='l-grid-tree-space l-grid-tree-link l-grid-tree-link-open'></div>":a?"<div class='l-grid-tree-space l-grid-tree-link l-grid-tree-link-close'></div>":"<div class='l-grid-tree-space'></div>",s+="<span class='l-grid-tree-content'>"+e+"</span>"},_applyEditor:function(e){var t=this,i=this.options,r=e,n=r.id.split("|"),o=n[n.length-1],a=t._columns[o],s=$(r).parent(),l=t.getRow(s[0]),d=l.__id,u=l.__index;if(a&&a.editor){var c=a.name;a.columnindex;if(a.editor.type&&i.editors[a.editor.type]){var h=t._getValueByName(l,c),g={record:l,value:h,column:a,rowindex:u};if(a.textField&&(g.text=t._getValueByName(l,a.textField)),0==t.trigger("beforeEdit",[g]))return!1;t.lastEditRow=l,liger.lastEditGrid=t;var p=i.editors[a.editor.type],f=$(r),m=($(r).offset(),$(r).width()),v=$(r).height(),y=$("<div class='l-grid-editor'></div>").appendTo(t.grid),b=0,w=0,x=f.position(),_=t.gridbody.position(),C=t.gridview2.position(),D=(i.toolbar?t.topbar.parent().outerHeight():0)+(i.title?t.header.outerHeight():0),b=x.left+_.left+C.left,w=x.top+_.top+C.top+D;f.html(""),t.setCellEditing(l,a,!0);var k=!!(window.ActiveXObject||"ActiveXObject"in window),T=0==$.browser.version.indexOf("8");k?(v-=T?1:2,w-=1,b-=1):$.browser.mozilla?(v-=1,w-=1,b-=1):$.browser.safari?w-=1:v-=1,b+=i.editorLeftDiff||0,w+=i.editorTopDiff||0,v+=i.editorHeightDiff||0,y.css({left:b,top:w}).show(),a.textField&&(g.text=t._getValueByName(l,a.textField));var F=t._createEditor(p,y,g,m,v-1);t.editor={editing:!0,editor:p,input:F,editParm:g,container:y},t.unbind("sysEndEdit"),t.bind("sysEndEdit",function(){var e=p.getValue(F,g);a.textField&&p.getText&&(g.text=p.getText(F,g)),p.getSelected&&(g.selected=p.getSelected(F,g)),e!=h&&($(r).addClass("l-grid-row-cell-edited"),t.changedCells[d+"_"+a.__id]=!0,g.value=e),a.editor.onChange&&a.editor.onChange.call(F,g),t._checkEditAndUpdateCell(g)&&a.editor.onChanged&&a.editor.onChanged.call(F,g)})}}},_checkEditAndUpdateCell:function(e){var t=this;this.options;if(0==t.trigger("beforeSubmitEdit",[e]))return!1;var i=e.column;return e.text&&i.textField&&t._setValueByName(e.record,i.textField,e.text),t.updateCell(i,e.value,e.record),(i.render||t.enabledTotal())&&t.reRender({column:i}),t.reRender({rowdata:e.record}),!0},_getCurrentPageData:function(e){var t=this.options,r={};if(r[t.root]=[],!e||!e[t.root]||!e[t.root].length)return r[t.record]=0,r;for(r[t.record]=e[t.root].length,t.newPage||(t.newPage=1),i=(t.newPage-1)*t.pageSize;i<e[t.root].length&&i<t.newPage*t.pageSize;i++)r[t.root].push(e[t.root][i]);return r},_compareData:function(e,t,i,r){var n=this,o=this.options,a=e[i],s=t[i];return null==a&&null!=s?1:null==a&&null==s?0:null!=a&&null==s?-1:o.sorters[r]?o.sorters[r].call(n,a,s):a<s?-1:a>s?1:0},_getTotalInfo:function(e,t){var i=this.options;try{if(!e.totalSummary)return null;var r=0,n=0,o=0,a=0,s=0;if(t&&t.length){s=parseFloat(t[0][e.name]),a=parseFloat(t[0][e.name]);for(var l=0;l<t.length;l++)if("delete"!=t[l][i.statusName]){n+=1;var d=t[l][e.name];"string"==typeof d&&(d=d.replace(/\$|\,/g,"")),d=parseFloat(d),d&&(r+=d,d>s&&(s=d),d<a&&(a=d))}o=1*r/t.length}return{sum:r,count:n,avg:o,min:a,max:s}}catch(e){return{}}},_getTotalCellContent:function(e,t){var i=this,r=(this.options,[]);if(e.totalSummary){var n=function(e){for(var t=0;t<s.length;t++)if(s[t].toLowerCase()==e.toLowerCase())return!0;return!1},o=i._getTotalInfo(e,t);if(e.totalSummary.render){var a=e.totalSummary.render(o,e,i.data);r.push(a)}else if(e.totalSummary.type&&o){var s=e.totalSummary.type.split(",");n("sum")&&r.push("<div>Sum="+o.sum.toFixed(2)+"</div>"),n("tsum")&&r.push("<div>"+sum.toFixed(0)+"</div>"),n("count")&&r.push("<div>Count="+o.count+"</div>"),n("max")&&r.push("<div>Max="+o.max.toFixed(2)+"</div>"),n("min")&&r.push("<div>Min="+o.min.toFixed(2)+"</div>"),n("avg")&&r.push("<div>Avg="+o.avg.toFixed(2)+"</div>")}}return r.join("")},_getTotalSummaryHtml:function(e,t,i){var r=this,n=(this.options,[]);return t?n.push('<tr class="l-grid-totalsummary '+t+'">'):n.push('<tr class="l-grid-totalsummary">'),$(r.columns).each(function(t,o){if(this.frozen==i){if(this.isrownumber)return void n.push('<td class="l-grid-totalsummary-cell l-grid-totalsummary-cell-rownumbers" style="width:'+this.width+'px"><div>&nbsp;</div></td>');if(this.ischeckbox)return void n.push('<td class="l-grid-totalsummary-cell l-grid-totalsummary-cell-checkbox" style="width:'+this.width+'px"><div>&nbsp;</div></td>');if(this.isdetail)return void n.push('<td class="l-grid-totalsummary-cell l-grid-totalsummary-cell-detail" style="width:'+this.width+'px"><div>&nbsp;</div></td>');n.push('<td class="l-grid-totalsummary-cell'),this.islast&&n.push(" l-grid-totalsummary-cell-last"),n.push('" '),n.push('id="'+r.id+"|total"+r.totalNumber+"|"+o.__id+'" '),n.push('width="'+this._width+'" '),columnname=this.columnname,columnname&&n.push('columnname="'+columnname+'" '),n.push('columnindex="'+t+'" '),n.push('><div class="l-grid-totalsummary-cell-inner"'),o.align&&n.push(' style="text-Align:'+o.align+';"'),n.push(">"),n.push(r._getTotalCellContent(o,e)),n.push("</div></td>")}}),n.push("</tr>"),i||r.totalNumber++,n.join("")},_bulidTotalSummary:function(e){var t=this,i=this.options;if(!t.isTotalSummary())return!1;if(!t.currentData||0==t.currentData[i.root].length)return!1;var r=$(t._getTotalSummaryHtml(t.currentData[i.root],null,e));$("tbody:first",e?t.f.gridbody:t.gridbody).append(r),e?t.totalRow1=r:t.totalRow2=r},updateTotalSummary:function(){var e=this;this.options;e.reRender({totalOnly:!0})},_buildPager:function(){var e=this,t=this.options;if(!t.pagerRender){$(".pcontrol input",e.toolbar).val(t.page),t.pageCount||(t.pageCount=1),$(".pcontrol span",e.toolbar).html(t.pageCount);var i=parseInt((t.page-1)*t.pageSize)+1,r=parseInt(i)+parseInt(t.pageSize)-1;t.total||(t.total=0),t.total<r&&(r=t.total),t.total||(i=r=0),i<0&&(i=0),r<0&&(r=0);var n=t.pageStatMessage;n=n.replace(/{from}/,i),n=n.replace(/{to}/,r),n=n.replace(/{total}/,t.total),n=n.replace(/{pagesize}/,t.pageSize),$(".l-bar-text",e.toolbar).html(n),t.total||$(".l-bar-btnfirst span,.l-bar-btnprev span,.l-bar-btnnext span,.l-bar-btnlast span",e.toolbar).addClass("l-disabled"),t.hideLoadButton&&($(".l-bar-btnload:first",e.toolbar).parent().hide(),$(".l-bar-btnload:first",e.toolbar).parent().next().hide()),1==t.page?($(".l-bar-btnfirst span",e.toolbar).addClass("l-disabled"),$(".l-bar-btnprev span",e.toolbar).addClass("l-disabled")):t.page>t.pageCount&&t.pageCount>0&&($(".l-bar-btnfirst span",e.toolbar).removeClass("l-disabled"),$(".l-bar-btnprev span",e.toolbar).removeClass("l-disabled")),t.page==t.pageCount?($(".l-bar-btnlast span",e.toolbar).addClass("l-disabled"),$(".l-bar-btnnext span",e.toolbar).addClass("l-disabled")):t.page<t.pageCount&&t.pageCount>0&&($(".l-bar-btnlast span",e.toolbar).removeClass("l-disabled"),$(".l-bar-btnnext span",e.toolbar).removeClass("l-disabled"))}},_getRowIdByDomId:function(e){return e.split("|")[2]},_getRowByDomId:function(e){return this.records[this._getRowIdByDomId(e)]},_isEditing:function(e){var t=this;if(e.hasClass("l-box-dateeditor")||e.hasClass("l-box-select"))return!0;if(e.hasClass("l-dialog")){var i=[];if(e.find(".l-dialog").each(function(){var e=$(this).attr("ligeruiid");e&&i.push(e)}),t._editorIncludeCotrols(i))return!0}return!1},_getSrcElementByEvent:function(e){var t=this,i=e.target||e.srcElement,r=$(i).parents().add(i),n=function(e){for(var t=0,i=r.length;t<i;t++)if("string"==typeof e){if($(r[t]).hasClass(e))return r[t]}else if("object"==typeof e&&r[t]==e)return r[t];return null};if(n("l-grid-editor"))return{editing:!0,editor:n("l-grid-editor")};if(-1==r.index(this.element))return t._isEditing(r)?{editing:!0}:{out:!0};var o=!1;if(r.hasClass("l-grid-detailpanel")&&t.detailrows)for(var a=0,s=t.detailrows.length;a<s;a++)if(-1!=r.index(t.detailrows[a])){o=!0;break}var l={grid:n("l-panel"),indetail:o,frozen:!!n(t.gridview1[0]),header:n("l-panel-header"),gridheader:n("l-grid-header"),gridbody:n("l-grid-body"),total:n("l-panel-bar-total"),popup:n("l-grid-popup"),toolbar:n("l-panel-bar")};if(l.gridheader&&(l.hrow=n("l-grid-hd-row"),l.hcell=n("l-grid-hd-cell"),l.hcelltext=n("l-grid-hd-cell-text"),l.checkboxall=n("l-grid-hd-cell-checkbox"),l.hcell)){var d=l.hcell.id.split("|")[2];l.column=t._columns[d]}return l.gridbody&&(l.row=n("l-grid-row"),l.cell=n("l-grid-row-cell"),l.checkbox=n("l-grid-row-cell-btn-checkbox"),l.groupbtn=n("l-grid-group-togglebtn"),l.grouprow=n("l-grid-grouprow"),l.detailbtn=n("l-grid-row-cell-detailbtn"),l.detailrow=n("l-grid-detailpanel"),l.totalrow=n("l-grid-totalsummary"),l.totalcell=n("l-grid-totalsummary-cell"),l.rownumberscell=$(l.cell).hasClass("l-grid-row-cell-rownumbers")?l.cell:null,l.detailcell=$(l.cell).hasClass("l-grid-row-cell-detail")?l.cell:null,l.checkboxcell=$(l.cell).hasClass("l-grid-row-cell-checkbox")?l.cell:null,l.treelink=n("l-grid-tree-link"),l.editor=n("l-grid-editor"),l.row&&(l.data=this._getRowByDomId(l.row.id)),l.cell&&(l.editing=$(l.cell).hasClass("l-grid-row-cell-editing")),l.editor&&(l.editing=!0),l.editing&&(l.out=!1)),l.toolbar&&(l.first=n("l-bar-btnfirst"),l.last=n("l-bar-btnlast"),l.next=n("l-bar-btnnext"),l.prev=n("l-bar-btnprev"),l.load=n("l-bar-btnload"),l.button=n("l-bar-button")),l},_editorIncludeCotrols:function(e){var t=this;this.options;if(!e||!e.length)return!1;if(t.editor&&t.editor.input){if(t._controlIncludeCotrols(t.editor.input,e))return!0}else if(t.editors)for(var i in t.editors)if(t.editors[i])for(var r in t.editors[i]){var n=t.editors[i][r];if(n&&n.input&&t._controlIncludeCotrols(n.input,e))return!0}return!1},_controlIncludeCotrols:function(e,t){this.options;if(!e||!e.includeControls||!e.includeControls.length)return!1;for(var i=0;i<e.includeControls.length;i++){var r=e.includeControls[i];if(-1!=$.inArray(r.id,t))return!0}return!1},_getOnePageHeight:function(){var e=this.options;return(parseFloat(e.rowHeight||24)+1)*parseInt(e.pageSize)},_setEvent:function(){var e=this,t=this.options;e.grid.bind("mousedown.grid",function(t){e._onMouseDown.call(e,t)}),e.grid.bind("dblclick.grid",function(t){e._onDblClick.call(e,t)}),e.grid.bind("contextmenu.grid",function(t){return e._onContextmenu.call(e,t)}),$(document).bind("mouseup.grid",function(t){e._onMouseUp.call(e,t)}),$(document).bind("click.grid",function(t){e._onClick.call(e,t)}),$(window).bind("resize.grid",function(t){e._onResize.call(e)}),$(document).bind("keydown.grid",function(t){t.ctrlKey&&(e.ctrlKey=!0)}),$(document).bind("keyup.grid",function(t){delete e.ctrlKey}),e.gridbody.bind("scroll.grid",function(){var i=e.gridbody.scrollLeft(),r=e.gridbody.scrollTop();if(null!=i&&(e.gridheader[0].scrollLeft=i),null!=r&&(e.f.gridbody[0].scrollTop=r),t.scrollToPage&&t.usePager&&!e.loading){var n=e.gridbody.find(".l-grid-body-inner:first").height(),o=r+e.gridbody.height();if(t.scrollToAppend)t.newPage!=t.pageCount&&o>=n&&e.reload(t.newPage+1,"scrollappend");else{var a=o>=n?t.pageCount:Math.ceil(o/e._getOnePageHeight());e.scrollLoading||(e.scrollLoading=!0,e.lastScrollTop=r,e.unbind("sysScrollLoaded"),e.bind("sysScrollLoaded",function(){e.gridbody.scrollTop(r),setTimeout(function(){e.scrollLoading=!1},500)}),e.scrollLoading=!0,e.reload(a,"scroll"))}}e.trigger("SysGridHeightChanged")}),$("select",e.toolbar).change(function(){if(e.isDataChanged&&"local"!=t.dataAction&&!confirm(t.isContinueByDataChanged))return!1;t.newPage=1,t.pageSize=this.value,e.loadData("local"!=t.dataAction&&t.where)}),$("span.pcontrol :text",e.toolbar).blur(function(t){e.changePage("input")}),$("div.l-bar-button",e.toolbar).hover(function(){$(this).addClass("l-bar-button-over")},function(){$(this).removeClass("l-bar-button-over")}),$.fn.ligerDrag&&t.colDraggable&&(e.colDroptip=$("<div class='l-drag-coldroptip' style='display:none'><div class='l-drop-move-up'></div><div class='l-drop-move-down'></div></div>").appendTo("body"),e.gridheader.add(e.f.gridheader).ligerDrag({revert:!0,animate:!1,proxyX:0,proxyY:0,proxy:function(t,i){var r=e._getSrcElementByEvent(i);if(r.hcell&&r.column){var n=$(".l-grid-hd-cell-text:first",r.hcell).html(),o=$("<div class='l-drag-proxy' style='display:none'><div class='l-drop-icon l-drop-no'></div></div>").appendTo("body");return o.append(n),o}},onRevert:function(){return!1},onRendered:function(){this.set("cursor","default"),e.children[this.id]=this},onStartDrag:function(t,i){if(2==i.button)return!1;if(e.colresizing)return!1;this.set("cursor","default");var r=e._getSrcElementByEvent(i);if(!r.hcell||!r.column||r.column.issystem||r.hcelltext)return!1;if(-1!=$(r.hcell).css("cursor").indexOf("resize"))return!1;this.draggingColumn=r.column,e.coldragging=!0;var n=e.grid.offset();this.validRange={top:n.top,bottom:n.top+e.gridheader.height(),left:n.left-10,right:n.left+e.grid.width()+10}},onDrag:function(i,r){this.set("cursor","default");var n=this.draggingColumn;if(!n)return!1;if(e.colresizing)return!1;null==e.colDropIn&&(e.colDropIn=-1);var o=r.pageX,a=r.pageY,s=!1,l=(e.grid.offset(),this.validRange);if(o<l.left||o>l.right||a>l.bottom||a<l.top)return e.colDropIn=-1,e.colDroptip.hide(),void this.proxy.find(".l-drop-icon:first").removeClass("l-drop-yes").addClass("l-drop-no");for(var d in e._columns){var u=e._columns[d];if(n!=u){if(!u.issystem){var c=u.__level==n.__level,h=!!c&&!!s;if(n.frozen!=u.frozen&&(h=!u.frozen),-1==e.colDropIn||e.colDropIn==d){var g=document.getElementById(u.__domid),p=$(g).offset(),f={top:p.top,bottom:p.top+$(g).height(),left:p.left-10,right:p.left+10};if(h){var m=$(g).width();f.left+=m,f.right+=m}if(o>f.left&&o<f.right&&a>f.top&&a<f.bottom){var v=t.headerRowHeight;u.__rowSpan&&(v*=u.__rowSpan),e.colDroptip.css({left:f.left+5,top:f.top-9,height:v+18}).show(),e.colDropIn=d,e.colDropDir=h?"right":"left",this.proxy.find(".l-drop-icon:first").removeClass("l-drop-no").addClass("l-drop-yes");break}-1!=e.colDropIn&&(e.colDropIn=-1,e.colDroptip.hide(),this.proxy.find(".l-drop-icon:first").removeClass("l-drop-yes").addClass("l-drop-no"))}}}else s=!0}},onStopDrag:function(t,i){var r=this.draggingColumn;e.coldragging=!1,-1!=e.colDropIn&&(e.changeCol.ligerDefer(e,0,[r,e.colDropIn,"right"==e.colDropDir]),e.colDropIn=-1),e.colDroptip.hide(),this.set("cursor","default")}})),$.fn.ligerDrag&&t.rowDraggable&&(e.rowDroptip=$("<div class='l-drag-rowdroptip' style='display:none'></div>").appendTo("body"),e.gridbody.add(e.f.gridbody).ligerDrag({revert:!0,animate:!1,proxyX:0,proxyY:0,proxy:function(i,r){if(e._getSrcElementByEvent(r).row){var n=t.draggingMessage.replace(/{count}/,i.draggingRows?i.draggingRows.length:1);return t.rowDraggingRender&&(n=t.rowDraggingRender(i.draggingRows,i,e)),$("<div class='l-drag-proxy' style='display:none'><div class='l-drop-icon l-drop-no'></div>"+n+"</div>").appendTo("body")}},onRevert:function(){return!1},onRendered:function(){this.set("cursor","default"),e.children[this.id]=this},onStartDrag:function(t,i){if(2==i.button)return!1;if(e.colresizing)return!1;if(!e.columns.length)return!1;this.set("cursor","default");var r=e._getSrcElementByEvent(i);if(!r.cell||!r.data||r.checkbox)return!1;var n=r.cell.id.split("|"),o=e._columns[n[n.length-1]];if(!(r.rownumberscell||r.detailcell||r.checkboxcell||o==e.columns[0]))return!1;if(e.enabledCheckbox()){if(this.draggingRows=e.getSelecteds(),!this.draggingRows||!this.draggingRows.length)return!1}else this.draggingRows=[r.data];this.draggingRow=r.data,this.set("cursor","move"),e.rowdragging=!0,this.validRange={top:e.gridbody.offset().top,bottom:e.gridbody.offset().top+e.gridbody.height(),left:e.grid.offset().left-10,right:e.grid.offset().left+e.grid.width()+10}},onDrag:function(i,r){var n=this.draggingRow;if(!n)return!1;var o=this.draggingRows?this.draggingRows:[n];if(e.colresizing)return!1;null==e.rowDropIn&&(e.rowDropIn=-1);var a=r.pageX,s=r.pageY,l=!1,d=this.validRange;if(a<d.left||a>d.right||s>d.bottom||s<d.top)return e.rowDropIn=-1,e.rowDroptip.hide(),void this.proxy.find(".l-drop-icon:first").removeClass("l-drop-yes l-drop-add").addClass("l-drop-no");for(var u in e.rows){var c=e.rows[u],h=c.__id;if(n==c&&(l=!0),-1==$.inArray(c,o)){var g=!!l;if(-1==e.rowDropIn||e.rowDropIn==h){var p=e.getRowObj(h),f=$(p).offset(),m={top:f.top-4,bottom:f.top+$(p).height()+4,left:e.grid.offset().left,right:e.grid.offset().left+e.grid.width()};if(a>m.left&&a<m.right&&s>m.top&&s<m.bottom){var v=f.top;g&&(v+=$(p).height()),e.rowDroptip.css({left:m.left,top:v,width:m.right-m.left}).show(),e.rowDropIn=h,e.rowDropDir=g?"bottom":"top",t.tree&&s>m.top+5&&s<m.bottom-5?(this.proxy.find(".l-drop-icon:first").removeClass("l-drop-no l-drop-yes").addClass("l-drop-add"),e.rowDroptip.hide(),e.rowDropInParent=!0):(this.proxy.find(".l-drop-icon:first").removeClass("l-drop-no l-drop-add").addClass("l-drop-yes"),e.rowDroptip.show(),e.rowDropInParent=!1);break}-1!=e.rowDropIn&&(e.rowDropIn=-1,e.rowDropInParent=!1,e.rowDroptip.hide(),this.proxy.find(".l-drop-icon:first").removeClass("l-drop-yes  l-drop-add").addClass("l-drop-no"))}}}},onStopDrag:function(i,r){var n=this.draggingRows;e.rowdragging=!1;for(var o=0;o<n.length;o++){var a=n[o].children;a&&(n=$.grep(n,function(e,t){return-1==$.inArray(e,a)}))}if(-1!=e.rowDropIn){if(t.tree){var s,l;e.rowDropInParent?l=e.getRow(e.rowDropIn):(s=e.getRow(e.rowDropIn),l=e.getParent(s)),e.appendRange(n,l,s,"bottom"!=e.rowDropDir),e.trigger("rowDragDrop",{rows:n,parent:l,near:s,after:"bottom"==e.rowDropDir})}else e.moveRange(n,e.rowDropIn,"bottom"==e.rowDropDir),e.trigger("rowDragDrop",{rows:n,parent:l,near:e.getRow(e.rowDropIn),after:"bottom"==e.rowDropDir});e.rowDropIn=-1}e.rowDroptip.hide(),this.set("cursor","default")}}))},_onRowOver:function(e,t){if(!l.draggable.dragging){var i=this,r=this.options,n=i.getRow(e),o=t?"addClass":"removeClass";t&&i.editor.editing&&$("tr."+r.mouseoverRowCssClass,i.gridview).removeClass(r.mouseoverRowCssClass),i.enabledFrozen()&&$(i.getRowObj(n,!0))[o](r.mouseoverRowCssClass),$(i.getRowObj(n,!1))[o](r.mouseoverRowCssClass)}},_onMouseUp:function(e){var t=this;this.options;if(l.draggable.dragging){var i=t._getSrcElementByEvent(e);i.hcell&&i.column?t.trigger("dragdrop",[{type:"header",column:i.column,cell:i.hcell},e]):i.row&&t.trigger("dragdrop",[{type:"row",record:i.data,row:i.row},e])}},_onMouseDown:function(e){this.options},_onContextmenu:function(e){var t=this,i=this.options,r=t._getSrcElementByEvent(e);if(r.row){if(i.whenRClickToSelect&&t.select(r.data),t.hasBind("contextmenu"))return t.trigger("contextmenu",[{data:r.data,rowindex:r.data.__index,row:r.row},e])}else if(r.hcell){if(!i.allowHideColumn)return!0;var n=$(r.hcell).attr("columnindex");if(void 0==n)return!0;var o=e.pageX-t.body.offset().left+parseInt(t.body[0].scrollLeft);return n==t.columns.length-1&&(o-=50),t.popup.css({left:o,top:t.gridheader.height()+1}),t.popup.toggle(),!1}},_onDblClick:function(e){var t=this,i=(this.options,t._getSrcElementByEvent(e));i.row&&t.trigger("dblClickRow",[i.data,i.data.__id,i.row])},_onClick:function(e){var t=e.target||e.srcElement,i=this,r=this.options,n=i._getSrcElementByEvent(e);if(n.out)return i.editor.editing&&!$.ligerui.win.masking&&i.endEdit(),void(r.allowHideColumn&&i.popup.hide());if(!n.indetail&&!n.editing)if(i.editor.editing&&i.endEdit(),r.allowHideColumn&&(n.popup||i.popup.hide()),n.checkboxall){var o=$(n.hrow),a=o.hasClass("l-checked");if(0==i.trigger("beforeCheckAllRow",[!a,i.element]))return!1;a?o.removeClass("l-checked"):o.addClass("l-checked"),i.selected=[];for(var s in i.records)a?i.unselect(i.records[s]):i.select(i.records[s]);i.trigger("checkAllRow",[!a,i.element])}else if(n.hcelltext){var l=$(n.hcelltext).parent().parent();if(!r.enabledSort||!n.column)return;if(0==n.column.isSort)return;if(r.url&&"local"!=r.dataAction&&i.isDataChanged&&!confirm(r.isContinueByDataChanged))return;var d=$(".l-grid-hd-cell-sort:first",l),u=n.column.name;if(!u)return;d.length>0?d.hasClass("l-grid-hd-cell-sort-asc")?(d.removeClass("l-grid-hd-cell-sort-asc").addClass("l-grid-hd-cell-sort-desc"),l.removeClass("l-grid-hd-cell-asc").addClass("l-grid-hd-cell-desc"),i.trigger("ChangeSort",[u,"desc"]),i.changeSort(u,"desc")):d.hasClass("l-grid-hd-cell-sort-desc")&&(d.removeClass("l-grid-hd-cell-sort-desc").addClass("l-grid-hd-cell-sort-asc"),l.removeClass("l-grid-hd-cell-desc").addClass("l-grid-hd-cell-asc"),i.trigger("ChangeSort",[u,"asc"]),i.changeSort(u,"asc")):(l.removeClass("l-grid-hd-cell-desc").addClass("l-grid-hd-cell-asc"),$(n.hcelltext).after("<span class='l-grid-hd-cell-sort l-grid-hd-cell-sort-asc'>&nbsp;&nbsp;</span>"),i.trigger("ChangeSort",[u,"asc"]),i.changeSort(u,"asc")),$(".l-grid-hd-cell-sort",i.gridheader).add($(".l-grid-hd-cell-sort",i.f.gridheader)).not($(".l-grid-hd-cell-sort:first",l)).remove()}else if(n.detailbtn&&r.detail){var c=n.data,o=$([i.getRowObj(c,!1)]);i.enabledFrozen()&&(o=o.add(i.getRowObj(c,!0)));var s=c.__id;if($(n.detailbtn).hasClass("l-open"))r.detail.onCollapse&&r.detail.onCollapse(c,$(".l-grid-detailpanel-inner:first",h)[0]),o.next("tr.l-grid-detailpanel").hide(),$(n.detailbtn).removeClass("l-open");else{var h=o.next("tr.l-grid-detailpanel");if(h.length>0)return h.show(),r.detail.onExtend&&r.detail.onExtend(c,$(".l-grid-detailpanel-inner:first",h)[0]),$(n.detailbtn).addClass("l-open"),void i.trigger("SysGridHeightChanged");$(n.detailbtn).addClass("l-open");for(var g=0,p=0;p<i.columns.length;p++)i.columns[p].frozen&&g++;var f=$("<tr class='l-grid-detailpanel'><td><div class='l-grid-detailpanel-inner' style='display:none'></div></td></tr>"),m=$("<tr class='l-grid-detailpanel'><td><div class='l-grid-detailpanel-inner' style='display:none'></div></td></tr>");f.find("div:first").width(i.gridheader.find("div:first").width()-50),f.attr("id",i.id+"|detail|"+s),i.detailrows=i.detailrows||[],i.detailrows.push(f[0]),i.detailrows.push(m[0]);var v=$("div:first",f);v.parent().attr("colSpan",i.columns.length-g),o.eq(0).after(f),g>0&&(m.find("td:first").attr("colSpan",g),o.eq(1).after(m)),r.detail.onShowDetail?(r.detail.onShowDetail(c,v[0],function(){i.trigger("SysGridHeightChanged")}),$("div:first",m).add(v).show().height(r.detail.height||r.detailHeight)):r.detail.render&&(v.append(r.detail.render()),v.show()),i.trigger("SysGridHeightChanged")}}else if(n.groupbtn){var y=$(n.grouprow),b=!0;$(n.groupbtn).hasClass("l-grid-group-togglebtn-close")?($(n.groupbtn).removeClass("l-grid-group-togglebtn-close"),y.hasClass("l-grid-grouprow-last")&&$("td:first",y).width("auto")):(b=!1,$(n.groupbtn).addClass("l-grid-group-togglebtn-close"),y.hasClass("l-grid-grouprow-last")&&$("td:first",y).width(i.gridtablewidth));for(var w=y.next(".l-grid-row,.l-grid-totalsummary-group,.l-grid-detailpanel");;){if(0==w.length)break;b?(w.show(),w.hasClass("l-grid-detailpanel")&&!w.prev().find("td.l-grid-row-cell-detail:first span.l-grid-row-cell-detailbtn:first").hasClass("l-open")&&w.hide()):w.hide(),w=w.next(".l-grid-row,.l-grid-totalsummary-group,.l-grid-detailpanel")}i.trigger(b?"groupExtend":"groupCollapse"),i.trigger("SysGridHeightChanged")}else if(n.treelink)i.toggle(n.data);else if(n.row&&i.enabledCheckbox()){var x=!!r.selectRowButtonOnly;if(r.enabledEdit&&(x=!0),"a"==t.tagName.toLowerCase())return;if((n.checkbox||!x)&&0!=r.selectable){var o=$(n.row),a=o.hasClass("l-selected");if(0==i.trigger("beforeCheckRow",[!a,n.data,n.data.__id,n.row]))return!1;var _=a?"unselect":"select";if(i[_](n.data),r.tree&&r.autoCheckChildren)for(var C=i.getChildren(n.data,!0),p=0,D=C.length;p<D;p++)i[_](C[p]);i.trigger("checkRow",[!a,n.data,n.data.__id,n.row])}!n.checkbox&&n.cell&&r.enabledEdit&&r.clickToEdit&&i._applyEditor(n.cell)}else if(n.row&&!i.enabledCheckbox()&&0!=r.selectable)if(n.cell&&r.enabledEdit&&r.clickToEdit&&i._applyEditor(n.cell),$(n.row).hasClass("l-selected")){if(!r.allowUnSelectRow)return void $(n.row).addClass("l-selected-again");i.unselect(n.data)}else i.select(n.data);else if(n.toolbar)if(n.first){if(0==i.trigger("toFirst",[i.element]))return!1;i.changePage("first")}else if(n.prev){if(0==i.trigger("toPrev",[i.element]))return!1;i.changePage("prev")}else if(n.next){if(0==i.trigger("toNext",[i.element]))return!1;i.changePage("next")}else if(n.last){if(0==i.trigger("toLast",[i.element]))return!1;i.changePage("last")}else if(n.load){if($("span",n.load).hasClass("l-disabled"))return!1;if(0==i.trigger("reload",[i.element]))return!1;if(r.url&&i.isDataChanged&&!confirm(r.isContinueByDataChanged))return!1;i.loadData(r.where)}},select:function(e){var t=this,i=this.options,r=t.getRow(e),n=r.__id,o=t.getRowObj(n);if(i.rowSelectable&&0!=t.trigger("beforeSelectRow",[r,n,o])){var a=t.getRowObj(n,!0);if(!t.enabledCheckbox()&&!t.ctrlKey||i.isSingleCheck){for(var s in t.selected){var l=t.selected[s];l.__id in t.records&&($(t.getRowObj(l)).removeClass("l-selected l-selected-again"),t.enabledFrozen()&&$(t.getRowObj(l,!0)).removeClass("l-selected l-selected-again"))}t.selected=[]}o&&$(o).addClass("l-selected"),a&&$(a).addClass("l-selected"),t.selected[t.selected.length]=r,t.trigger("selectRow",[r,n,o])}},unselect:function(e){var t=this,i=(this.options,t.getRow(e)),r=i.__id,n=t.getRowObj(r),o=t.getRowObj(r,!0);$(n).removeClass("l-selected l-selected-again"),t.enabledFrozen()&&$(o).removeClass("l-selected l-selected-again"),t._removeSelected(i),t.trigger("unSelectRow",[i,r,n])},isSelected:function(e){var t=this,i=(this.options,t.getRow(e));for(var r in t.selected)if(t.selected[r]==i)return!0;return!1},arrayToTree:function(e,t,i){function r(e){return"string"==typeof e&&(e=e.replace(/[.]/g,"").toLowerCase()),e}var n=this.options,o="children";if(n.tree&&(o=n.tree.childrenName),!e||!e.length)return[];for(var a=[],s={},l=e.length,d=0;d<l;d++){var u=e[d],c=r(u[t]);s[c]=u}for(var d=0;d<l;d++){var h=e[d],c=r(h[i]),g=s[c];g?(g[o]=g[o]||[],g[o].push(h)):a.push(h)}return a},_onResize:function(){var e=this,t=this.options;if(t.height&&"auto"!=t.height){var i=$(window).height(),r=0,n=null;if("string"==typeof t.height&&t.height.indexOf("%")>0){var o=e.grid.parent();t.inWindow?(n=i,n-=parseInt($("body").css("paddingTop")),n-=parseInt($("body").css("paddingBottom"))):n=o.height(),r=n*parseInt(t.height)*.01,(t.inWindow||"body"==o[0].tagName.toLowerCase())&&(r-=e.grid.offset().top-parseInt($("body").css("paddingTop")))}else r=parseInt(t.height);r+=t.heightDiff,e.windowHeight=i,e._setHeight(r)}else e._updateHorizontalScrollStatus.ligerDefer(e,10);if(e.enabledFrozen()){var a=e.gridview1.width(),s=e.gridview.width();s-a<=0?e.gridview2.css({width:"auto"}):e.gridview2.css({width:s-a})}e.trigger("SysGridHeightChanged")},showFilter:function(){function e(){var e=o.getData();"server"==r.options.dataType?t(e):i(e)}function t(e){e&&e.rules&&e.rules.length?r.setParm("where",JSON.stringify(e)):r.removeParm("where"),r.loadData()}function i(e){r.loadData($.ligerFilter.getFilterFunction(e))}var r=this;this.options;if(r.winfilter)return void r.winfilter.show();var n=$('<div id="'+r.id+'_filtercontainer"></div>').width(380).height(120).hide(),o=n.ligerFilter({fields:function(){var e=[];return $(r.columns).each(function(){var t={name:this.name,display:this.display},i="int"==this.type||"number"==this.type||"float"==this.type,r="date"==this.type;i&&(t.type="number"),r&&(t.type="date"),this.editor&&(t.editor=this.editor),e.push(t)}),e}()});return o.addRule($(o.element.firstChild)),r.winfilter=$.ligerDialog.open({width:420,height:208,target:n,isResize:!0,top:50,buttons:[{text:"ç¡®å®",onclick:function(t,i){e(),i.hide()}},{text:"åæ¶",onclick:function(e,t){t.hide()}}]})}}),$.ligerui.controls.Grid.prototype.enabledTotal=$.ligerui.controls.Grid.prototype.isTotalSummary,$.ligerui.controls.Grid.prototype.add=$.ligerui.controls.Grid.prototype.addRow,$.ligerui.controls.Grid.prototype.update=$.ligerui.controls.Grid.prototype.updateRow,
$.ligerui.controls.Grid.prototype.append=$.ligerui.controls.Grid.prototype.appendRow,$.ligerui.controls.Grid.prototype.getSelected=$.ligerui.controls.Grid.prototype.getSelectedRow,$.ligerui.controls.Grid.prototype.getSelecteds=$.ligerui.controls.Grid.prototype.getSelectedRows,$.ligerui.controls.Grid.prototype.getCheckedRows=$.ligerui.controls.Grid.prototype.getSelectedRows,$.ligerui.controls.Grid.prototype.getCheckedRowObjs=$.ligerui.controls.Grid.prototype.getSelectedRowObjs,$.ligerui.controls.Grid.prototype.setOptions=$.ligerui.controls.Grid.prototype.set,$.ligerui.controls.Grid.prototype.reload=$.ligerui.controls.Grid.prototype.loadData,$.ligerui.controls.Grid.prototype.refreshSize=$.ligerui.controls.Grid.prototype._onResize,$.ligerui.controls.Grid.prototype.append=$.ligerui.controls.Grid.prototype.appendRange}(jQuery),define("ligerui.ligerGrid",["jquery","ligerui.base","ligerui.inject","ligerui.ligerResizable","ligerui.ligerCheckBox"],function(){}),define("page/role/roleDetail",["jquery","Common","Constant","jquery.validate","messages_cn","ligerui.ligerGrid"],function(e,t,i){function r(){var r=n.get("data");"update"===r.name&&t.queryById(i.role.queryById+r.id,{},function(t){var i=t.data;e("#roleName").val(i.roleName),e("#roleKey").val(i.roleKey),e("#roleDesc").val(i.roleDesc)})}var n=frameElement.dialog;return e("#form-wizard").validate({rules:{roleName:{required:!0},roleFlag:{required:!0}},errorClass:"help-inline",errorElement:"span",highlight:function(t,i,r){e(t).parents(".control-group").addClass("error")},unhighlight:function(t,i,r){e(t).parents(".control-group").removeClass("error"),e(t).parents(".control-group").addClass("success")},submitHandler:function(r){t.saveData(i.role.save,{id:n.get("data").id,roleName:e("#roleName").val(),roleKey:e("#roleKey").val(),roleDesc:e("#roleDesc").val()},function(e){t.successMsg("ä¿å­æå"),parent.$("#maingrid4").ligerGrid("reload"),n.close()})}}),e("#bntCanel").click(function(){n.close()}),{init:r}});